<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مستكشف تشفير هيل: برفقة الرياضيات، مسيرًا جنبًا إلى جنب مع التشفير</title>
    <meta name="description" content="تشفير هيل هو خوارزمية تشفير كلاسيكية تنتمي إلى فئة تشفيرات الاستبدال المتعددة الحروف. ما يميزه هو استخدامه للجبر الخطي وضرب المصفوفات لأداء عمليات التشفير وفك التشفير.">    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="icon" type="image/jpg" href="./images/cipher.jpg">
    <style>
        html {
            height: 100%;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 100vh;
            align-items: center;
            margin: 0;
            padding: 0 20px 20px 20px;
            background-color: #0A0F24;
            color: #FFFFFF;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: rgba(10, 15, 36, 0.0);
            transition: background-color 0.5s ease;
            z-index: 1000;
            height: 40px;
        }

        .navbar.solid {
            background-color: rgba(10, 15, 36, 1);
        }   

        #menuIcon {
            cursor: pointer; 
            transition: color 0.3s ease; 
        }
        #menuIcon:hover {
            color: #a3a2a2; 
        }

        #languageIcon {
            cursor: pointer;
            transition: color 0.3s ease;
            position: relative;
            left: -10px;
        }

        #languageIcon:hover {
            color: #a3a2a2;
        }

        .navbar .langUl {
            left: 87px;
            width: 100px;
        }

        .navbar.active ul {
            display: flex;
            flex-direction: column; 
            position: absolute;
            top: 35px; 
            left: 10px;
            width: 15%; 
            background-color: rgba(119, 136, 153, 0.8);
            padding: 10px 0; 
        }

        .navbar.active ul li {
            margin-bottom: 1px; 
        }

        .navbar.active ul li:last-child {
            margin-bottom: 0; 
        }

        .navbar ul {
            display: none;
            flex-direction: column;
            position: absolute;
            top: 50px;
            left: 10px;
            background-color: transparent;
            padding: 10px 0;
            list-style: none;
            margin: 0;
            width: 10%;
        }

        .navbar.active ul {
            display: flex;
        }

        .section.interactive-tool {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #bbbaba;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 80%;
            margin-top: 80px;
            margin-bottom: 150px;
        }

        #inputMessage, #shiftValue {
            width: 60%; 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 5px;
            border: 1px solid #eae6e6;
            font-size: 1em;
        }

        .sections-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 50px auto;
            padding: 20px;
            border-radius: 10px;
            width: 70%;
        }

        .section {
            width: 110%;
            margin-bottom: 30px; 
        }

        section li {
            font-size: 17px;
            line-height: 1.5;
            word-wrap: break-word;
            width: 80%;
            padding-bottom: 10px; 
        }

        .section label {
            display: block;
            margin-bottom: 10px;
        }

        .matrix-display {
            text-align: center;
            padding: 20px;
            background-color: #7fbef5;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .matrix-display p {
            margin: 10px 5px;
            font-size: 1em;
        }

        #matrixInputs {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-left: 0;
        }

        .sections-container h2, .sections-container p {
            text-align: left;
            width: 80%;
        }

        .section.interactive-tool label, 
        .section.interactive-tool p {
            font-size: 1.2em;
        }

        .section input[type="text"], 
        .section textarea {
            width: 700px;  
            padding: 10px;   
            margin-bottom: 20px; 
            border: 1px solid #eae6e6;
            border-radius: 5px;  
            font-size: 0.9em;       
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        #inputText {
            min-height: 100px;
            max-height: 300px;
            resize: vertical;
            padding: 10px;   
        }

        #key {
            height: auto; 
        }

        #result {
            font-weight: bold;
            color: #0A0F24;
            font-family: 'Arial', sans-serif;
            min-height: 100px;
            max-height: 300px;
            overflow-y: auto;
            text-align: left;
            word-wrap: break-word;
            overflow-wrap: break-word;
            resize: vertical;
            font-size: 18px;
            padding-top: 20px;
            padding-bottom: 20px;
            width: 698px;
            line-height: 26px;
        }

        p {  
            margin-bottom: 30px;  
            text-align: left; 
            font-size: 1.2em; 
            line-height: 1.6; 
            margin-bottom: 15px; 
        }

        h2 {  
            margin-bottom: 10px;
            font-size: 28px;
        }

        h3 {
            margin-top: 50px;
            font-size: 22px;
        }

        h4 {
            font-size: 20px;
        }

        .sections-container h2:hover {
            color: #4bcfcf;
            transition: color 0.3s ease;
        }

        .navbar li a {
            color: #FFFFFF; 
            padding: 5px;
            text-decoration: none;
            font-size: 15px;
            background-color: rgba(0, 0, 0, 0.3); 
            display: block;
            border-radius: 5px;
        }

        .navbar ul li {
            margin-bottom: 1px;
        }

        .navbar ul li a:hover {
            background-color: rgba(255, 255, 255, 0.206); 
            color: #0A0F24; 
        }

        .navbar h1 {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            margin-top: 35px;
            margin-right: 0;
            font-size: 30px;
        }

        .navbar-dark {
            background-color: #0A0F24; 
        }

        p { 
            text-align: center;  
            margin-bottom: 30px;
            font-size: 1.2em;  
        }

        h2 {  
            margin-bottom: 10px;  
        }

        button {
            cursor: pointer;
            margin: 10px;
            padding: 8px 15px;
            margin-left: 5px;
            background-color: #0A0F24;
            border: none;
            border-radius: 5px;
            color: #FFFFFF;
            transition: background 0.3s;
        }

        button:hover {
            background-color: #a8a8a8;
            color: #0A0F24;
        }

        .style-selector {
            position: absolute;
            top: 0px;
            right: 50px;
            margin-top: 10px;
        }

        .style-selector button {
            background-color: #0a0f24;
            padding: 5px 10px;
            margin-right: 1px;
            color: #F5F5F5;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .style-selector button:hover {
            background-color: #c0c0c0;
            color: #0a0f24;
        }

        .dark-mode {  
            background-color: #0A0F24;  
            color: white;  
        }

        .light-mode {  
            background-color: white;  
            color: #0A0F24; 
        } 

        .light-mode .navbar, .light-mode .container {
            background-color: #FFFFFF; 
            color: #0A0F24; 
        }

        .light-mode .navbar ul {
            background-color: transparent; 
            color: #0A0F24; 
        }

        .dark-mode .navbar ul li a:hover {
            color: #30eded; 
        }

        .light-mode .navbar ul li:hover {
            color: #0A0F24; 
            background-color: rgba(255, 255, 255, 1);
            border-radius: 5px;
        }

        .navbar {
            justify-content: flex-start; 
        }

        #languageIcon {
            cursor: pointer; 
            transition: color 0.3s ease; 
            margin-left: 30px;
        }

        #languageIcon:hover {
            color: #a3a2a2; 
        }

        #languageSelect {
            padding: 5px 10px;
            margin-left: 10px;
            border-radius: 5px;
            border: none;
            background-color: #5f9ea0;
            color: white;
            cursor: pointer;
        }

        #languageSelect:hover {
            background-color: #2F4F4F;
        }

        .language-dropdown {
            width: 6%;
            display: none;
            list-style: none;
            padding: 10px 0;
            margin: 0;
            position: absolute;
            top: 40px;
            left: 100px; 
            background-color: rgba(119, 136, 153, 0.8);
        }

        .language-dropdown li a {
            color: #FFFFFF;
            padding: 5px;
            margin: 1px;
            text-decoration: none;
            display: block;
            border-radius: 8px;
        }

        .language-dropdown li a:hover {
            background-color: rgba(255, 255, 255, 0.206);
            color: #0A0F24;
        }

        .table-container {
            display: none; 
            justify-content: center;
            align-items: center;
            width: 100%;    
        }

        .table-container.active {
            display: block;
        }

        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        .button-container button {
            margin-right: 0px; 
        }

        .footer {
            position: relative; 
            width: 100%;
            background-color: #0A0F24;
            color: #FFFFFF;
            text-align: center;
            padding: 10px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            margin-bottom: -20px;
        }

        .footer a {
            color: #F5F5F5;
            text-decoration: none;
            margin: 0 12px;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: #a3a2a2;
        }

        .footer p {
            margin: 0;
            font-size: 16px;
        }

        .learnMore {
            color: #007bff;
            cursor: pointer;
            text-decoration: underline;
        }

        .moreContent p {
            margin-top: 10px;
        }

        #moreContent2 { 
            color: #0A0F24;
            background-color: #e9f4f4;
            padding: 10px;
            border-radius: 8px; 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 74%;
        }

        .clear-all-button {
            background-color: #47d7ff;
        }

        .clear-all-button:hover {
            background-color: #57f7ff;
        }

        img {
            display: block;
            width: 75%;
            margin-bottom: 50px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .navbar li {
            position: relative;
        }

        .navbar li>a {
            display: block;
        }

        .navbar .submenu {
            display: none;
            position: absolute;
            left: 101%;
            top: 0;
            background-color: transparent;
            border-radius: 5px;
            padding: 0;
            min-width: 150px;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .navbar .submenu li {
            display: block;
            border-bottom: none;
            width: 100%;
        }

        .navbar .submenu li:last-child {
            border-bottom: none;
        }

        .navbar li:hover>.submenu {
            display: block;
        }

        .navbar .submenu a {
            color: #ffffff;
            padding: 5px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s ease;
        }

        .navbar .submenu a:hover {
            background-color: rgba(255, 255, 255, 0.206);
        }

        .form-group {
            padding: 20px;
            margin: 20px auto;
            border: 1px solid #eae6e6;
            border-radius: 10px;
            background-color: #1C3A70;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            width: 80%; 
        }

        .form-group button {
            background-color: #0A0F24;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-right: 10px;
        }

        .form-group button:hover {
            background-color: #c0c0c0;
            color: #0A0F24;
        }

        .form-group #matrixDisplay {
            padding: 15px;
            background-color: #f7cb95;
            border-radius: 5px;
            text-align: center;
            margin-top: 15px;
            color: #0A0F24;
        }

        .dark-mode .matrix-dark {
            background-color: #2F4F4F;  
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            margin-top: 15px;
        }

        .light-mode .matrix-display {
            color: #f9be77;
        }

        .form-group #toggleMatrixDisplay {
            background-color: #0A0F24;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            width: 150px;
        }

        .form-group #toggleMatrixDisplay:hover {
            background-color: #c0c0c0;
            color: #0A0F24;
        }

        .right-shifted-paragraph {
            margin-left: 220px;
            width: 110%;
        }

        #backToTop {
            position: absolute;
            bottom: 5px;
            right: 30px;
            z-index: 99;
            border: none;
            outline: none;
            background-color: #0a0f24;
            color: white;
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            font-size: 14px;
            display: block;
        }

        #backToTop:hover {
            background-color: #c0c0c0;
            color: #0a0f24;
        }

        .language-list{
            float: right;
        }
        .language-list a{
            margin-left: 20px;
            color: white;
        }

        .language-list a:hover{
            color: #4bcfcf;
        }

        .language-list a {
            text-decoration: none;
        }

        .highlight-key { 
            font-weight: 800;
        }

        .support-links {
            flex: 1;
            text-align: left;
            margin-left: 50px;
            margin-bottom: -50px;
            margin-top: -32px;

        }

        .support-links h3 {
            font-size: 18px;
            color: white;
        }

        .support-links ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .support-links li {
            margin-bottom: 5px;
        }

        .support-links a {
            color: white;
            text-decoration: none;
        }

        .support-links a:hover {
            text-decoration: underline;
        }

        @media screen and (max-width: 768px) {
            .navbar h1 {
                font-size: 18px;
                position: absolute;
                top: -25px; 
            }

            .sections-container {
                margin-left: auto;
                margin-right: auto;
                align-items: center;
                width: 90%;
            }

            .sections-container h2{
                font-size: 1.2em;
                margin-top: -10px;
            }

            .section {
                width: 100%;
                padding: 10px;
            }

            .right-shifted-paragraph {
                margin-left: 80px;
                width: 110%;
            }

            .right-shifted-paragraph h2 {
                font-size: 1.2em;
            }

            h3 {
                font-size: 0.9em; 
            }

            h4 {
                font-size: 0.8em; 
            }

            p {
                font-size: 0.9em; 
            }

            section li {
                font-size: 14px;
                margin-left: -15px;
            }

            figcaption {
                margin-top: -40px;
                margin-bottom: 40px;
                margin-left: 20px;
                font-size: 10px;
                color: #007bff;
                font-weight: bold;
            }

            .footer p {
                margin: 0;
                font-size: 10px;
            }

            #backToTop {
                content: '▲';
                padding: 4px 5px;
                font-size: 14px;
                right: 10px;
                bottom: 0px;
            }

            .section input[type="text"], 
            .section textarea {
                width: 100%;
            }

            .navbar ul {
                width: 25%;
            }

            .navbar ul li {
                padding: 0 5px 0 0;
            }

            .navbar li a {
                padding: 5px;
            }

            .navbar li a {
                font-size: 10px;
                width: 100%;
                padding: 5px 0px 5px 5px;
            }

            .navbar .submenu {
                left: 100%;
            }

            .navbar .submenu li {
                display: block;
                border-bottom: none;
                width: 50%;
                padding: 0 5px 0 0;
            }

            .navbar .submenu li a {
                padding: 5px 0px 5px 5px;
            }
            
            #menuIcon {
                font-size: 0; /* Hide text */
            }
            #menuIcon::before {
                content: '\2630'; /* Unicode character for ☰ */
                font-size: 16px; /* Or any other size you prefer */
            }

            #languageIcon {
                font-size: 0; 
            }

            #languageIcon::before {
                content: '\2637';
                font-size: 16px; /* Or any other size you prefer */
            }

            .navbar .langUl {
                left: 42px;
                width: 65px;
            }

            #darkStyle {
                font-size: 0;
                margin-left: 10px;
                padding: 5px 8px;
            }

            #lightStyle {
                font-size: 0;
                margin-right: -10px;
            }

            #darkStyle::before {
                font-size: 9px;
            }

            #lightStyle::before {
                font-size: 10px;
            }

            #darkStyle::before {
                content: "🌙";
            }

            #lightStyle::before {
                content: "☀";
            }

            #result {
                width: 72vw;
                font-size: 15px;
            }

            .social-links i {
                font-size: 12px;
            }

            .support-links {
                flex: 1;
                text-align: left;
                margin-left: 0;
                margin-bottom: -50px;
                font-size: 10px;
            }

            .support-links h3 {
                font-size: 10px;
            }
        }
    </style>
</head>

<body class="dark-mode">
    <header>
        <nav class="navbar">
            <div id="menuIcon">&#9776; القائمة</div>
            <div id="menuItems"></div>
            <ul class="menuUl">
                <li>
                    <a href="https://chatcipherai.com/ar/chatcipherai.html"><strong>عالم أنظمة التشفير</strong></a>
                    <ul class="submenu">
                        <li><a href="https://chatcipherai.com/ar/Caesar_Cipher.html"><strong>شفرة قيصر</strong></a></li>
                        <li><a href="https://chatcipherai.com/ar/Playfair_Cipher.html"><strong>شفرة بلاي فير</strong></a></li>
                        <li><a href="https://chatcipherai.com/ar/Four_Square_Cipher.html"><strong>شيفرة أربعة مربعات</strong></a></li>
                        <li><a href="https://chatcipherai.com/ar/Hill_Cipher.html"><strong>شفرة هيل</strong></a></li>  
                    </ul>
                </li>
                <li><a href="https://chatcipherai.com/ar/Hash_value_test.html"><strong>اختبار قيمة الهاش</strong></a></li>
                <li><a href="https://chatcipherai.com/ar/Morsecode_main.html"><strong>مترجم شفرة مورس</strong></a></li>
                <li><a href="https://chatcipherai.com/ar/Shortcut_Key_Description.html"><strong>وصف مفاتيح الاختصار</strong></a></li>
            </ul> 

            <div id="languageIcon">&#x2637; لغة</div>
            <div id="languageItems">
                <ul class="langUl">
                    <li><a href="https://chatcipherai.com/en/Hill_Cipher.html" title="English">English</a></li>
                    <li><a href="https://chatcipherai.com/fr/Hill_Cipher.html" title="Français">Français</a></li>
                    <li><a href="https://chatcipherai.com/es/Hill_Cipher.html" title="Español">Español</a></li>
                    <li><a href="https://chatcipherai.com/zh-CN/Hill_Cipher.html" title="中文（简体）">中文（简体）</a></li>
                    <li><a href="https://chatcipherai.com/zh-TW/Hill_Cipher.html" title="中文（繁体）">中文（繁体）</a></li>
                    <li><a href="https://chatcipherai.com/ar/Hill_Cipher.html" title="العربية">العربية</a></li>
                    <li><a href="https://chatcipherai.com/ru/Hill_Cipher.html" title="Русский">Русский</a></li>
                    <li><a href="https://chatcipherai.com/pt/Hill_Cipher.html" title="Português">Português</a></li>
                    <li><a href="https://chatcipherai.com/de/Hill_Cipher.html" title="Deutsch">Deutsch</a></li>
                    <li><a href="https://chatcipherai.com/hi/Hill_Cipher.html" title="हिन्दी">हिन्दी</a></li>
                    <li><a href="https://chatcipherai.com/nl/Hill_Cipher.html" title="Nederlands">Nederlands</a></li>
                </ul>
            </div>
            
            <h1>مستكشف تشفير هيل</h1>
            <div class="style-selector">
                <button id="darkStyle">🌙 النمط الداكن(<span class="highlight-key">N</span>)</button>
                <button id="lightStyle">☀ النمط الفاتح(<span class="highlight-key">L</span>)</button>
            </div> 
        </nav>
    </header>

    <main class="sections-container">           
        <section class="section interactive-tool">
            <h2>جرب تشفير هيل</h2>
        
            <div id="matrixInputs">
                <label for="key">أدخل مفتاح المصفوفة: مصفوفة 2x2</label>
                <input type="text" id="key" placeholder="مثال، 1,2,3,4">
                <label for="inputText">أدخل النص:</label>
                <textarea id="inputText" placeholder="أدخل النص هنا："></textarea>
                <label>النتيجة:</label>
                <div id="result" ></div>
            </div>
        
            <div id="button-group">
                <button onclick="encrypt()">تشفير(<span class="highlight-key">E</span>)</button>
                <button onclick="decrypt()">فك التشفير(<span class="highlight-key">D</span>)</button>
                <button id="clearAllButton" class="clear-all-button" onclick="clearAll()">مسح الكل(<span class="highlight-key">A</span>)</button>
            </div>
        </section>        
        
        <section class="form-group">
            <button onclick="generateMatrix()">توليد مصفوفة قابلة للعكس 2x2(<span class="highlight-key">G</span>)</button>
            <button id="copyMatrix" onclick="copyMatrixToClipboard()">نسخ المصفوفة(<span class="highlight-key">C</span>)</button>
            <button id="toggleMatrixDisplay" onclick="toggleMatrixDisplay()">إغلاق(<span class="highlight-key">o</span>)</button>
            <div id="matrixDisplay"></div>
        </section>        

        <section class="right-shifted-paragraph">
            <h2>كيف أستخدم تشفير هيل؟</h2>
            <p>
                استخدام تشفير هيل يتطلب بعض المعرفة بالجبر الخطي، وتحديدًا عمليات المصفوفات. يمكن تقسيم هذه العملية إلى عدة خطوات: اختيار المفتاح، التشفير، وفك التشفير.
            </p>
            <h3>اختيار المفتاح:</h3>
            <p>
                أولاً، تحتاج إلى اختيار مفتاح، وهو مصفوفة قابلة للعكس. في تشفير هيل، المفتاح هو مصفوفة بحجم n×n، حيث n هو أي عدد تختاره. من المهم أن تكون هذه المصفوفة قابلة للعكس (أي يجب أن يكون لها معكوس) حيث يتطلب معكوسها أثناء عملية فك التشفير.
            </p>
            <h3>تحضير النص:</h3>
            <p>
                قسّم نصك الأصلي (الرسالة التي تحتاج إلى تشفيرها) إلى كتل بطول n. إذا كانت الكتلة الأخيرة أقصر من n حرفًا، يمكنك ملؤها ببعض الأحرف الزائدة (مثل الحرف X). يجب تعيين كل حرف إلى رقم؛ على سبيل المثال، يمكنك استخدام التعيين A=0, B=1, C=2, ..., Z=25.
            </p>
            <h3>عملية التشفير:</h3>
            <p>
                لكل كتلة من النص الأصلي بطول n، عاملها كمتجه عمودي واضربها في مصفوفة المفتاح. ثم يؤخذ الناتج معامل 26 (نظرًا لأن الأبجدية تحتوي على 26 حرفًا). يتم تطبيق هذه العملية معامل 26 على كل عنصر من عناصر ضرب المصفوفات. المتجه العمودي الجديد الناتج يوافق كتلة النص المشفر.
            </p>
            <h3>عملية فك التشفير:</h3>
            <p>
                لفك التشفير، تحتاج أولاً إلى حساب معكوس مصفوفة المفتاح، مع التأكد من أن جميع العناصر في المعكوس هي أعداد صحيحة. هذا يتضمن عادةً إيجاد المصفوفة المرافقة ومحدد مصفوفة المفتاح، ثم أخذ معكوس المحدد معامل 26. باستخدام هذه المصفوفة المعكوسة، يتم الحصول على الكتلة الأصلية للنص الأصلي بضرب كتلة النص المشفر بها وأخذ النتيجة معامل 26.
            </p>
            <h4>ما هي عملية معامل 26؟</h4>
            <p>
                تشير "عمليات معامل 26" إلى نوع من الحسابات الرياضية التي تستخدم غالبًا في التعامل مع المشكلات ضمن مجموعة محدودة، خاصة في التشفير ونظرية الأعداد. عملية المعامل هي نوع من القسمة التي بدلاً من إعطاء الناتج، تعطي باقي القسمة، وتشير معامل 26 على وجه التحديد إلى الباقي بعد القسمة بـ 26.
            </p>
            
            <p>
                لأي عدد صحيح 'a'، نتيجة عملية القسمة المتبقية على 26 هي الباقي بعد قسمة 'a' على 26. يُرمز لها رياضيًا بـ 'a mod 26'، وتُقرأ "'a' موديلو 26". نتيجة عملية <a href="https://en.wikipedia.org/wiki/Modulo" rel="noopener noreferrer" target="_blank" style="color: #007bff; font-size: 1.0em;">الموديلو</a> 26 هي دائمًا عدد صحيح بين 0 و 25، مما يشمل 26 نتيجة ممكنة. في سياق شيفرة هيل، تضمن عمليات الموديلو 26 أن جميع النتائج الحسابية تقع ضمن النطاق من 0 إلى 25، متوافقة مع 26 حرفًا من الأبجدية. على سبيل المثال، 'A' تعتبر 0، 'B' هي 1، وهكذا حتى 'Z' التي هي 25.
            </p>

            <p>
                عند تشفير نص باستخدام <a href="https://en.wikipedia.org/wiki/Hill_cipher" rel="noopener noreferrer" target="_blank" style="color: #007bff; font-size: 1.0em;">شيفرة هيل</a>، يتم أولاً تحويل كل حرف إلى الرقم المقابل له (A=0, B=1, ..., Z=25). بعد عملية ضرب المصفوفة وعمليات أخرى، يتم تطبيق عمليات القسمة المتبقية على 26 على القيم العددية النهائية لربطها مرة أخرى بالنطاق من 0 إلى 25، ثم تحويلها مرة أخرى إلى حروف. هذا لضمان أن النتائج بعد كل عملية تظل حروفًا صالحة. إذا كان لديك قيمة عددية قدرها 29، وقمت بإجراء عملية القسمة المتبقية على 26 عليها، فسيكون الناتج هو باقي قسمة 29 على 26، والذي هو 3. في سياق شيفرة هيل، هذا يعني أن القيمة العددية 29 تتوافق مع الحرف 'D'.
            </p>

            <p>
                في تشفير هيل، المفتاح هو مصفوفة قابلة للعكس، ويُمثل النص الأصلي كسلسلة من المتجهات. تشمل عملية التشفير التحويل الخطي (ضرب المصفوفة) لمتجهات النص الأصلي بمصفوفة المفتاح، يليه تطبيق عمليات موديلو 26 لضمان أن كل عنصر هو عدد صحيح بين 0 إلى 25، وبالتالي قادر على أن يُعاد تعيينه إلى الحروف.
            </p>
            <p>
                باختصار، عمليات موديلو 26 هي خطوة حاسمة في تشفير هيل تضمن أن تظل النتائج الحسابية ضمن حدود الأبجدية، مما يسمح لخوارزمية التشفير بالعمل ضمن مجموعة محدودة من الحروف مع الحفاظ على التماثل في عملية التشفير وفك التشفير.
            </p>
            <h3>مثال:</h3>
            <p>
                لنفترض أننا اخترنا مصفوفة مفتاح 2×2 ونصنا الأصلي هو "HELLOWORLD". نستخدم مصفوفة المفتاح [[3,3],[2,5]] ونقسم الرسالة المشفرة 'HELLOWORLD' إلى كتل من حرفين لكل منها. يتم تعيين الحروف رقميًا وفقًا للتسلسل الذي يكون فيه A=0، B=1، C=2، ..., وZ=25.
            </p>
            <p>1. بالنسبة للكتلة [7,4] (الموافقة لـ "HE") :
            <br>
                • ضرب المصفوفة باستخدام مصفوفة المفتاح :
            </p>
            
            <p>
                $$
                \left[
                \begin{array}{cc}
                3 & 3 \\
                2 & 5 \\
                \end{array}
                \right]
                \left[
                \begin{array}{c}
                7 \\
                4 \\
                \end{array}
                \right]
                =
                \left[
                \begin{array}{c}
                3 \cdot 7 + 3 \cdot 4 \\
                2 \cdot 7 + 5 \cdot 4 \\
                \end{array}
                \right]
                =
                \left[
                \begin{array}{c}
                21 + 12 \\
                14 + 20 \\
                \end{array}
                \right]
                =
                \left[
                \begin{array}{c}
                33 \\
                34 \\
                \end{array}
                \right]
                $$
            </p>

            <p>
                • خذ كل عنصر modulo 26:
                $$
                \left[
                \begin{array}{c}
                33 \\
                34 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                7 \\
                8 \\
                \end{array}
                \right]
                $$
                • تحويل الأرقام إلى أحرف: 7->H،8->I. ولذلك، يتم تشفير "HE" إلى "HI".
            </p>

            <p>2. بالنسبة للكتلة [11,11] (الموافقة لـ "LL") :
                <br>
                • خذ كل عنصر modulo 26 :
            </p>

            <p>
                $$
                \left[
                \begin{array}{c}
                66 \\
                77 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                14 \\
                25 \\
                \end{array}
                \right]
                $$
                • تحويل الأرقام إلى أحرف: 14->O، 25->Z. ولذلك، يتم تشفير "LL" إلى "OZ".
            </p>

            <p>3. بالنسبة للكتلة [14،22] (الموافق لـ "OW"):
                <br>
                • خذ كل عنصر modulo 26 :
            </p>

            <p>
                $$
                \left[
                \begin{array}{c}
                108 \\
                138 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                4 \\
                8 \\
                \end{array}
                \right]
                $$
                • تحويل الأرقام مرة أخرى إلى الحروف: 4->E، 8->I. ولذلك، يتم تشفير "OW" إلى "EI".
            </p>

            <p>4. بالنسبة للكتلة [14،17] (تتوافق مع "OR"):
                <br>
                • خذ كل عنصر modulo 26 :
            </p>

            <p>
                $$
                \left[
                \begin{array}{c}
                93 \\
                113 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                15 \\
                9 \\
                \end{array}
                \right]
                $$
                • تحويل الأرقام مرة أخرى إلى الحروف: 15->P، 9->J. لذلك، يتم تشفير "OR" إلى "PJ".
            </p>

            <p>5. بالنسبة للكتلة [11،3] (الموافقة لـ "LD"):
                <br>
                • خذ كل عنصر modulo 26 :
            </p>

            <p>
                $$
                \left[
                \begin{array}{c}
                42 \\
                37 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                16 \\
                11 \\
                \end{array}
                \right]
                $$
                • تحويل الأرقام إلى حروف: 16->Q، 11->L. ولذلك، يتم تشفير "LD" إلى "QL".
            </p>

            <p>
                بعد دمج هذه الكتل المشفرة، نحصل على النص المشفر النهائي: <strong>"HIOZEIPJQL"</strong>.
                يُظهر هذا الإجراء كيف يستخدم تشفير هيل عمليات المصفوفات من الجبر الخطي لتشفير النص.
            </p>            

            <h2>تشفير هيل: فهم الميزات الرئيسية وآلية التشفير</h2>
            <p>
                يشتهر <strong>تشفير هيل</strong> باعتماده على <em>عمليات المصفوفات</em> في عمليات التشفير وفك التشفير. جانب أساسي من وظائفه هو <strong>قابلية مصفوفة المفتاح للعكس</strong>. بدون مصفوفة مفتاح قابلة للعكس، والتي تتطلب محدد غير صفري ومعكوس حسابي، يصبح فك التشفير مستحيلًا.
            </p>
            <h3>الجوانب الحاسمة لعمليات التشفير وفك التشفير</h3>
            <p>
                تعتمد كفاءة التشفير وفك التشفير لتشفير هيل على <strong>قابلية مصفوفة المفتاح للعكس</strong>. تتضمن هذه العملية تحويل البيانات النصية إلى متجهات رقمية، والتي يتم بعد ذلك تحويلها باستخدام ضرب المصفوفة.
            </p>
            <ul>
                <li><strong>قابلية المصفوفة للعكس:</strong> المصفوفة القابلة للعكس، أو غير المفردة، تقترن بمصفوفة معكوسة لإنتاج مصفوفة الهوية - عامل حاسم لفك التشفير.</li>
                <li><strong>المحدد والمعكوس الحسابي:</strong> يوفر المحدد رؤى حول قابلية المصفوفة للعكس، ضروري لعمليات فك التشفير الفعالة ضمن إطار الحساب الحسابي الوحدوي لتشفير هيل.</li>
            </ul>
            <p>
                للتلخيص، اختيار مصفوفة مفتاح قابلة للعكس أمر حيوي لتشفير هيل، مما يضمن أن يمكن فك تشفير المعلومات المشفرة بنجاح. هذا يبرز أهمية فهم عمليات المصفوفات والحساب الحسابي الوحدوي في التشفير.
            </p>
            
            <h2>هل يمكن استخدام تشفير هيل مع مصفوفة 3x3 أو مصفوفات من رتب أعلى؟</h2>
            <p>
                الجواب هو نعم. إحدى الميزات الرئيسية لتشفير هيل هي أنه يمكن استخدام مصفوفات مربعة بأي حجم كمصفوفة المفتاح، شريطة أن تكون المصفوفة قابلة للعكس (أي أن لها مصفوفة معكوسة تحت الوحدة المستخدمة).
            </p>
            
            <p>
                استخدام مصفوفة 3x3 أو مصفوفة من رتبة أعلى يمكن أن يعزز الأمان لأنها تزيد من تعقيد المفتاح. ومع ذلك، مع زيادة حجم المصفوفة، تصبح العمليات الحسابية المطلوبة للتشفير وفك التشفير أكثر تعقيدًا وتستغرق وقتًا أطول. بالإضافة إلى ذلك، لمطابقة حجم مصفوفة المفتاح، يجب أيضًا زيادة حجم كتل النص، مما قد يستلزم استخدام المزيد من الأحرف الإضافية لتناسب تشفير الكتلة الأخيرة.
            </p>
            
            <p>
                على سبيل المثال، استخدام مصفوفة مفتاح 3x3 سيتطلب تقسيم النص إلى كتل من ثلاثة أحرف لكل منها. يتم تحويل كل حرف إلى قيمة عددية، ثم يتم تنظيم هذه القيم الثلاثة في متجه ليتم ضربه بمصفوفة المفتاح. تزيد هذه الطريقة من التوليفات الممكنة للمفتاح، مما يعزز أمان خوارزمية التشفير.
            </p>
            <p>
                يتيح مرونة تشفير هيل استخدام مصفوفات المفتاح بأحجام متنوعة، بما في ذلك مصفوفات 3x3 ومصفوفات من رتب أعلى. اختيار مصفوفات من رتب أعلى يمكن أن يعزز التشفير ولكن يتطلب أيضًا المزيد من الموارد الحسابية واستراتيجيات المعالجة النصية المناسبة.
            </p>
            
            <h2>الفروق بين تشفير هيل وتشفير بلايفير في العمليات الحسابية</h2>
            <p>
                كلا من <strong>تشفير هيل وتشفير بلايفير</strong> هما تقنيتان كلاسيكيتان للتشفير تتمتعان بطرق فريدة لاستبدال الحروف. على الرغم من هدفهما المشترك في تأمين الرسائل النصية العادية، إلا أنهما يختلفان بشكل كبير في طريقة تشغيلهما. فهم هذه الاختلافات أمر ضروري لعشاق ومحترفي التشفير على حد سواء.
            </p>
            <h3>المبادئ والطرق</h3>
            <ul>
                <li><strong>تشفير هيل:</strong> يعمل عن طريق تقسيم النص الأصلي إلى كتل ذات طول ثابت وتشفيرها بمصفوفة مفتاح، باستخدام الحسابات الوحدوية لإنشاء النص المشفر. يعتمد فك التشفير على معكوس مصفوفة المفتاح.</li>
                <li><strong>تشفير بلايفير:</strong> يشفر أزواج الحروف باستخدام مصفوفة مفتاح 5x5 بناءً على كلمة مفتاحية، مطبقًا قواعد محددة للحروف المتكررة وأزواج الحروف الفردية، مع اتباع فك التشفير للعكس من هذه القواعد.</li>
            </ul>
            <h3>طول المفتاح وبنائه</h3>
            <ul>
                <li><strong>تشفير هيل:</strong> يستخدم مفتاح مصفوفة، يعتمد الحجم على حجم الكتلة (على سبيل المثال، 2x2، 3x3).</li>
                <li><strong>تشفير بلايفير:</strong> يستخدم كلمة مفتاحية لبناء مصفوفة 5x5 لعمليات التشفير وفك التشفير.</li>
            </ul>
            <h3>تجميع النص الأصلي وإنشاء النص المشفر</h3>
            <ul>
                <li><strong>تشفير هيل:</strong> يقسم النص الأصلي إلى كتل ذات حجم متساو، باستخدام العمليات الرياضية للتشفير.</li>
                <li><strong>تشفير بلايفير:</strong> يفصل النص الأصلي إلى أزواج، مستخدمًا قواعد مصفوفة المفتاح لإنشاء النص المشفر.</li>
            </ul>
            
            <h2>كيف يتعامل تشفير هيل مع تشفير وفك تشفير النصوص ذات عدد فردي من الحروف؟</h2>
            <p>
                عند مواجهة نص بطول فردي، مشابهًا لتشفير بلايفير، يحتاج تشفير هيل أيضًا إلى طريقة للتعامل مع الكتلة الأخيرة غير المكتملة. إليك عدة طرق مدرجة للتعامل مع النصوص ذات الأطوال الفردية:
            </p>
            <ul>
                <li><strong>الحشو:</strong> الطريقة الأكثر شيوعًا هي إضافة حرف أو أكثر محدد مسبقًا (مثل X أو 0) في نهاية النص لتلبية متطلبات المصفوفة. هذا يضمن أنه يمكن تشفير جميع الحروف. على سبيل المثال، إذا كنت تستخدم مصفوفة 2x2 وكان طول النص فرديًا، يمكنك إضافة حرف في نهاية النص لجعل طوله زوجيًا. هذه هي الطريقة المستخدمة أيضًا على هذه الصفحة الويب.</li>
                <li><strong>التعامل الخاص بالحرف الأخير:</strong> طريقة أخرى هي معالجة الحرف الأخير على حدة. على سبيل المثال، يمكنك ببساطة ترك الحرف الأخير دون تغيير أو تشفيره باستخدام بعض طرق التشفير البسيطة، بدلاً من استخدام طريقة التشفير هيل.</li>
                <li><strong>تعديل حجم المصفوفة:</strong> إذا أمكن، يمكن أيضًا اختيار مصفوفة بحجم مختلف لتشفير الكتلة الأخيرة. على سبيل المثال، إذا كان يتم استخدام مصفوفة 3x3 عادة، ولكن يتبقى حرف واحد أو اثنين فقط، يمكن استخدام مصفوفة 2x2 أو 1x1 للتعامل مع الحروف المتبقية. تتطلب هذه الطريقة مصفوفة إضافية وقد تعقد عملية التشفير.</li>
            </ul>
            <p>
                يعتمد اختيار الطريقة على سيناريو التطبيق المحدد ومتطلبات الأمان. عادةً، الحشو هو الطريقة الأبسط والأكثر وضوحًا، ولكن لكل نهج مزايا وعيوب. المفتاح هو ضمان أن تظل عمليات التشفير وفك التشفير متسقة وأن يكون كلا الطرفين واضحين بشأن كيفية التعامل مع النص بشكل صحيح.
            </p>            
        </section>
    </main>

    <footer class="footer">
        <div class="support-links">
            <h3>الدعم</h3>
            <ul>
                <li><a href="https://tap5ai.com/" target="_blank" rel="noopener noreferrer">Tap5 AI</a></li>
            </ul>            
        </div>

        <div class="social-links">
            <a href="https://twitter.com/xinli_111219" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="https://www.youtube.com/@xinli-vj3js" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-youtube"></i>
            </a> 
        </div>
    
        <div class="info">
            <p>© 2024 chatcipher Tools. جميع الحقوق محفوظة.</p>
            <p>
                <a href="https://chatcipherai.com/ar/Privacy_Policy.html" title="Privacy Policy">سياسة الخصوصية</a>
                |
                <a href="https://chatcipherai.com/ar/Terms_of_Use.html" title="Terms of Use">شروط الاستخدام</a>
                |
                <a href="https://chatcipherai.com/ar/About_Us.html" title="About Us">معلومات عنا</a>
                |
                <a href="https://chatcipherai.com/ar/Disclaimer.html" title="Disclaimer">إخلاء المسؤولية</a>
            </p>  
            <button id="backToTop" onclick="scrollToTop()">العودة إلى الأعلى</button>
        </div>  
    </footer>

    <script>
        let shortcutsEnabled = true;

        function manageShortcuts(enable) {
            shortcutsEnabled = enable;
        }

        function handleKeyPress(event) {
            if (!shortcutsEnabled) {
                console.log('Shortcuts are disabled');
                return;
            }

            switch (event.key.toUpperCase()) {
                case 'E':
                    encrypt();
                    console.log('Encode triggered');
                    break;
                case 'D':
                    decrypt();
                    console.log('Decode triggered');
                    break;
                case 'A':
                    clearAll();
                    console.log('Clear All triggered');
                    break;
                case 'L':
                    if (document.activeElement.type !== 'text' && document.activeElement.type !== 'textarea') {
                        setStyle('light-mode');
                        console.log('Light style activated');
                    }
                    break;
                case 'N':
                    if (document.activeElement.type !== 'text' && document.activeElement.type !== 'textarea') {
                        setStyle('dark-mode');
                        console.log('Dark style activated');
                    }
                    break;
                case 'B':
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                    console.log('Scrolled to top');
                    break;
                case 'G':
                    generateMatrix();
                    console.log('Matrix generation triggered');
                    break;
                case 'C':
                    copyMatrixToClipboard();
                    console.log('Copy matrix triggered');
                    break;
                case 'O':
                    toggleMatrixDisplay();
                    console.log('Toggle matrix display triggered');
                    break;
                case 'S':
                    showMatrix();
                    console.log('Show matrix triggered');
                    break;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const inputElements = document.querySelectorAll('input[type="text"], textarea');
            inputElements.forEach(input => {
                input.addEventListener('focus', () => manageShortcuts(false));
                input.addEventListener('blur', () => manageShortcuts(true));
            });

            document.addEventListener('keydown', handleKeyPress);
        });

        function textToNumbers(text) {
            return text.split('').map(char => {
                const charCode = char.charCodeAt(0);
                if (/[a-z]/.test(char)) {
                    return charCode - 'a'.charCodeAt(0);
                } else if (/[A-Z]/.test(char)) {
                    return charCode - 'A'.charCodeAt(0);
                } else {
                    return charCode;
                }
            });
        }

        function numbersToText(numbers) {
            return numbers.map(num => {
                if (num >= 0 && num < 26) {
                    return String.fromCharCode(mod(num, 26) + 'A'.charCodeAt(0));
                } else {
                    return String.fromCharCode(num);
                }
            }).join('');
        }

        function parseKey(keyString) {
            return keyString.split(',').map(Number);
        }

        function mod(n, m) {
            return ((n % m) + m) % m;
        }

        function multiplyMatrixAndVector(matrix, vector, modValue) {
            const result = [];
            for (let i = 0; i < matrix.length; i++) {
                let sum = 0;
                for (let j = 0; j < vector.length; j++) {
                    sum += matrix[i][j] * vector[j];
                }
                result.push(mod(sum, modValue));
            }
            return result;
        }

        function padText(text) {
            if (text.length % 2 !== 0) {
                text += 'X'; // Append 'X' if text length is odd
            }
            return text;
        }

        function encrypt() {
            let text = document.getElementById('inputText').value.replace(/[^a-zA-Z]/g, ''); 
            text = padText(text); // Ensure text length is even for the matrix operations
            const keyNumbers = parseKey(document.getElementById('key').value);
            if (keyNumbers.length !== 4) {
                document.getElementById('result').textContent = 'Key format error. Please enter four comma-separated numbers.';
                return;
            }
            const keyMatrix = [[keyNumbers[0], keyNumbers[1]], [keyNumbers[2], keyNumbers[3]]];
            const det = keyNumbers[0] * keyNumbers[3] - keyNumbers[1] * keyNumbers[2];
            if (det === 0 || !hasModularInverse(det, 26)) {
                document.getElementById('result').textContent = 'Invalid matrix key. No inverse exists.';
                return;
            }
            const textNumbers = textToNumbers(text);
            let encryptedNumbers = [];
            for (let i = 0; i < textNumbers.length; i += 2) {
                encryptedNumbers.push(...multiplyMatrixAndVector(keyMatrix, [textNumbers[i], textNumbers[i + 1]], 26));
            }
            const encryptedText = numbersToText(encryptedNumbers);
            let resultElement = document.getElementById('result');
            resultElement.textContent = encryptedText;
            resultElement.style.color = "blue"; // Set text color to blue
        }

        function modInverse(a, m) {
            for (let i = 1; i < m; i++) {
                if ((a * i) % m === 1) {
                    return i;
                }
            }
            return null;
        }

        function removePaddingX(decryptedText) {
            let chars = decryptedText.split('');
            for (let i = 1; i < chars.length - 1; i++) {
                // Remove 'X' if it is between two identical letters
                if (chars[i] === 'X' && chars[i - 1] === chars[i + 1]) {
                    chars.splice(i, 1);
                    i--; // Adjust index after removing 'X'
                }
            }
            // Check if the last character is 'X' and if so, it is highlighted in red
            if (chars[chars.length - 1] === 'X') {
                return chars.join('').slice(0, -1) + '<span style="color: red;">X</span>';
            }
            return chars.join('');
        }

        function decrypt() {
            let text = document.getElementById('inputText').value.replace(/[^a-zA-Z]/g, '');  
            const keyNumbers = parseKey(document.getElementById('key').value);

            const det = keyNumbers[0] * keyNumbers[3] - keyNumbers[1] * keyNumbers[2];
            const invDet = modInverse(det, 26);

            if (invDet === null) {
                document.getElementById('result').innerHTML = "Invalid Key for Decryption (No Modular Inverse)";
                document.getElementById('result').style.color = "#0A0F24"; // Set the color of the error message
                return;
            }

            const keyMatrixInverse = [
                [mod(invDet * keyNumbers[3], 26), mod(-invDet * keyNumbers[1], 26)],
                [mod(-invDet * keyNumbers[2], 26), mod(invDet * keyNumbers[0], 26)]
            ];

            const textNumbers = textToNumbers(text);

            let decryptedNumbers = [];
            for (let i = 0; i < textNumbers.length; i += 2) {
                decryptedNumbers.push(...multiplyMatrixAndVector(keyMatrixInverse, [textNumbers[i], textNumbers[i + 1]], 26));
            }

            let decryptedText = numbersToText(decryptedNumbers);

            decryptedText = removePaddingX(decryptedText); // Use the updated removePaddingX function

            let resultElement = document.getElementById('result');
            resultElement.innerHTML = decryptedText; // Set the HTML content
            resultElement.style.color = "#0A0F24"; // Set the color of the decryption result
        }

        document.getElementById('menuIcon').addEventListener('click', function () {
            var navbarUl = document.querySelector('.navbar ul');
            if (navbarUl.style.display === 'flex') {
                navbarUl.style.display = 'none';
            } else {
                navbarUl.style.display = 'flex';
            }
        });

        document.getElementById('languageIcon').addEventListener('click', function () {
            var navbarUl = document.querySelector('.navbar .langUl');
            if (navbarUl.style.display === 'flex') {
                navbarUl.style.display = 'none';
            } else {
                navbarUl.style.display = 'flex';
            }
        });

        document.addEventListener('click', function (event) {
            var menuIcon = document.getElementById('menuIcon');
            var menunavbarUl = document.querySelector('.navbar .menuUl');

            var languageIcon = document.getElementById('languageIcon');
            var langnavbarUl = document.querySelector('.navbar .langUl');

            if (!menuIcon.contains(event.target) && !menunavbarUl.contains(event.target)) {
                menunavbarUl.style.display = 'none';
            }
            if (!languageIcon.contains(event.target) && !langnavbarUl.contains(event.target)) {
                langnavbarUl.style.display = 'none';
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            var savedStyle = localStorage.getItem('style') || 'dark-mode';
            setStyle(savedStyle);
        });

        document.getElementById('lightStyle').addEventListener('click', function() {
            setStyle('light-mode');
        });

        document.getElementById('darkStyle').addEventListener('click', function() {
            setStyle('dark-mode');
        });

        function setStyle(style) {
            document.body.className = style;
            localStorage.setItem('style', style);
            updateButtonStyles();
            updateNavbarStyles(style);
            updateTableStyle(style);
            updateInteractiveToolStyle(style);
        }

        function updateInteractiveToolStyle(style) {
            var interactiveTool = document.querySelector('.section.interactive-tool');
            if (style === 'dark-mode') {
                interactiveTool.style.backgroundColor = '#ffffff';
            } else {
                interactiveTool.style.backgroundColor = '#f0f0f0';
            }
        }

        function updateNavbarStyles(style) {
            var navbar = document.querySelector('.navbar');
            var ul = navbar.querySelector('ul');
            navbar.style.backgroundColor = style === 'dark-mode' ? '#0A0F24' : '#FFFFFF';
            ul.style.backgroundColor = style === 'dark-mode' ? 'rgba(119, 136, 153, 0.8)' : 'rgba(255, 255, 255, 0.8)';
            ul.style.color = style === 'dark-mode' ? '#FFFFFF' : '#0A0F24';
        }

        document.querySelectorAll('.learnMore').forEach(function(link) {
            link.addEventListener('click', function() {
                var targetId = this.getAttribute('data-target');
                var moreContent = document.getElementById(targetId);
                if (moreContent.style.display === "none" || moreContent.style.display === "") {
                    moreContent.style.display = "block";
                    this.textContent = "[Close]";
                } else {
                    moreContent.style.display = "none";
                    this.textContent = "[Learn More]";
                }
            });
        });

        function clearAll() {
            var inputText = document.getElementById('inputText');
            var result = document.getElementById('result');
            var key = document.getElementById('key');

            inputText.value = ''; // Clears the textarea
            key.value = ''; // Clears the input for key
            result.innerHTML = ''; // Clears the content of the div#result

            // Optionally reset the style or other properties if needed
            result.style.color = ""; // Resets the text color to default
        }

        function generateMatrix() {
            let a, b, c, d, det;
            do {
                a = Math.floor(Math.random() * 20) - 10;
                b = Math.floor(Math.random() * 20) - 10;
                c = Math.floor(Math.random() * 20) - 10;
                d = Math.floor(Math.random() * 20) - 10;
                det = a * d - b * c;
            } while (det === 0 || !hasModularInverse(det, 26));

            const matrixDisplay = document.getElementById('matrixDisplay');
            matrixDisplay.innerHTML = 
                '<p>المصفوفة المولدة:</p>' +
                '<p>[' + a + ' ' + b + ']</p>' +
                '<p>[' + c + ' ' + d + ']</p>' +
                '<p>المحدد: ' + det + ' (mod 26)</p>';

            if (document.body.classList.contains('dark-mode')) {
                matrixDisplay.classList.add('matrix-dark');
            } else {
                matrixDisplay.classList.remove('matrix-dark');
            }
        }

        function hasModularInverse(n, m) {
            n = n % m;
            for (let x = 1; x < m; x++) {
                if ((n * x) % m === 1) {
                    return true;
                }
            }
            return false;
        }

        function toggleMatrixDisplay() {
            var matrixDisplay = document.getElementById('matrixDisplay');
            var toggleButton = document.getElementById('toggleMatrixDisplay');

            // Check if the display style of matrixDisplay is not set or set to 'none'
            if (!matrixDisplay.style.display || matrixDisplay.style.display === 'none') {
                matrixDisplay.style.display = 'block'; // Show the matrix display
                toggleButton.innerHTML = 'إغلاق(<span class="highlight-key">o</span>)'; // Update button text to show "Close Matrix"
            } else {
                matrixDisplay.style.display = 'none'; // Hide the matrix display
                toggleButton.innerHTML = 'عرض المصفوفةمصفوفة العرض(<span class="highlight-key">o</span>)'; // Update button text to show "Show Matrix"
            }
        }

        function copyMatrixToClipboard() {
            const matrixDisplay = document.getElementById('matrixDisplay');
            const copyStatus = document.getElementById('copyStatus');
            const matrixParagraphs = matrixDisplay.getElementsByTagName('p');
            if (matrixParagraphs.length >= 3) {
                const matrixRow1 = matrixParagraphs[1].innerText.match(/[-\d]+/g);
                const matrixRow2 = matrixParagraphs[2].innerText.match(/[-\d]+/g);
                if (matrixRow1 && matrixRow2) {
                    const matrixString = matrixRow1.concat(matrixRow2).join(',');
                    navigator.clipboard.writeText(matrixString).then(function() {
                        copyStatus.innerText = 'Matrix copied to clipboard: ' + matrixString;
                        copyStatus.style.display = 'block';
                    }, function() {
                        copyStatus.innerText = 'Failed to copy matrix.';
                        copyStatus.style.display = 'block'; 
                    });
                } else {
                    copyStatus.innerText = 'No matrix to copy.';
                    copyStatus.style.display = 'block'; 
                }
            } else {
                copyStatus.innerText = 'No matrix to copy.';
                copyStatus.style.display = 'block';
            }
        }

        function hideCopyStatus() {
            const copyStatus = document.getElementById('copyStatus');
            if (copyStatus) {
                copyStatus.style.display = 'none';
            }
        }

        document.addEventListener('click', function() {
            hideCopyStatus();
        });

        window.onscroll = function () { scrollFunction(); };
        function scrollFunction() {
            if (document.body.scrollTop > 10 || document.documentElement.scrollTop > 20) {
                document.getElementById("backToTop").style.display = "block";
            } else {
                document.getElementById("backToTop").style.display = "none";
            }
        }
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.addEventListener('DOMContentLoaded', function() {
            var navbar = document.querySelector('.navbar');
            window.onscroll = function() {
                if(window.scrollY > 50) {
                    navbar.classList.add('solid');
                } else {
                    navbar.classList.remove('solid');
                }
            };
        });

        function adjustButton() {
            var button = document.getElementById('backToTop');
            if (window.innerWidth < 768) {
                button.innerHTML = '▲';
            } else {
                button.innerHTML = 'العودة إلى الأعلى(<span class="highlight-key">B</span>)';
            }
        }

        window.onload = adjustButton;
        window.onresize = adjustButton;

    </script>
    <div style="display: none;">
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-LZTEEH0M4K"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
    
            gtag('config', 'G-LZTEEH0M4K');
        </script>
    </div>
</body>
</html>

