<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playfair Cipher Explorer: Classic 5x5 encryption matrix</title>
    <meta name="description" content="In the world of the Playfair Cipher, words dance like ancient performers within a 5x5 chamber, gracefully leaping in pairs, closely intertwined, weaving each story into a mysterious cipher that cannot be easily deciphered.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="icon" type="image/jpg" href="./images/cipher.jpg">
    <style>
        html {
            height: 100%;
            }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 100vh;
            align-items: center;
            margin: 0;
            padding: 0 20px 20px 20px;
            background-color: #0A0F24;
            color: #FFFFFF;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: rgba(10, 15, 36, 0.0);
            transition: background-color 0.5s ease;
            z-index: 1000;
            height: 40px;
        }

        .navbar.solid {
            background-color: rgba(10, 15, 36, 1);
        }   

        #menuIcon {
            cursor: pointer; 
            transition: color 0.3s ease; 
        }

        #menuIcon:hover {
            color: #a3a2a2; 
        }

        #languageIcon {
            cursor: pointer;
            transition: color 0.3s ease;
            position: relative;
            left: -10px;
        }

        #languageIcon:hover {
            color: #a3a2a2;
        }

        .navbar .langUl {
            left: 87px;
            width: 100px;
        }

        .navbar.active ul {
            display: flex;
            flex-direction: column; 
            position: absolute;
            top: 35px; 
            left: 10px;
            width: 15%; 
            background-color: rgba(119, 136, 153, 0.8);
            padding: 10px 0; 
        }

        .navbar.active ul li {
            margin-bottom: 1px; 
        }

        .navbar.active ul li:last-child {
            margin-bottom: 0; 
        }

        .navbar ul {
            display: none;
            flex-direction: column;
            position: absolute;
            top: 50px;
            left: 10px;
            background-color: transparent;
            padding: 10px 0;
            list-style: none;
            margin: 0;
            width: 12%;
        }

        .navbar.active ul {
            display: flex;
        }

        .section.interactive-tool {
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center;
            background-color: #bbbaba;
            padding: 20px; 
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            margin-bottom: 150px;
        }

        #inputMessage, #shiftValue {
            width: 60%; 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 5px;
            border: 1px solid #eae6e6;
            font-size: 1em;
        }

        .sections-container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: center;
            margin-top: 120px;
            margin-left: 180px;
            width: 80%;
        }

        .sections-container h2, .sections-container p {
            text-align: left;
            width: 80%;
        }

        #processedPlaintext, #result {
            font-weight: bold;
            color: #0A0F24;
            word-wrap: break-word; 
        }

        #processedPlaintextParagraph, #resultParagraph {
            margin-bottom: 5px;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #bbbaba;
            padding: 50px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 70%; 
            color: #ffffff; 
            margin-left: 5%;
            margin-top: 30px;
            margin-bottom: 200px;
        }
            
        input[type="text"], textarea {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* 字体样式 */
            font-size: 15px; 
            color: #0A0F24; 
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 5px;
            border: 1px solid #eae6e6;
            resize: none;
        }

        input[type="text"] {
            width: 65%;
        }

        .container h2 {
            margin-top: -7px; 
            text-align: left;
            margin-left: -50px;
        }

        .container p {
            margin-left: -50px;
            color: #0A0F24;
        }

        #inputText {
            width: 65%; 
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            border: 1px solid #eae6e6;
            min-height: 100px;
        }

        #inputText::-moz-placeholder {
            font-weight: bold;
        }

        textarea {
            resize: vertical;
            min-height: 40px;
            max-height: 300px;
        }

        .section {
            margin-left: 60px;
        }

        p {  
            margin-bottom: 30px;  
            text-align: left; 
            font-size: 1.2em; 
            line-height: 1.6; 
            margin-bottom: 15px; 
        }

        h2 {  
            margin-bottom: 10px;
            font-size: 28px;  
        }

        .sections-container h2:hover {
            color: #4bcfcf;
            transition: color 0.3s ease;
        }

        .navbar li a {
            color: white; 
            padding: 5px;
            text-decoration: none;
            font-size: 15px;
            background-color: rgba(0, 0, 0, 0.3); 
            display: block;
            border-radius: 5px;
        }

        .navbar ul li {
            margin-bottom: 1px;
        }

        .navbar ul li a:hover {
            background-color: rgba(255, 255, 255, 0.206); 
            color: #0A0F24;
        }

        .navbar h1 {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            margin-top: 35px;
            margin-right: 0;
            font-size: 30px;
        }

        .navbar-dark {
            background-color: #0A0F24; 
        }

        p { 
            text-align: center;  
            margin-bottom: 30px;  
        }

        h2 {  
            margin-bottom: 10px;  
        }

        h3 {
            margin-top: 50px;
            font-size: 22px;
        }

        h4 {
            font-size: 20px;
        }

        .morse-code-container {
            display: flex;
            align-items: center;
        }

        .morse-code-container .copy-button {
            margin-right: 5px; 
            margin-left: 0; 
        }

        button {
            cursor: pointer;
            margin: 10px;
            padding: 8px 15px;
            margin-left: 5px;
            background-color: #0A0F24;
            border: none;
            border-radius: 5px;
            color: #FFFFFF;
            transition: background 0.3s;
        }

        button:hover {
            background-color: #a8a8a8;
            color: #0A0F24;
        }

        .style-selector {
            position: absolute;
            top: 0px;
            right: 50px;
            margin-top: 10px;
        }

        .style-selector button {
            background-color: #0a0f24;
            padding: 5px 10px;
            margin-right: 1px;
            color: #F5F5F5;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .style-selector button:hover {
            background-color: #c0c0c0;
            color: #0a0f24;
        }

        .dark-mode {  
            background-color: #0A0F24;  
            color: white;  
        }  

        .light-mode {  
            background-color: white;  
            color: #0A0F24; 
        }

        .dark-mode .container p{
            color: #FFFFFF;
        }


        .light-mode .container {
            color: #0A0F24; 
        }

        .light-mode .navbar, .light-mode {
            background-color: #FFFFFF; 
            color: #0A0F24; 
        }

        .light-mode .navbar ul {
            background-color: transparent;
            color: #0A0F24; 
        }

        .dark-mode .navbar ul li a:hover {
            color: #30eded; 
        }

        .light-mode .navbar ul li:hover {
            color: #0A0F24; 
            background-color: rgba(255, 255, 255, 1);
            border-radius: 5px;
        }

        .navbar {
            justify-content: flex-start; 
        }

        #languageIcon {
            cursor: pointer; 
            transition: color 0.3s ease; 
            margin-left: 30px;
        }

        #languageIcon:hover {
            color: #a3a2a2; 
        }

        #languageSelect {
            padding: 5px 10px;
            margin-left: 10px;
            border-radius: 5px;
            border: none;
            background-color: #5f9ea0;
            color: white;
            cursor: pointer;
        }

        #languageSelect:hover {
            background-color: #2F4F4F;
            }

        .language-dropdown {
            width: 6%;
            display: none;
            list-style: none;
            padding: 10px 0;
            margin: 0;
            position: absolute;
            top: 40px;
            left: 100px; 
            background-color: rgba(119, 136, 153, 0.8);
        }

        .language-dropdown li a {
            color: #FFFFFF;
            padding: 5px;
            margin: 1px;
            text-decoration: none;
            display: block;
            border-radius: 8px;
        }

        .language-dropdown li a:hover {
            background-color: rgba(255, 255, 255, 0.206);
            color: #0A0F24;
        }

        .table-container {
            display: none; 
            justify-content: center;
            align-items: center;
            width: 100%;   
            }

        .table-container.active {
            display: block;
        }

        .button-container {
            display: flex;
            justify-content: center;
            margin-right: 20px
        }

        .button-container button {
            margin-right: 30px; 
        }

        .footer {
            position: relative; 
            width: 100%;
            background-color: #0A0F24;
            color: #FFFFFF;
            text-align: center;
            padding: 10px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            margin-bottom: -20px;
        }

        .footer a {
            color: #F5F5F5;
            text-decoration: none;
            margin: 0 12px;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: #a3a2a2;
        }

        .footer p {
            margin: 0;
            font-size: 16px;
        }

        .learnMore {
            color: #007bff;
            cursor: pointer;
            text-decoration: underline;
        }

        .moreContent p {
            margin-top: -25px;
        }
            
        .clear-all-button {
            background-color: #47d7ff;
        }

        .clear-all-button:hover {
            background-color: #57f7ff;
        }

        figure {
            display: flex;
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            text-align: center;
            width: 100%;
            margin: 0 auto;
        }

        img {
            max-width: 75%;
            height: auto;
            margin-left: -250px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        figcaption.playfair,
        figcaption.padding_rules {
            width: 100%;
            margin-left: -300px;
            color: #007bff;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 10px;
        }

        .navbar li {
            position: relative; 
        }

        .navbar li>a {
            display: block;
        }

        .navbar .submenu {
            display: none;
            position: absolute;
            left: 101%;
            top: 0;
            background-color: transparent;
            border-radius: 5px;
            padding: 0;
            min-width: 150px;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .navbar .submenu li {
            display: block;
            border-bottom: none;
            width: 75%;
        }

        .navbar .submenu li:last-child {
            border-bottom: none;
        }

        .navbar li:hover>.submenu {
            display: block;
        }

        .navbar .submenu a {
            color: #ffffff;
            padding: 5px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s ease;
        }

        .navbar .submenu a:hover {
            background-color: rgba(255, 255, 255, 0.206);
        }

        .cipher-matrix {
            font-size: 20px;
            letter-spacing: 5px; 
            line-height: 1.5;
            margin-left: -100px;
        }

        .highlight {
            color: red; 
            font-weight: bold; 
        }

        #backToTop {
            position: absolute;
            bottom: 5px;
            right: 30px;
            z-index: 99;
            border: none;
            outline: none;
            background-color: #0a0f24;
            color: white;
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            font-size: 14px;
            display: block;
        }

        #backToTop:hover {
            background-color: #c0c0c0;
            color: #0a0f24;
        }

        .cipher-matrix {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 16px;
            font-weight: bold;
        }

        section li {
            font-size: 17px;
            line-height: 1.5;
            word-wrap: break-word;
            width: 80%;
            padding-bottom: 10px; 
        }
        
        figcaption {
            margin-top: -40px;
            margin-bottom: 40px;
            margin-left: 280px;
            font-size: 18px;
            color: #007bff;
            font-weight: bold;
        }

        .language-list{
            float: right;
        }
        .language-list a{
            margin-left: 20px;
            color: white;
        }

        .language-list a:hover{
            color: #4bcfcf;
        }

        .language-list a {
            text-decoration: none;
        }

        .highlight-key { 
            font-weight: 800;
        }

        @media screen and (max-width: 768px) {
            .navbar h1 {
                font-size: 18px;
                position: absolute;
                top: -25px; 
            }
                
            .sections-container {
                margin-left: auto;
                margin-right: auto;
                align-items: center;
                width: 80%;
            }

            .section {
                width: 120%;
                padding: 10px;
            }

            .section h2 {
                font-size: 1.2em; 
            }

            .section h3 {
                font-size: 0.9em; 
            }

            .section h4 {
                font-size: 0.8em; 
            }

            .section p {
                font-size: 0.9em; 
            }

            .section li {
                font-size: 14px;
                margin-left: -20px;
            }

            .container {
                width: 100%; 
                padding: 20px; 
                font-size: 0.8em;
            }

            .container h2{
                font-size: 1.5em;
                margin-top: 10px;
            }

            input[type="text"] {
                width: 78%; 
            }

            textarea {
                width: 60%; 
            }

            .cipher-matrix {
                margin-left: -210px;
            }

            img {
                max-width: 80%;
                height: auto;
                margin-left: -80px;
            }

            figcaption.playfair,
            figcaption.padding_rules {
                width: 100%;
                margin-left: -90px;
                color: #007bff;
                font-size: 0.8em;
                font-weight: bold;
                margin-top: 10px;
            }

            .footer p {
                margin: 0;
                font-size: 10px;
            }

            #backToTop {
                content: '▲';
                padding: 4px 5px;
                font-size: 14px;
                right: 10px;
                bottom: 0px;
            }

            #inputText {
                width: 78%; 
            }

            #processedPlaintext, #result {
                font-weight: bold;
                color: #0A0F24;
                word-wrap: break-word; 
            }

            .navbar ul {
                width: 25%;
            }

            .navbar ul li {
                padding: 0 5px 0 0;
            }

            .navbar li a {
                padding: 5px;
            }

            .navbar li a {
                font-size: 10px;
                width: 100%;
                padding: 5px 0px 5px 5px;
            }

            .navbar .submenu {
                left: 100%;
            }

            .navbar .submenu li {
                display: block;
                border-bottom: none;
                width: 50%;
                padding: 0 5px 0 0;
            }

            .navbar .submenu li a {
                padding: 5px 0px 5px 5px;
            }

            #menuIcon {
                font-size: 0; /* Hide text */
            }
            #menuIcon::before {
                content: '\2630'; /* Unicode character for ☰ */
                font-size: 16px; /* Or any other size you prefer */
            }

            #languageIcon {
                font-size: 0; 
            }

            #languageIcon::before {
                content: '\2637';
                font-size: 16px; /* Or any other size you prefer */
            }

            .navbar .langUl {
                left: 42px;
                width: 65px;
            }

            #darkStyle {
                font-size: 0;
                margin-left: 10px;
                padding: 5px 8px;
            }

            #lightStyle {
                font-size: 0;
                margin-right: -10px;
            }

            #darkStyle::before {
                font-size: 9px;
            }

            #lightStyle::before {
                font-size: 10px;
            }

            #darkStyle::before {
                content: "🌙";
            }

            #lightStyle::before {
                content: "☀";
            }

            .social-links i {
                font-size: 12px;
            }
        }
    </style>
</head>

<body class="dark-mode">
    <header>
        <nav class="navbar">
            <div id="menuIcon">&#9776; menu</div>
            <div id="menuItems"></div>
            <ul class="menuUl">
                <li>
                    <a href="https://chatcipherai.com">Cryptosystem World</a>
                    <ul class="submenu">
                        <li><a href="https://chatcipherai.com/en/Caesar_Cipher.html">Caesar Cipher</a></li>
                        <li><a href="https://chatcipherai.com/en/Playfair_Cipher.html">Playfair Cipher</a></li>
                        <li><a href="https://chatcipherai.com/en/Hill_Cipher.html">Hill Cipher</a></li>  
                    </ul>
                </li>
                <li><a href="https://chatcipherai.com/en/Hash_value_test.html">Hash Value Test</a></li>
                <li><a href="https://chatcipherai.com/en/Morsecode_main.html">Morse Code Translator</a></li>
                <li><a href="https://chatcipherai.com/en/Shortcut_Key_Description.html">Shortcut Key Description</a></li>
            </ul>

            <div id="languageIcon">&#x2637; lang</div>
            <div id="languageItems">
                <ul class="langUl">
                    <li><a href="https://chatcipherai.com/en/Playfair_Cipher.html" title="English">English</a></li>
                    <li><a href="https://chatcipherai.com/fr/Playfair_Cipher.html" title="Français">Français</a></li>
                    <li><a href="https://chatcipherai.com/es/Playfair_Cipher.html" title="Español">Español</a></li>
                    <li><a href="https://chatcipherai.com/zh-CN/Playfair_Cipher.html" title="中文（简体）">中文（简体）</a></li>
                    <li><a href="https://chatcipherai.com/zh-TW/Playfair_Cipher.html" title="中文（繁体）">中文（繁体）</a></li>
                    <li><a href="https://chatcipherai.com/ar/Playfair_Cipher.html" title="العربية">العربية</a></li>
                    <li><a href="https://chatcipherai.com/ru/Playfair_Cipher.html" title="Русский">Русский</a></li>
                    <li><a href="https://chatcipherai.com/pt/Playfair_Cipher.html" title="Português">Português</a></li>
                    <li><a href="https://chatcipherai.com/de/Playfair_Cipher.html" title="Deutsch">Deutsch</a></li>
                    <li><a href="https://chatcipherai.com/hi/Playfair_Cipher.html" title="हिन्दी">हिन्दी</a></li>
                    <li><a href="https://chatcipherai.com/nl/Playfair_Cipher.html" title="Nederlands">Nederlands</a></li>
                </ul>               
            </div>

            <h1>Playfair Cipher Explorer</h1>
            <div class="style-selector">  
                <button id="darkStyle">🌙 <span class="highlight-key">N</span>ight Style</button> 
                <button id="lightStyle">☀ <span class="highlight-key">L</span>ight Style</button> 
            </div>
        </nav>
    </header>

    <main class="sections-container">
        <section class="container">
            <h2>Try the Playfair Cipher</h2>
            <p>Utilize the provided beneath to either encrypt or decrypt a message:</p>
            <input type="text" id="key" placeholder="Enter key" />
            <textarea id="inputText" placeholder="Enter text here"></textarea>
            
            <button id="encryptButton"><span class="highlight-key">E</span>ncrypt</button>
            <button id="decryptButton"><span class="highlight-key">D</span>ecrypt</button>
            
            <button id="clearAllButton" class="clear-all-button" onclick="clearAll()">Clear <span class="highlight-key">A</span>ll</button>
            <p>Conversion : <span id="processedPlaintext"></span></p>
            <p>Result : <span id="result"></span></p>
        </section>

        <section class="section">
            <h2>The Past and Present of the Playfair Cipher</h2>
            <p>
                The <a href="https://en.wikipedia.org/wiki/Playfair_cipher" rel="noopener noreferrer" target="_blank" style="color: #007bff; font-size: 1.0em;"> Playfair Cipher</a>, a classical encryption method, boasts a unique history and origin. Invented in 1854 by Charles Wheatstone, a British scientist renowned for his contributions in electricity and optics, it was named not after its inventor but after his friend, Lyon Playfair. The latter, who was the British Foreign Secretary at the time, actively promoted the cipher and facilitated its practical implementation in government communications.
            </p>

            <p>
                The Playfair Cipher, extensively utilized in the 19th and early 20th centuries, particularly in military communications, gained notable usage by the British Army during World War I, becoming one of the era's most prevalent manual encryption systems. Distinguished from other classical encryption methods, the Playfair Cipher encrypts pairs of letters, known as digraphs, rather than individual letters, enhancing its security beyond that of simple substitution ciphers.
            </p>

            <p>
                The Playfair Cipher employs a 5x5 matrix of alphabets for its encryption process. Typically, this matrix is populated using a keyword, with the remaining alphabetic characters arranged in sequence. In the encryption process, the plaintext is segmented into letter pairs, each of which is then substituted based on specific rules that consider their respective positions within the matrix.
            </p>

            <p>
                The Playfair Cipher's history and origins mirror significant advancements in mid-19th-century cryptography and communication technology. Its inception influenced subsequent developments in the field of cryptography, notably as one of the early instances of double-letter substitution. Despite its lack of contemporary security relevance, the Playfair Cipher remains a vital subject in the study of classical encryption techniques.
            </p>

            <p>
                Although no longer employed for secure communications in contemporary times, the Playfair Cipher maintains its significance in the annals of cryptography and is commonly utilized as an introductory teaching tool, for instance, to help students comprehend the evolution of encryption methods. Additionally, its popularity extends to puzzle games, escape rooms, and online challenges, where participants enjoy solving cryptographic puzzles. In the realm of geocaching, it finds use in mystery caches, where solvers decrypt hints to determine the physical location of the geocache.
            </p>

            <h2>How do I create a Playfair Cipher?</h2>
            <p> Choose a key, fill the 5x5 matrix, and follow specific rules for encryption and decryption.</p>
            
            <h3>Create the key matrix:</h3>
            <ul>
                <li>Choose a key (usually a word or phrase).</li>
                <li>Remove any repeated letters from the key.</li>
                <li>Fill the letters of the key into a 5x5 matrix in order.</li>
                <li>After filling in the key, fill the remaining letters (excluding those already in the key) into the matrix in order.</li>
                <li>n the English version of the Playfair Cipher, the letters 'I' and 'J' are often treated as the same character to fit the 26 letters into 25 spaces. </li>
            </ul>

            <p>Suppose we have the following conditions:</p>
            <ul>
                <li>Key:<strong> PLAYFAIR EXAMPLE</strong></li>
                <li>Text to encrypt:<strong> Hello World</strong></li>
            </ul>

            <h3>Encryption process:</h3>
            <p>
                First, <strong>eliminate any repeated letters</strong> from the secret key, and sequentially enter the uppercase key 'PLAYFIR EXM' into the key matrix. Then, complete the 5x5 matrix by filling in the remaining spaces with the letters from the 25-letter alphabet (accounting for 'J' being replaced by 'I') that are not included in 'PLAYFIR EXM'.
            </p>

            <h4>Key Matrix:</h4>
            <pre class="cipher-matrix">
                <span class="highlight">P</span> <span class="highlight">L</span> <span class="highlight">A</span> <span class="highlight">Y</span> <span class="highlight">F</span> 
                <span class="highlight">I</span> <span class="highlight">R</span> <span class="highlight">E</span> <span class="highlight">X</span> <span class="highlight">M</span> 
                B C D G H
                K N O Q S
                T U V W Z
            </pre>
            
            <p>
                Next, organize the plaintext. Form pairs with every two letters. If a pair contains two identical letters side by side, or if the final letter is unpaired, insert an 'X' to resolve the issue. In the given example, the phrase 'Hello World' is converted to plaintext as 'HE LX LO WO RL DX'.
            </p> 

            <h3>Encryption Rules:</h3>
            <ul>
                <li>If two characters are not in the same row or column, the encrypted characters are those diagonally opposite each other.</li>
                <li>If two characters are in the same column, the encrypted characters are directly below each one. If a character is in the fifth row, it wraps around to the first row.</li>
                <li>If two characters are in the same row, the encrypted characters are immediately to the right. Similarly, if a character is in the fifth column, it wraps around to the first column.</li>
            </ul>
            <p>
                Certainly, using a diagram to illustrate the encryption process is advisable. Alternatively, you can conveniently and efficiently generate plaintext and Ciphertext by utilizing the Playfair Cipher tool provided above.
            </p>

            <figure>
                <img src="./images/figure 1-playfair cipher encryption.jpg" alt="Detailed View of Playfair Cipher Key Matrix">
                <figcaption class="playfair">Detailed View of Playfair Cipher Key Matrix</figcaption>
            </figure>

            <h3>Decryption Process:</h3>
            <p>
                For decryption, we input the encrypted text and apply the Playfair Cipher rules in reverse. Using the key `PLAYFAIR EXAMPLE` to generate the matrix. The encrypted text is used directly for decryption without additional preprocessing. The decryption is carried out using a secret key matrix for each pair of encrypted letters. For instance, with the first encrypted pair `DM`, we locate their positions in the matrix and reverse the encryption rules to retrieve the original pair `HE`. By decrypting all encrypted letter pairs in this manner, we reconstruct the original text.
            </p>

            <h2>Are there any movies or TV shows about Playfair Cipher?</h2>
            <p>
                The Playfair cipher is a type of encryption technology that was once widely used. Although it is quite famous in history, there are currently no particularly famous movies or TV shows that focus specifically on the Playfair cipher.
            </p>

            <p>
                Nonetheless, movies and TV shows about cryptography are not uncommon, often involving various types of encryption techniques and exploring themes like espionage, military intelligence, detective stories, or treasure hunting.
            </p>

            <p>
                While there might not be many films or series directly about the Playfair cipher, audiences interested in cryptography, puzzles, and treasure-hunting stories might find many works containing similar themes, where encryption technology often plays a key role in the plot. If you are interested in the history of cryptography and code-breaking, you might enjoy those films and shows that involve complex puzzles and encoded messages.
            </p>

            <h2>How to Distinguish Between the Letters "I" and "J"</h2>
            <p>
                In the original Playfair Cipher, the letters "I" and "J" are usually considered the same character. This approach is primarily because the Playfair cipher requires a 5x5 matrix to accommodate the letters, and since there are 26 letters in the English alphabet, two letters must be considered equivalent to fit this 25-cell matrix.
            </p>
            <h3>How to Handle "I" and "J":</h3>
            <p>
                <strong>Merging:</strong> When creating the cipher matrix, a common practice is to treat "I" and "J" as the same character, typically choosing "I" to represent both letters. This means that during the encoding or decoding process, whether the original text was "I" or "J," it will be replaced with "I".
            </p>
            <p>
                <strong>Encoding and Decoding:</strong> When encrypting or decrypting messages using the Playfair Cipher, if the message contains "J," it will be replaced with "I". Similarly, when decrypting a message and encountering an "I," the decoder needs to determine based on the context whether it originally represented an "I" or a "J".
            </p>

            <h3>The Role of Context:</h3>
            <p>
                <strong>Decoding Flexibility:</strong> During decryption, the recipient typically relies on context to correctly interpret the information. For example, if the decrypted text is "INDIA," and the context refers to a country, the recipient can easily discern that the word is correctly "INDIA" rather than "JNDJA".
            </p>
            <p>
                <strong>Explicit Instructions:</strong> Sometimes, to avoid confusion, the sender may specify in the message how certain words or characters should be interpreted, especially in important or potentially misleading situations.
            </p>

            <h3>Modern Applications:</h3>
            <p>
                In modern applications, more complex methods or standards may be employed to address this type of issue, such as using an extended matrix or different character substitution strategies. However, for implementations that follow the traditional Playfair Cipher, merging "I" and "J" remains an effective and time-honored method.
            </p>

            <h2>"X" Decryption Rules of Playfair Cipher</h2>
            <p>
                The Playfair Cipher requires paired letter input, so when the text length is odd, a padding character is typically added to complete the final letter pair. The most commonly used padding character is “X”. Properly handling these padding letters is a challenge in the decryption process of the Playfair Cipher.
            </p>
            <h3>Post-Decryption Handling:</h3>
            <p>
                <strong>Automatic Removal:</strong> Ideally, if the “X” added during the encryption process is clearly not part of the original text (for example, it only appears between duplicate letters or at the end of the text), then it can be automatically removed during decryption. This strategy usually handles the padding "X" in the middle of the text well but may erroneously remove an "X" at the end of a word.
            </p>
            <p>
                <strong>Conditional Removal:</strong> To address the issue of erroneously deleted end "X", this webpage adopts a conditional removal method, retaining the "X" at the end and marking it in <strong>red</strong>, allowing users to decide whether to remove it based on the context or additional information. For example, if the decrypted text ends with an “X”, and the letter pair before this “X” cannot form a valid encryption pair, then this “X” can be inferred to be a padding character.
            </p>
            <figure>
                <img src="./images/The X decryption rule in the Playfair Cipher.jpg" alt="'X' decryption rules in Playfair Cipher">
                <figcaption class="padding_rules">"X" decryption rules in Playfair Cipher</figcaption>
            </figure>

            <h3>Protocols and Standardization:</h3>
            <p>
                In modern encrypted communications, complex protocols are usually adopted to precisely control the format and structure of data, including explicit padding strategies and unpadding mechanisms. For example, some encryption standards add a field indicating the message length before the message to ensure that the original message can be accurately recovered after decryption. Alternatively, advanced natural language processing mechanisms are used to automatically differentiate each word, thereby determining whether the “X” should be retained.
            </p>
            <h3>Automation and Algorithms:</h3>
            <p>
                Modern encryption algorithms, such as PKCS#7 padding, include complex padding and unpadding logic that is automatically executed during encryption and decryption processes to ensure data integrity and accuracy. These algorithms can automatically identify and remove padding characters without human intervention.
            </p>            
        </section>
    </main>
   
    <footer class="footer">
        <div class="social-links">
            <a href="https://twitter.com/xinli_111219" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="https://www.youtube.com/@xinli-vj3js" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-youtube"></i>
            </a> 
        </div>
    
        <div class="info">
            <p>© 2024 chatcipher Tools. All rights reserved.</p>
            <p>
                <a href="https://chatcipherai.com/en/Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a>
                |
                <a href="https://chatcipherai.com/en/Terms_of_Use.html" title="Terms of Use">Terms of Use</a>
                |
                <a href="https://chatcipherai.com/en/About_Us.html" title="About Us">About Us</a>
                |
                <a href="https://chatcipherai.com/en/Disclaimer.html" title="Disclaimer">Disclaimer</a>
            </p> 
            <button id="backToTop" onclick="scrollToTop()">Back to Top</button>
        </div>
    </footer>

    <script>
        let shortcutsEnabled = true;

        function manageShortcuts(enable) {
            shortcutsEnabled = enable;
        }

        function handleKeyPress(event) {
            if (!shortcutsEnabled) {
                console.log('Shortcuts are disabled');
                return;
            }

            switch (event.key.toUpperCase()) {
                case 'E':
                    encrypt();
                    console.log('Encode triggered');
                    break;
                case 'D':
                    decrypt();
                    console.log('Decode triggered');
                    break;
                case 'A':
                    clearAll();
                    console.log('Clear All triggered');
                    break;
                case 'L':
                    if (document.activeElement.type !== 'text' && document.activeElement.type !== 'textarea') {
                        setStyle('light-mode');
                        console.log('Light style activated');
                    }
                    break;
                case 'N':
                    if (document.activeElement.type !== 'text' && document.activeElement.type !== 'textarea') {
                        setStyle('dark-mode');
                        console.log('Dark style activated');
                    }
                    break;
                case 'B':
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                    console.log('Scrolled to top');
                    break;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const inputElements = document.querySelectorAll('input[type="text"], textarea');
            inputElements.forEach(input => {
                input.addEventListener('focus', () => manageShortcuts(false));
                input.addEventListener('blur', () => manageShortcuts(true));
            });

            document.addEventListener('keydown', handleKeyPress);
        });

        function generateMatrix(key) {
            const alphabet = "ABCDEFGHIKLMNOPQRSTUVWXYZ";
            let matrix = new Set(key.toUpperCase().replace(/J/g, 'I').replace(/[^A-Z]/g, ''));
            alphabet.split('').forEach(char => matrix.has(char) || matrix.add(char));
            return Array.from(matrix).join('').match(/.{1,5}/g).map(row => row.split(''));
        }

        function preprocessText(text, isEncrypting) {
            text = text.toUpperCase().replace(/J/g, 'I').replace(/[^A-Z]/g, '');
            let processedText = "";

            for (let i = 0; i < text.length; i += 2) {
                let pair = text[i];
                if (text[i] === text[i + 1]) {
                    pair += 'X';
                    i--;
                } else {
                    pair += text[i + 1] || 'X';
                }
                processedText += pair;
            }

            if (isEncrypting && processedText.length % 2 !== 0) {
                processedText += 'X';
            }

            return processedText;
        }

        function findPosition(letter, matrix) {
            for (let row = 0; row < matrix.length; row++) {
                for (let col = 0; col < matrix[row].length; col++) {
                    if (matrix[row][col] === letter) {
                        return { row, col };
                    }
                }
            }
            return { row: -1, col: -1 };
        }

        function transformPair(pair, matrix, mode) {
            let pos1 = findPosition(pair[0], matrix);
            let pos2 = findPosition(pair[1], matrix);
            let transformedPair = '';

            if (pos1.row === pos2.row) {
                // Same row
                pos1.col = (pos1.col + mode + 5) % 5;
                pos2.col = (pos2.col + mode + 5) % 5;
            } else if (pos1.col === pos2.col) {
                // Same column
                pos1.row = (pos1.row + mode + 5) % 5;
                pos2.row = (pos2.row + mode + 5) % 5;
            } else {
                // Rectangle
                [pos1.col, pos2.col] = [pos2.col, pos1.col];
            }

            transformedPair += matrix[pos1.row][pos1.col];
            transformedPair += matrix[pos2.row][pos2.col];

            return transformedPair;
        }

        function transformText(text, matrix, mode) {
            let transformedText = "";
            for (let i = 0; i < text.length; i += 2) {
                transformedText += transformPair(text.substr(i, 2), matrix, mode);
            }
            return transformedText;
        }

        function encrypt() {
            const key = document.getElementById('key').value;
            const inputText = document.getElementById('inputText').value;
            const processedText = preprocessText(inputText, true);
            document.getElementById('processedPlaintext').innerText = processedText;

            const matrix = generateMatrix(key);
            const encryptedText = transformText(processedText, matrix, 1);
            document.getElementById('result').innerText = encryptedText;
            document.getElementById("result").style.color = "blue";
        }

        function removePaddingX(decryptedText) {
            let chars = decryptedText.split('');
            for (let i = 1; i < chars.length - 1; i++) {
                // Remove 'X' if it is between two identical letters
                if (chars[i] === 'X' && chars[i - 1] === chars[i + 1]) {
                    chars.splice(i, 1);
                    i--; // Adjust index after removing 'X'
                }
            }
            // Check if the last character is 'X' and if so, it is highlighted in red
            if (chars[chars.length - 1] === 'X') {
                return chars.join('').slice(0, -1) + '<span style="color: red;">X</span>';
            }
            return chars.join('');
        }

        function decrypt() {
            const key = document.getElementById('key').value;
            const inputText = document.getElementById('inputText').value.replace(/[^A-Z]/g, '');
            const matrix = generateMatrix(key);
            let decryptedText = transformText(inputText, matrix, -1);
            decryptedText = removePaddingX(decryptedText); // Remove unnecessary 'X' characters
            document.getElementById('result').innerHTML = decryptedText; // Use innerHTML to allow HTML rendering
            document.getElementById("result").style.color = "#0A0F24"; // Set the default text color
        }

        document.getElementById('encryptButton').addEventListener('click', encrypt);
        document.getElementById('decryptButton').addEventListener('click', decrypt);

        document.getElementById('clearAllButton').addEventListener('click', clearAll);
        function clearAll() {
            document.getElementById('key').value = ''; 
            document.getElementById('inputText').value = ''; 
            document.getElementById('result').innerText = '';
            document.getElementById('processedPlaintext').innerText = ''; 
        }

        document.getElementById('menuIcon').addEventListener('click', function () {
            var navbarUl = document.querySelector('.navbar ul');
            if (navbarUl.style.display === 'flex') {
                navbarUl.style.display = 'none';
            } else {
                navbarUl.style.display = 'flex';
            }
        });

        document.getElementById('languageIcon').addEventListener('click', function () {
            var navbarUl = document.querySelector('.navbar .langUl');
            if (navbarUl.style.display === 'flex') {
                navbarUl.style.display = 'none';
            } else {
                navbarUl.style.display = 'flex';
            }
        });

        document.addEventListener('click', function (event) {
            var menuIcon = document.getElementById('menuIcon');
            var menunavbarUl = document.querySelector('.navbar .menuUl');

            var languageIcon = document.getElementById('languageIcon');
            var langnavbarUl = document.querySelector('.navbar .langUl');

            if (!menuIcon.contains(event.target) && !menunavbarUl.contains(event.target)) {
                menunavbarUl.style.display = 'none';
            }
            if (!languageIcon.contains(event.target) && !langnavbarUl.contains(event.target)) {
                langnavbarUl.style.display = 'none';
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            var savedStyle = localStorage.getItem('style') || 'dark-mode';
            setStyle(savedStyle);
        });

        document.getElementById('lightStyle').addEventListener('click', function() {
            setStyle('light-mode');
        });

        document.getElementById('darkStyle').addEventListener('click', function() {
            setStyle('dark-mode');
        });

        function setStyle(style) {
            document.body.className = style;
            localStorage.setItem('style', style);
            updateButtonStyles();
            updateNavbarStyles(style);
        }

        function updateNavbarStyles(style) {
            var navbar = document.querySelector('.navbar');
            var ul = navbar.querySelector('ul');
            navbar.style.backgroundColor = style === 'dark-mode' ? '#0A0F24' : '#FFFFFF';
            ul.style.backgroundColor = style === 'dark-mode' ? 'rgba(119, 136, 153, 0.8)' : 'rgba(255, 255, 255, 0.8)';
            ul.style.color = style === 'dark-mode' ? '#FFFFFF' : '#0A0F24';
        }

        document.querySelectorAll('.learnMore').forEach(function(link) {
            link.addEventListener('click', function() {
                var targetId = this.getAttribute('data-target');
                var moreContent = document.getElementById(targetId);
                if (moreContent.style.display === "none" || moreContent.style.display === "") {
                    moreContent.style.display = "block";
                    this.textContent = "[Close]";
                } else {
                    moreContent.style.display = "none";
                    this.textContent = "[Learn More]";
                }
            });
        });

        window.onscroll = function () { scrollFunction(); };
        function scrollFunction() {
            if (document.body.scrollTop > 10 || document.documentElement.scrollTop > 20) {
                document.getElementById("backToTop").style.display = "block";
            } else {
                document.getElementById("backToTop").style.display = "none";
            }
        }
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.addEventListener('DOMContentLoaded', function() {
            var navbar = document.querySelector('.navbar');
            window.onscroll = function() {
                if(window.scrollY > 50) {
                    navbar.classList.add('solid');
                } else {
                    navbar.classList.remove('solid');
                }
            };
        });

        function adjustButton() {
            var button = document.getElementById('backToTop');
            if (window.innerWidth < 768) {
                button.innerHTML = '▲';
            } else {
                button.innerHTML = '<span class="highlight-key">B</span>ack to Top';
            }
        }

        window.onload = adjustButton;
        window.onresize = adjustButton;
    </script>
</body>
</html>