<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Исследователь шифра Хилла: В компании с математикой, сопровождаемый криптографией.</title>
    <meta name="description" content="Шифр Хилла является классическим криптографическим алгоритмом, относящимся к категории шифров подстановки много букв. Его уникальность заключается в использовании линейной алгебры и умножения матриц для выполнения процессов шифрования и дешифрования.">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="icon" type="image/jpg" href="./images/cipher.jpg">
    <style>    
        html {
            height: 100%;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 100vh;
            align-items: center;
            margin: 0;
            padding: 0 20px 20px 20px;
            background-color: #0A0F24;
            color: #FFFFFF;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: rgba(10, 15, 36, 0.0);
            transition: background-color 0.5s ease;
            z-index: 1000;
            height: 40px;
        }

        .navbar.solid {
            background-color: rgba(10, 15, 36, 1);
        }   

        #menuIcon {
            cursor: pointer; 
            transition: color 0.3s ease; 
        }
        #menuIcon:hover {
            color: #a3a2a2; 
        }

        #languageIcon {
            cursor: pointer;
            transition: color 0.3s ease;
            position: relative;
            left: -10px;
        }

        #languageIcon:hover {
            color: #a3a2a2;
        }

        .navbar .langUl {
            left: 87px;
            width: 100px;
        }

        .navbar.active ul {
            display: flex;
            flex-direction: column; 
            position: absolute;
            top: 35px; 
            left: 10px;
            width: 15%; 
            background-color: rgba(119, 136, 153, 0.8);
            padding: 10px 0; 
        }

        .navbar.active ul li {
            margin-bottom: 1px; 
        }

        .navbar.active ul li:last-child {
            margin-bottom: 0; 
        }

        .navbar ul {
            display: none;
            flex-direction: column;
            position: absolute;
            top: 50px;
            left: 10px;
            background-color: transparent;
            padding: 10px 0;
            list-style: none;
            margin: 0;
            width: 13%;
        }

        .navbar.active ul {
            display: flex;
        }

        .section.interactive-tool {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #bbbaba;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 80%;
            margin-top: 80px;
            margin-bottom: 150px;
        }

        #inputMessage, #shiftValue {
            width: 60%; 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 5px;
            border: 1px solid #eae6e6;
            font-size: 1em;
        }

        .sections-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 50px auto;
            padding: 20px;
            border-radius: 10px;
            width: 70%;
        }

        .section {
            width: 110%;
            margin-bottom: 30px; 
        }

        section li {
            font-size: 17px;
            line-height: 1.5;
            word-wrap: break-word;
            width: 80%;
            padding-bottom: 10px; 
        }

        .section label {
            display: block;
            margin-bottom: 10px;
        }

        .matrix-display {
            text-align: center;
            padding: 20px;
            background-color: #7fbef5;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .matrix-display p {
            margin: 10px 5px;
            font-size: 1em;
        }

        #matrixInputs {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-left: 0;
        }

        .sections-container h2, .sections-container p {
            text-align: left;
            width: 80%;
        }

        .section.interactive-tool label, 
        .section.interactive-tool p {
            font-size: 1.2em;
        }

        .section input[type="text"], 
        .section textarea {
            width: 700px;  
            padding: 10px;   
            margin-bottom: 20px; 
            border: 1px solid #eae6e6;
            border-radius: 5px;  
            font-size: 0.9em;       
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        #inputText {
            min-height: 100px;
            max-height: 300px;
            resize: vertical;
            padding: 10px;   
        }

        #key {
            height: auto; 
        }

        #result {
            font-weight: bold;
            color: #0A0F24;
            font-family: 'Arial', sans-serif;
            min-height: 100px;
            max-height: 300px;
            overflow-y: auto;
            text-align: left;
            word-wrap: break-word;
            overflow-wrap: break-word;
            resize: vertical;
            font-size: 18px;
            padding-top: 20px;
            padding-bottom: 20px;
            width: 698px;
            line-height: 26px;
        }

        p {  
            margin-bottom: 30px;  
            text-align: left; 
            font-size: 1.2em; 
            line-height: 1.6; 
            margin-bottom: 15px; 
        }

        h2 {  
            margin-bottom: 10px;
            font-size: 28px;
        }

        h3 {
            margin-top: 50px;
            font-size: 22px;
        }

        h4 {
            font-size: 20px;
        }

        .sections-container h2:hover {
            color: #4bcfcf;
            transition: color 0.3s ease;
        }

        .navbar li a {
            color: #FFFFFF; 
            padding: 5px;
            text-decoration: none;
            font-size: 15px;
            background-color: rgba(0, 0, 0, 0.3); 
            display: block;
            border-radius: 5px;
        }

        .navbar ul li {
            margin-bottom: 1px;
        }

        .navbar ul li a:hover {
            background-color: rgba(255, 255, 255, 0.206); 
            color: #0A0F24; 
        }

        .navbar h1 {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            margin-top: 35px;
            margin-right: 0;
            font-size: 30px;
        }

        .navbar-dark {
            background-color: #0A0F24; 
        }

        p { 
            text-align: center;  
            margin-bottom: 30px;
            font-size: 1.2em;  
        }

        h2 {  
            margin-bottom: 10px;  
        }

        button {
            cursor: pointer;
            margin: 10px;
            padding: 8px 15px;
            margin-left: 5px;
            background-color: #0A0F24;
            border: none;
            border-radius: 5px;
            color: #FFFFFF;
            transition: background 0.3s;
        }

        button:hover {
            background-color: #a8a8a8;
            color: #0A0F24;
        }

        .style-selector {
            position: absolute;
            top: 0px;
            right: 50px;
            margin-top: 10px;
        }

        .style-selector button {
            background-color: #0a0f24;
            padding: 5px 10px;
            margin-right: 1px;
            color: #F5F5F5;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .style-selector button:hover {
            background-color: #c0c0c0;
            color: #0a0f24;
        }

        .dark-mode {  
            background-color: #0A0F24;  
            color: white;  
        }

        .light-mode {  
            background-color: white;  
            color: #0A0F24; 
        } 

        .light-mode .navbar, .light-mode .container {
            background-color: #FFFFFF; 
            color: #0A0F24; 
        }

        .light-mode .navbar ul {
            background-color: transparent; 
            color: #0A0F24; 
        }

        .dark-mode .navbar ul li a:hover {
            color: #30eded; 
        }

        .light-mode .navbar ul li:hover {
            color: #0A0F24; 
            background-color: rgba(255, 255, 255, 1);
            border-radius: 5px;
        }

        .navbar {
            justify-content: flex-start; 
        }

        #languageIcon {
            cursor: pointer; 
            transition: color 0.3s ease; 
            margin-left: 30px;
        }

        #languageIcon:hover {
            color: #a3a2a2; 
        }

        #languageSelect {
            padding: 5px 10px;
            margin-left: 10px;
            border-radius: 5px;
            border: none;
            background-color: #5f9ea0;
            color: white;
            cursor: pointer;
        }

        #languageSelect:hover {
            background-color: #2F4F4F;
        }

        .language-dropdown {
            width: 6%;
            display: none;
            list-style: none;
            padding: 10px 0;
            margin: 0;
            position: absolute;
            top: 40px;
            left: 100px; 
            background-color: rgba(119, 136, 153, 0.8);
        }

        .language-dropdown li a {
            color: #FFFFFF;
            padding: 5px;
            margin: 1px;
            text-decoration: none;
            display: block;
            border-radius: 8px;
        }

        .language-dropdown li a:hover {
            background-color: rgba(255, 255, 255, 0.206);
            color: #0A0F24;
        }

        .table-container {
            display: none; 
            justify-content: center;
            align-items: center;
            width: 100%;    
        }

        .table-container.active {
            display: block;
        }

        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        .button-container button {
            margin-right: 0px; 
        }

        .footer {
            position: relative; 
            width: 100%;
            background-color: #0A0F24;
            color: #FFFFFF;
            text-align: center;
            padding: 10px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            margin-bottom: -20px;
        }

        .footer a {
            color: #F5F5F5;
            text-decoration: none;
            margin: 0 12px;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: #a3a2a2;
        }

        .footer p {
            margin: 0;
            font-size: 16px;
        }

        .learnMore {
            color: #007bff;
            cursor: pointer;
            text-decoration: underline;
        }

        .moreContent p {
            margin-top: 10px;
        }

        #moreContent2 { 
            color: #0A0F24;
            background-color: #e9f4f4;
            padding: 10px;
            border-radius: 8px; 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 74%;
        }

        .clear-all-button {
            background-color: #47d7ff;
        }

        .clear-all-button:hover {
            background-color: #57f7ff;
        }

        img {
            display: block;
            width: 75%;
            margin-bottom: 50px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .navbar li {
            position: relative;
        }

        .navbar li>a {
            display: block;
        }

        .navbar .submenu {
            display: none;
            position: absolute;
            left: 101%;
            top: 0;
            background-color: transparent;
            border-radius: 5px;
            padding: 0;
            min-width: 150px;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .navbar .submenu li {
            display: block;
            border-bottom: none;
            width: 90%;
        }

        .navbar .submenu li:last-child {
            border-bottom: none;
        }

        .navbar li:hover>.submenu {
            display: block;
        }

        .navbar .submenu a {
            color: #ffffff;
            padding: 5px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s ease;
        }

        .navbar .submenu a:hover {
            background-color: rgba(255, 255, 255, 0.206);
        }

        .form-group {
            padding: 20px;
            margin: 20px auto;
            border: 1px solid #eae6e6;
            border-radius: 10px;
            background-color: #1C3A70;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            width: 80%; 
        }

        .form-group button {
            background-color: #0A0F24;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-right: 10px;
        }

        .form-group button:hover {
            background-color: #c0c0c0;
            color: #0A0F24;
        }

        .form-group #matrixDisplay {
            padding: 15px;
            background-color: #f7cb95;
            border-radius: 5px;
            text-align: center;
            margin-top: 15px;
            color: #0A0F24;
        }

        .dark-mode .matrix-dark {
            background-color: #2F4F4F;  
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            margin-top: 15px;
        }

        .light-mode .matrix-display {
            color: #f9be77;
        }

        .form-group #toggleMatrixDisplay {
            background-color: #0A0F24;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            width: 150px;
        }

        .form-group #toggleMatrixDisplay:hover {
            background-color: #c0c0c0;
            color: #0A0F24;
        }

        .right-shifted-paragraph {
            margin-left: 220px;
            width: 110%;
        }

        #backToTop {
            position: absolute;
            bottom: 5px;
            right: 30px;
            z-index: 99;
            border: none;
            outline: none;
            background-color: #0a0f24;
            color: white;
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            font-size: 14px;
            display: block;
        }

        #backToTop:hover {
            background-color: #c0c0c0;
            color: #0a0f24;
        }

        .language-list{
            float: right;
        }
        .language-list a{
            margin-left: 20px;
            color: white;
        }

        .language-list a:hover{
            color: #4bcfcf;
        }

        .language-list a {
            text-decoration: none;
        }

        .highlight-key { 
            font-weight: 800;
        }

        @media screen and (max-width: 768px) {
            .navbar h1 {
                font-size: 18px;
                position: absolute;
                top: -25px; 
            }

            .sections-container {
                margin-left: auto;
                margin-right: auto;
                align-items: center;
                width: 90%;
            }

            .sections-container h2{
                font-size: 1.2em;
                margin-top: -10px;
            }

            .section {
                width: 100%;
                padding: 10px;
            }

            .right-shifted-paragraph {
                margin-left: 80px;
                width: 110%;
            }

            .right-shifted-paragraph h2 {
                font-size: 1.2em;
            }

            h3 {
                font-size: 0.9em; 
            }

            h4 {
                font-size: 0.8em; 
            }

            p {
                font-size: 0.9em; 
            }

            section li {
                font-size: 14px;
                margin-left: -15px;
            }

            figcaption {
                margin-top: -40px;
                margin-bottom: 40px;
                margin-left: 20px;
                font-size: 10px;
                color: #007bff;
                font-weight: bold;
            }

            .footer p {
                margin: 0;
                font-size: 10px;
            }

            #backToTop {
                content: '▲';
                padding: 4px 5px;
                font-size: 14px;
                right: 10px;
                bottom: 0px;
            }

            .section input[type="text"], 
            .section textarea {
                width: 100%;
            }

            .navbar ul {
                width: 26%;
            }

            .navbar ul li {
                padding: 0 5px 0 0;
            }

            .navbar li a {
                padding: 5px;
            }

            .navbar li a {
                font-size: 10px;
                width: 100%;
                padding: 5px 0px 5px 5px;
            }

            .navbar .submenu {
                left: 100%;
            }

            .navbar .submenu li {
                display: block;
                border-bottom: none;
                width: 55%;
                padding: 0 5px 0 0;
            }

            .navbar .submenu li a {
                padding: 5px 0px 5px 5px;
            }
            
            #menuIcon {
                font-size: 0; /* Hide text */
            }
            #menuIcon::before {
                content: '\2630'; /* Unicode character for ☰ */
                font-size: 16px; /* Or any other size you prefer */
            }

            #languageIcon {
                font-size: 0; 
            }

            #languageIcon::before {
                content: '\2637';
                font-size: 16px; /* Or any other size you prefer */
            }

            .navbar .langUl {
                left: 42px;
                width: 65px;
            }

            #darkStyle {
                font-size: 0;
                margin-left: 10px;
                padding: 5px 8px;
            }

            #lightStyle {
                font-size: 0;
                margin-right: -10px;
            }

            #darkStyle::before {
                font-size: 9px;
            }

            #lightStyle::before {
                font-size: 10px;
            }

            #darkStyle::before {
                content: "🌙";
            }

            #lightStyle::before {
                content: "☀";
            }

            #result {
                width: 72vw;
                font-size: 15px;
            }

            .social-links i {
                font-size: 12px;
            }
        }
    </style>
</head>

<body class="dark-mode">
    <header>
        <nav class="navbar">
            <div id="menuIcon">&#9776; меню</div>
            <div id="menuItems"></div>
            <ul class="menuUl">
                <li>
                    <a href="https://chatcipherai.com/ru/chatcipherai.html"><strong>Мир криптосистем</strong></a>
                    <ul class="submenu">
                        <li><a href="https://chatcipherai.com/ru/Caesar_Cipher.html"><strong>Шифр Цезаря</strong></a></li>
                        <li><a href="https://chatcipherai.com/ru/Playfair_Cipher.html"><strong>Шифр Плейфера</strong></a></li>
                        <li><a href="https://chatcipherai.com/ru/Hill_Cipher.html"><strong>Шифр Хилла</strong></a></li>  
                    </ul>
                </li>
                <li><a href="https://chatcipherai.com/ru/Hash_value_test.html"><strong>Тест хеш-значения</strong></a></li>
                <li><a href="https://chatcipherai.com/ru/Morsecode_main.html"><strong>Переводчик Морзе</strong></a></li>
                <li><a href="https://chatcipherai.com/ru/Shortcut_Key_Description.html"><strong>Описание сочетания клавиш</strong></a></li>
            </ul>            

            <div id="languageIcon">&#x2637; язык</div>
            <div id="languageItems">
                <ul class="langUl">
                    <li><a href="https://chatcipherai.com/en/Hill_Cipher.html" title="English">English</a></li>
                    <li><a href="https://chatcipherai.com/fr/Hill_Cipher.html" title="Français">Français</a></li>
                    <li><a href="https://chatcipherai.com/es/Hill_Cipher.html" title="Español">Español</a></li>
                    <li><a href="https://chatcipherai.com/zh-CN/Hill_Cipher.html" title="中文（简体）">中文（简体）</a></li>
                    <li><a href="https://chatcipherai.com/zh-TW/Hill_Cipher.html" title="中文（繁体）">中文（繁体）</a></li>
                    <li><a href="https://chatcipherai.com/ar/Hill_Cipher.html" title="العربية">العربية</a></li>
                    <li><a href="https://chatcipherai.com/ru/Hill_Cipher.html" title="Русский">Русский</a></li>
                    <li><a href="https://chatcipherai.com/pt/Hill_Cipher.html" title="Português">Português</a></li>
                    <li><a href="https://chatcipherai.com/de/Hill_Cipher.html" title="Deutsch">Deutsch</a></li>
                    <li><a href="https://chatcipherai.com/hi/Hill_Cipher.html" title="हिन्दी">हिन्दी</a></li>
                    <li><a href="https://chatcipherai.com/nl/Hill_Cipher.html" title="Nederlands">Nederlands</a></li>
                </ul> 
            </div>
            
            <h1>Исследователь шифра Хилла</h1>
            <div class="style-selector">
                <button id="darkStyle">🌙 Тёмный стиль(<span class="highlight-key">N</span>)</button>
                <button id="lightStyle">☀ Светлый стиль(<span class="highlight-key">L</span>)</button>
            </div>
        </nav>
    </header>

    <main class="sections-container">           
        <section class="section interactive-tool">
            <h2>Попробуйте шифр Хилла</h2>
            <div id="matrixInputs">
                <label for="key">Введите ключ матрицы: матрица 2x2</label>
                <input type="text" id="key" placeholder="например, 1,2,3,4">
                <label for="inputText">Введите текст:</label>
                <textarea id="inputText" placeholder="Введите текст здесь"></textarea>
                <label>Результат:</label>
                <div id="result" ></div>
            </div>
        
            <div id="button-group">
                <button onclick="encrypt()">Зашифровать(<span class="highlight-key">E</span>)</button>
                <button onclick="decrypt()">Расшифровать(<span class="highlight-key">D</span>)</button>
                <button id="clearAllButton" class="clear-all-button" onclick="clearAll()">Очистить все(=(<span class="highlight-key">A</span>)</button>
            </div>
        </section>        
        
        <section class="form-group">
            <button onclick="generateMatrix()">Сгенерировать обратимую матрицу 2x2(<span class="highlight-key">G</span>)</button>
            <button id="copyMatrix" onclick="copyMatrixToClipboard()">Копировать матрицу(<span class="highlight-key">C</span>)</button>
            <button id="toggleMatrixDisplay" onclick="toggleMatrixDisplay()">Закрыть(<span class="highlight-key">o</span>)</button>
            <div id="matrixDisplay"></div>
        </section>
        
        <section class="right-shifted-paragraph">
            <h2>Как использовать шифр Хилла?</h2>
            <p>
                Использование шифра Хилла включает в себя базовые знания линейной алгебры, главным образом операции с матрицами. Этот процесс можно разделить на несколько этапов: выбор ключа, шифрование и дешифрование.
            </p>
            
            <h3>Выбор ключа: </h3>
            <p>
                Сначала вам необходимо выбрать ключ, который является обратимой матрицей. В шифре Хилла ключом является матрица n×n, где n - любое число, которое вы выберете. Важно, чтобы эта матрица была обратимой (то есть имела обратную), поскольку ее обратная матрица требуется в процессе дешифрования.
            </p>
            
            <h3>Подготовка текста: </h3>
            <p>
                Разделите ваш исходный текст (сообщение, которое нужно зашифровать) на блоки длиной n. Если последний блок короче n символов, вы можете дополнить его некоторыми заполнителями (например, буквой X). Каждый символ должен быть отображен в число; например, можно использовать сопоставление A=0, B=1, C=2, ..., Z=25.
            </p>
            
            <h3>Процесс шифрования: </h3>
            <p>
                Для каждого блока исходного текста длиной n рассматривайте его как столбец-вектор и умножайте его на ключевую матрицу. Результат затем берется по модулю 26 (поскольку в алфавите 26 букв). Операция модуля 26 применяется к каждому элементу результата умножения матриц. Полученный новый столбец-вектор соответствует блоку шифртекста.
            </p>
            
            <h3>Процесс дешифрования: </h3>
            <p>
                Для дешифрования вам сначала нужно вычислить обратную матрицу ключа, убедившись, что все элементы в обратной матрице являются целыми числами. Это обычно включает нахождение присоединенной матрицы и определителя ключевой матрицы, а затем взятие обратного к определителю по модулю 26. Используя эту обратную матрицу, исходный блок открытого текста получается путем умножения его на блок шифртекста и взятия результата по модулю 26.
            </p>
            
            <h4>Что такое операция по модулю 26?</h4>
            <p>
                "Операции по модулю 26" относятся к типу математических вычислений, часто используемых при решении задач в конечном наборе, особенно в криптографии и теории чисел. Операция по модулю - это тип деления, который вместо частного дает остаток от деления, и модуль 26 конкретно относится к <strong>остатку</strong> после деления на 26.
            </p>
            
            <p>
                Для любого целого числа 'a' результатом операции модуля 26 является остаток от деления 'a' на 26. Это математически обозначается как 'a mod 26', что читается как "'a' по модулю 26". Результат операции <a href="https://en.wikipedia.org/wiki/Modulo" rel="noopener noreferrer" target="_blank" style="color: #007bff; font-size: 1.0em;">модуля</a> 26 всегда является целым числом между 0 и 25, охватывающим 26 возможных исходов. В контексте шифра Хилл, операции по модулю 26 обеспечивают, что все результаты вычислений находятся в диапазоне от 0 до 25, что соответствует 26 буквам алфавита. Например, 'A' рассматривается как 0, 'B' как 1, и так далее до 'Z', которое равно 25.
            </p>
            
            <p>
                При шифровании текста с использованием <a href="https://en.wikipedia.org/wiki/Hill_cipher" rel="noopener noreferrer" target="_blank" style="color: #007bff; font-size: 1.0em;">шифра Хилла</a>, каждая буква сначала преобразуется в соответствующее ей число (A=0, B=1, ..., Z=25). После умножения матриц и других операций конечные числовые значения подвергаются операциям по модулю 26 для того, чтобы сопоставить их обратно в диапазон от 0 до 25, а затем обратно в буквы. Это делается для того, чтобы результаты после каждой операции оставались допустимыми буквами. Если у вас есть числовое значение 29, и вы выполняете над ним операцию по модулю 26, результатом будет остаток от деления 29 на 26, который равен 3. В контексте шифра Хилла это означает, что числовое значение 29 будет соответствовать букве 'D'.
            </p>
            
            <p>
                В шифре Хилла ключ является обратимой матрицей, а открытый текст представлен в виде серии векторов. Процесс шифрования включает линейное преобразование (умножение матриц) векторов открытого текста с ключевой матрицей, за которым следует применение операций по модулю 26, чтобы гарантировать, что каждый элемент является целым числом от 0 до 25, таким образом, способным быть отображенным обратно в буквы.
            </p>
                            
            <p>
                В заключение, операции по модулю 26 являются критически важным шагом в шифре Хилла, который обеспечивает оставание вычислительных результатов в пределах границ алфавита, позволяя алгоритму шифрования работать в ограниченном наборе букв, сохраняя симметрию в процессе шифрования и дешифрования.
            </p>
            
            <h3>Пример:</h3>
            <p>
                Предположим, мы выбираем ключевую матрицу 2×2, и наш открытый текст - "HELLOWORLD". Мы используем ключевую матрицу [[3,3],[2,5]] и разделяем зашифрованное сообщение 'HELLOWORLD' на блоки по две буквы каждый. Символы численно отображаются в соответствии с последовательностью, где A=0, B=1, C=2, ..., и Z=25.
            </p>
            <p>1. Для блока [7,4] (соответствующего "HE") :
            <br>
                • Умножение матриц с использованием ключевой матрицы :
            </p>
            
            <p>
                $$
                \left[
                \begin{array}{cc}
                3 & 3 \\
                2 & 5 \\
                \end{array}
                \right]
                \left[
                \begin{array}{c}
                7 \\
                4 \\
                \end{array}
                \right]
                =
                \left[
                \begin{array}{c}
                3 \cdot 7 + 3 \cdot 4 \\
                2 \cdot 7 + 5 \cdot 4 \\
                \end{array}
                \right]
                =
                \left[
                \begin{array}{c}
                21 + 12 \\
                14 + 20 \\
                \end{array}
                \right]
                =
                \left[
                \begin{array}{c}
                33 \\
                34 \\
                \end{array}
                \right]
                $$
            </p>

            <p>
                • Возьмите каждый элемент по модулю 26:
                $$
                \left[
                \begin{array}{c}
                33 \\
                34 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                7 \\
                8 \\
                \end{array}
                \right]
                $$
                • Преобразовать числа обратно в буквы: 7->H, 8->I. Таким образом, "HE" зашифровано как "HI".
            </p>

            <p>2. Для блока [11,11] (соответствующего "LL") :
                <br>
                • Возьмите каждый элемент по модулю 26:
            </p>

            <p>
                $$
                \left[
                \begin{array}{c}
                66 \\
                77 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                14 \\
                25 \\
                \end{array}
                \right]
                $$
                • Преобразовать числа обратно в буквы: 14->O, 25->Z. Таким образом, "LL" зашифровано как "OZ"
            </p>

            <p>3. Для блока [14,22] (соответствующего "OW") :
                <br>
                • Взять каждый элемент по модулю 26 :
            </p>

            <p>
                $$
                \left[
                \begin{array}{c}
                108 \\
                138 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                4 \\
                8 \\
                \end{array}
                \right]
                $$
                • Преобразовать числа обратно в буквы: 4->E, 8->I. Таким образом, "OW" зашифровано как "EI".
            </p>

            <p>4. Для блока [14,17] (соответствует "OR") :
                <br>
                • Взять каждый элемент по модулю 26 :
            </p>

            <p>
                $$
                \left[
                \begin{array}{c}
                93 \\
                113 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                15 \\
                9 \\
                \end{array}
                \right]
                $$
                • Преобразовать числа обратно в буквы: 15->P, 9->J. Таким образом, "OR" зашифровано как "PJ".
            </p>

            <p>5. Для блока [11,3] (соответствует "LD"):
                <br>
                • Взять каждый элемент по модулю 26 :
            </p>

            <p>
                $$
                \left[
                \begin{array}{c}
                42 \\
                37 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                16 \\
                11 \\
                \end{array}
                \right]
                $$
                • Преобразовать числа обратно в буквы: 16->Q, 11->L. Таким образом, "LD" зашифровано как "QL".
            </p>

            <p>
                Объединяя эти зашифрованные блоки, мы получаем итоговый шифртекст: <strong>"HIOZEIPJQL"</strong>. 
                Этот процесс показывает, как шифр Хилла использует матричные операции из линейной алгебры для шифрования текста.
            </p>

            <h2>Шифр Хилла: Понимание его ключевых особенностей и механизма шифрования</h2>
            <p>
                <strong>Шифр Хилла</strong> известен своей зависимостью от <em>матричных операций</em> в процессах шифрования и дешифрования. Ключевым аспектом его функциональности является <strong>обратимость ключевой матрицы</strong>. Без обратимой ключевой матрицы, требующей ненулевого определителя и обратного элемента по модулю, дешифрование становится невозможным.
            </p>
            <h3>Ключевые аспекты процессов шифрования и дешифрования</h3>
            <p>
                Эффективность шифрования и дешифрования шифра Хилла зависит от <strong>обратимости ключевой матрицы</strong>. Этот процесс включает преобразование текстовых данных в числовые векторы, которые затем трансформируются с использованием умножения матриц.
            </p>
            <ul>
                <li><strong>Обратимость матрицы:</strong> Обратимая матрица, или невырожденная, сочетается с обратной матрицей для получения единичной матрицы — ключевого фактора для дешифрования.</li>
                <li><strong>Определитель и обратный элемент по модулю:</strong> Определитель дает представление об обратимости матрицы, что необходимо для эффективного выполнения операций дешифрования в рамках модульной арифметики шифра Хилла.</li>
            </ul>
            <p>
                Подводя итог, выбор обратимой ключевой матрицы критичен для шифра Хилла, гарантируя, что зашифрованная информация может быть успешно расшифрована. Это подчеркивает важность понимания матричных операций и модульной арифметики в криптографии.
            </p>
            


            <h2>Может ли шифр Хилла использовать матрицу 3x3 или матрицы более высокого порядка?</h2>
            <p>
                Ответ положительный. Одной из ключевых особенностей шифра Хилла является то, что он может использовать квадратные матрицы любого размера в качестве ключевой матрицы, при условии, что матрица обратима (то есть имеет обратную матрицу в используемом модуле).
            </p>
            
            <p>
                Использование матрицы 3x3 или матрицы более высокого порядка может повысить безопасность, поскольку они увеличивают сложность ключа. Однако по мере увеличения размера матрицы вычисления, необходимые для шифрования и дешифрования, становятся более сложными и времязатратными. Кроме того, для соответствия размеру ключевой матрицы размер блоков текста также должен увеличиваться, что может потребовать использования большего количества символов заполнения для шифрования последнего блока.
            </p>
            
            <p>
                Например, использование ключевой матрицы 3x3 потребует деления текста на блоки по три символа каждый. Каждый символ преобразуется в числовое значение, а затем эти три значения организуются в вектор для умножения на ключевую матрицу. Этот метод увеличивает возможные комбинации для ключа, тем самым повышая безопасность алгоритма шифрования.
            </p>
            <p>
                Гибкость шифра Хилла позволяет использовать ключевые матрицы различных размеров, включая матрицы 3x3 и матрицы более высоких порядков. Выбор матриц более высокого порядка может усилить шифрование, но также требует больше вычислительных ресурсов и соответствующих стратегий обработки текста.
            </p>
            
            <h2>Различия между шифром Хилла и шифром Плейфера в криптографии</h2>
            <p>
                И <strong>шифр Хилла</strong>, и <strong>шифр Плейфера</strong> являются классическими методами шифрования с уникальными подходами к замене букв. Несмотря на общую цель защиты открытых текстовых сообщений, они значительно различаются в своей работе. Понимание этих различий важно для энтузиастов и профессионалов криптографии.
            </p>
            <h3>Принципы и методы</h3>
            <ul>
                <li><strong>Шифр Хилла:</strong> Работает, разделяя открытый текст на блоки фиксированной длины и шифруя их с помощью ключевой матрицы, используя модульную арифметику для генерации шифртекста. Дешифрование зависит от обратной ключевой матрицы.</li>
                <li><strong>Шифр Плейфера:</strong> Шифрует пары букв с использованием ключевой матрицы 5x5 на основе ключевого слова, применяя специфические правила для повторяющихся букв и нечетных пар букв, при этом дешифрование следует обратным этим правилам.</li>
            </ul>
            <h3>Длина ключа и конструкция</h3>
            <ul>
                <li><strong>Шифр Хилла:</strong> Использует ключ-матрицу, размер которой зависит от размера блока (например, 2x2, 3x3).</li>
                <li><strong>Шифр Плейфера:</strong> Использует ключевое слово для построения матрицы 5x5 для процессов шифрования и дешифрования.</li>
            </ul>
            <h3>Группировка открытого текста и генерация шифртекста</h3>
            <ul>
                <li><strong>Шифр Хилла:</strong> Разделяет открытый текст на равные блоки, используя математические операции для шифрования.</li>
                <li><strong>Шифр Плейфера:</strong> Разделяет открытый текст на пары, используя правила ключевой матрицы для создания шифртекста.</li>
            </ul>
            

            <h2>Как шифр Хилла обрабатывает шифрование и дешифрование текстов с нечетным числом символов?</h2>
            <p>
                При обработке текста с нечетной длиной, подобно шифру Плейфера, шифру Хилла также требуется метод обработки последнего неполного блока. Вот несколько методов для обработки текстов нечетной длины:
            </p>
            <ul>
                <li><strong>Дополнение:</strong> Самый распространенный метод - добавление одного или нескольких заранее определенных символов (например, X или 0) в конце текста, чтобы соответствовать требованию матрицы. Это гарантирует, что все символы могут быть зашифрованы. Например, если используется матрица 2x2 и длина текста нечетная, можно добавить символ в конце текста, чтобы сделать его длину четной. Этот метод также используется на этой веб-странице.</li>
                <li><strong>Специальная обработка последнего символа:</strong> Другой метод - обработка последнего символа отдельно. Например, можно просто оставить последний символ неизменным или зашифровать его с использованием какого-то простого метода шифрования, вместо использования метода шифрования Хилла.</li>
                <li><strong>Изменение размера матрицы:</strong> При возможности можно также выбрать матрицу другого размера для шифрования последнего блока. Например, если обычно используется матрица 3x3, но остался только один или два символа, можно использовать матрицу 2x2 или 1x1 для обработки оставшихся символов. Этот метод требует дополнительной матрицы и может усложнить процесс шифрования.</li>
            </ul>
            <p>
                Выбор метода зависит от конкретной ситуации и требований безопасности. Обычно дополнение является самым простым и прямолинейным методом, но каждый подход имеет свои преимущества и недостатки. Главное - обеспечить согласованность процессов шифрования и дешифрования, а также убедиться, что обе стороны правильно обрабатывают текст.
            </p>            
        </section>
    </main>

    <footer class="footer">
        <div class="social-links">
            <a href="https://twitter.com/xinli_111219" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="https://www.youtube.com/@xinli-vj3js" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-youtube"></i>
            </a> 
        </div>
    
        <div class="info">
            <p>© 2024 chatcipher Tools. Все права защищены.</p>
            <p>
                <a href="https://chatcipherai.com/ru/Privacy_Policy.html" title="Privacy Policy">Политика конфиденциальности</a>
                |
                <a href="https://chatcipherai.com/ru/Terms_of_Use.html" title="Terms of Use">Условия использования</a>
                |
                <a href="https://chatcipherai.com/ru/About_Us.html" title="About Us">О нас</a>
                |
                <a href="https://chatcipherai.com/ru/Disclaimer.html" title="Disclaimer">Отказ от ответственности</a>
            </p>
            <button id="backToTop" onclick="scrollToTop()">Вернуться наверх</button>
        </div> 
    </footer>

    <script>
    let shortcutsEnabled = true;

    function manageShortcuts(enable) {
        shortcutsEnabled = enable;
    }

    function handleKeyPress(event) {
        if (!shortcutsEnabled) {
            console.log('Shortcuts are disabled');
            return;
        }

        switch (event.key.toUpperCase()) {
            case 'E':
                encrypt();
                console.log('Encode triggered');
                break;
            case 'D':
                decrypt();
                console.log('Decode triggered');
                break;
            case 'A':
                clearAll();
                console.log('Clear All triggered');
                break;
            case 'L':
                if (document.activeElement.type !== 'text' && document.activeElement.type !== 'textarea') {
                    setStyle('light-mode');
                    console.log('Light style activated');
                }
                break;
            case 'N':
                if (document.activeElement.type !== 'text' && document.activeElement.type !== 'textarea') {
                    setStyle('dark-mode');
                    console.log('Dark style activated');
                }
                break;
            case 'B':
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
                console.log('Scrolled to top');
                break;
            case 'G':
                generateMatrix();
                console.log('Matrix generation triggered');
                break;
            case 'C':
                copyMatrixToClipboard();
                console.log('Copy matrix triggered');
                break;
            case 'O':
                toggleMatrixDisplay();
                console.log('Toggle matrix display triggered');
                break;
            case 'S':
                showMatrix();
                console.log('Show matrix triggered');
                break;
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        const inputElements = document.querySelectorAll('input[type="text"], textarea');
        inputElements.forEach(input => {
            input.addEventListener('focus', () => manageShortcuts(false));
            input.addEventListener('blur', () => manageShortcuts(true));
        });

        document.addEventListener('keydown', handleKeyPress);
    });

        function textToNumbers(text) {
            return text.split('').map(char => {
                const charCode = char.charCodeAt(0);
                if (/[a-z]/.test(char)) {
                    return charCode - 'a'.charCodeAt(0);
                } else if (/[A-Z]/.test(char)) {
                    return charCode - 'A'.charCodeAt(0);
                } else {
                    return charCode;
                }
            });
        }

        function numbersToText(numbers) {
            return numbers.map(num => {
                if (num >= 0 && num < 26) {
                    return String.fromCharCode(mod(num, 26) + 'A'.charCodeAt(0));
                } else {
                    return String.fromCharCode(num);
                }
            }).join('');
        }

        function parseKey(keyString) {
            return keyString.split(',').map(Number);
        }

        function mod(n, m) {
            return ((n % m) + m) % m;
        }

        function multiplyMatrixAndVector(matrix, vector, modValue) {
            const result = [];
            for (let i = 0; i < matrix.length; i++) {
                let sum = 0;
                for (let j = 0; j < vector.length; j++) {
                    sum += matrix[i][j] * vector[j];
                }
                result.push(mod(sum, modValue));
            }
            return result;
        }

        function padText(text) {
            if (text.length % 2 !== 0) {
                text += 'X'; // Append 'X' if text length is odd
            }
            return text;
        }

        function encrypt() {
            let text = document.getElementById('inputText').value.replace(/[^a-zA-Z]/g, ''); 
            text = padText(text); // Ensure text length is even for the matrix operations
            const keyNumbers = parseKey(document.getElementById('key').value);
            if (keyNumbers.length !== 4) {
                document.getElementById('result').textContent = 'Key format error. Please enter four comma-separated numbers.';
                return;
            }
            const keyMatrix = [[keyNumbers[0], keyNumbers[1]], [keyNumbers[2], keyNumbers[3]]];
            const det = keyNumbers[0] * keyNumbers[3] - keyNumbers[1] * keyNumbers[2];
            if (det === 0 || !hasModularInverse(det, 26)) {
                document.getElementById('result').textContent = 'Invalid matrix key. No inverse exists.';
                return;
            }
            const textNumbers = textToNumbers(text);
            let encryptedNumbers = [];
            for (let i = 0; i < textNumbers.length; i += 2) {
                encryptedNumbers.push(...multiplyMatrixAndVector(keyMatrix, [textNumbers[i], textNumbers[i + 1]], 26));
            }
            const encryptedText = numbersToText(encryptedNumbers);
            let resultElement = document.getElementById('result');
            resultElement.textContent = encryptedText;
            resultElement.style.color = "blue"; // Set text color to blue
        }

        function modInverse(a, m) {
            for (let i = 1; i < m; i++) {
                if ((a * i) % m === 1) {
                    return i;
                }
            }
            return null;
        }

        function removePaddingX(decryptedText) {
            let chars = decryptedText.split('');
            for (let i = 1; i < chars.length - 1; i++) {
                // Remove 'X' if it is between two identical letters
                if (chars[i] === 'X' && chars[i - 1] === chars[i + 1]) {
                    chars.splice(i, 1);
                    i--; // Adjust index after removing 'X'
                }
            }
            // Check if the last character is 'X' and if so, it is highlighted in red
            if (chars[chars.length - 1] === 'X') {
                return chars.join('').slice(0, -1) + '<span style="color: red;">X</span>';
            }
            return chars.join('');
        }

        function decrypt() {
            let text = document.getElementById('inputText').value.replace(/[^a-zA-Z]/g, '');  
            const keyNumbers = parseKey(document.getElementById('key').value);

            const det = keyNumbers[0] * keyNumbers[3] - keyNumbers[1] * keyNumbers[2];
            const invDet = modInverse(det, 26);

            if (invDet === null) {
                document.getElementById('result').innerHTML = "Invalid Key for Decryption (No Modular Inverse)";
                document.getElementById('result').style.color = "#0A0F24"; // Set the color of the error message
                return;
            }

            const keyMatrixInverse = [
                [mod(invDet * keyNumbers[3], 26), mod(-invDet * keyNumbers[1], 26)],
                [mod(-invDet * keyNumbers[2], 26), mod(invDet * keyNumbers[0], 26)]
            ];

            const textNumbers = textToNumbers(text);

            let decryptedNumbers = [];
            for (let i = 0; i < textNumbers.length; i += 2) {
                decryptedNumbers.push(...multiplyMatrixAndVector(keyMatrixInverse, [textNumbers[i], textNumbers[i + 1]], 26));
            }

            let decryptedText = numbersToText(decryptedNumbers);

            decryptedText = removePaddingX(decryptedText); // Use the updated removePaddingX function

            let resultElement = document.getElementById('result');
            resultElement.innerHTML = decryptedText; // Set the HTML content
            resultElement.style.color = "#0A0F24"; // Set the color of the decryption result
        }

        document.getElementById('menuIcon').addEventListener('click', function () {
            var navbarUl = document.querySelector('.navbar ul');
            if (navbarUl.style.display === 'flex') {
                navbarUl.style.display = 'none';
            } else {
                navbarUl.style.display = 'flex';
            }
        });

        document.getElementById('languageIcon').addEventListener('click', function () {
            var navbarUl = document.querySelector('.navbar .langUl');
            if (navbarUl.style.display === 'flex') {
                navbarUl.style.display = 'none';
            } else {
                navbarUl.style.display = 'flex';
            }
        });

        document.addEventListener('click', function (event) {
            var menuIcon = document.getElementById('menuIcon');
            var menunavbarUl = document.querySelector('.navbar .menuUl');

            var languageIcon = document.getElementById('languageIcon');
            var langnavbarUl = document.querySelector('.navbar .langUl');

            if (!menuIcon.contains(event.target) && !menunavbarUl.contains(event.target)) {
                menunavbarUl.style.display = 'none';
            }
            if (!languageIcon.contains(event.target) && !langnavbarUl.contains(event.target)) {
                langnavbarUl.style.display = 'none';
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            var savedStyle = localStorage.getItem('style') || 'dark-mode';
            setStyle(savedStyle);
        });

        document.getElementById('lightStyle').addEventListener('click', function() {
            setStyle('light-mode');
        });

        document.getElementById('darkStyle').addEventListener('click', function() {
            setStyle('dark-mode');
        });

        function setStyle(style) {
            document.body.className = style;
            localStorage.setItem('style', style);
            updateButtonStyles();
            updateNavbarStyles(style);
            updateTableStyle(style);
            updateInteractiveToolStyle(style);
        }

        function updateInteractiveToolStyle(style) {
            var interactiveTool = document.querySelector('.section.interactive-tool');
            if (style === 'dark-mode') {
                interactiveTool.style.backgroundColor = '#ffffff';
            } else {
                interactiveTool.style.backgroundColor = '#f0f0f0';
            }
        }

        function updateNavbarStyles(style) {
            var navbar = document.querySelector('.navbar');
            var ul = navbar.querySelector('ul');
            navbar.style.backgroundColor = style === 'dark-mode' ? '#0A0F24' : '#FFFFFF';
            ul.style.backgroundColor = style === 'dark-mode' ? 'rgba(119, 136, 153, 0.8)' : 'rgba(255, 255, 255, 0.8)';
            ul.style.color = style === 'dark-mode' ? '#FFFFFF' : '#0A0F24';
        }

        document.querySelectorAll('.learnMore').forEach(function(link) {
            link.addEventListener('click', function() {
                var targetId = this.getAttribute('data-target');
                var moreContent = document.getElementById(targetId);
                if (moreContent.style.display === "none" || moreContent.style.display === "") {
                    moreContent.style.display = "block";
                    this.textContent = "[Close]";
                } else {
                    moreContent.style.display = "none";
                    this.textContent = "[Learn More]";
                }
            });
        });

        function clearAll() {
            var inputText = document.getElementById('inputText');
            var result = document.getElementById('result');
            var key = document.getElementById('key');

            inputText.value = ''; // Clears the textarea
            key.value = ''; // Clears the input for key
            result.innerHTML = ''; // Clears the content of the div#result

            // Optionally reset the style or other properties if needed
            result.style.color = ""; // Resets the text color to default
        }

        function generateMatrix() {
            let a, b, c, d, det;
            do {
                a = Math.floor(Math.random() * 20) - 10;
                b = Math.floor(Math.random() * 20) - 10;
                c = Math.floor(Math.random() * 20) - 10;
                d = Math.floor(Math.random() * 20) - 10;
                det = a * d - b * c;
            } while (det === 0 || !hasModularInverse(det, 26));

            const matrixDisplay = document.getElementById('matrixDisplay');
            matrixDisplay.innerHTML = 
                '<p>Сгенерированная матрица:</p>' +
                '<p>[' + a + ' ' + b + ']</p>' +
                '<p>[' + c + ' ' + d + ']</p>' +
                '<p>Определитель: ' + det + ' (mod 26)</p>';

            if (document.body.classList.contains('dark-mode')) {
                matrixDisplay.classList.add('matrix-dark');
            } else {
                matrixDisplay.classList.remove('matrix-dark');
            }
        }

        function hasModularInverse(n, m) {
            n = n % m;
            for (let x = 1; x < m; x++) {
                if ((n * x) % m === 1) {
                    return true;
                }
            }
            return false;
        }

        function toggleMatrixDisplay() {
            var matrixDisplay = document.getElementById('matrixDisplay');
            var toggleButton = document.getElementById('toggleMatrixDisplay');
            if (matrixDisplay.style.display === 'none' || matrixDisplay.style.display === '') {
                matrixDisplay.style.display = 'block';
                toggleButton.innerHTML = 'Закрыть(<span class="highlight-key">o</span>)';
            } else {
                matrixDisplay.style.display = 'none';
                toggleButton.innerHTML = "Развернуть матрицу(<span class='highlight-key'>o</span>)";
            }
        }

        function copyMatrixToClipboard() {
            const matrixDisplay = document.getElementById('matrixDisplay');
            const copyStatus = document.getElementById('copyStatus');
            const matrixParagraphs = matrixDisplay.getElementsByTagName('p');
            if (matrixParagraphs.length >= 3) {
                const matrixRow1 = matrixParagraphs[1].innerText.match(/[-\d]+/g);
                const matrixRow2 = matrixParagraphs[2].innerText.match(/[-\d]+/g);
                if (matrixRow1 && matrixRow2) {
                    const matrixString = matrixRow1.concat(matrixRow2).join(',');
                    navigator.clipboard.writeText(matrixString).then(function() {
                        copyStatus.innerText = 'Matrix copied to clipboard: ' + matrixString;
                        copyStatus.style.display = 'block';
                    }, function() {
                        copyStatus.innerText = 'Failed to copy matrix.';
                        copyStatus.style.display = 'block'; 
                    });
                } else {
                    copyStatus.innerText = 'No matrix to copy.';
                    copyStatus.style.display = 'block'; 
                }
            } else {
                copyStatus.innerText = 'No matrix to copy.';
                copyStatus.style.display = 'block';
            }
        }

        function hideCopyStatus() {
            const copyStatus = document.getElementById('copyStatus');
            if (copyStatus) {
                copyStatus.style.display = 'none';
            }
        }

        document.addEventListener('click', function() {
            hideCopyStatus();
        });

        window.onscroll = function () { scrollFunction(); };
        function scrollFunction() {
            if (document.body.scrollTop > 10 || document.documentElement.scrollTop > 20) {
                document.getElementById("backToTop").style.display = "block";
            } else {
                document.getElementById("backToTop").style.display = "none";
            }
        }
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.addEventListener('DOMContentLoaded', function() {
            var navbar = document.querySelector('.navbar');
            window.onscroll = function() {
                if(window.scrollY > 50) {
                    navbar.classList.add('solid');
                } else {
                    navbar.classList.remove('solid');
                }
            };
        });

        function adjustButton() {
            var button = document.getElementById('backToTop');
            if (window.innerWidth < 768) {
                button.innerHTML = '▲';
            } else {
                button.innerHTML = 'Вернуться наверх(<span class="highlight-key">B</span>)';
            }
        }

        window.onload = adjustButton;
        window.onresize = adjustButton;

    </script>
    <div style="display: none;">
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-LZTEEH0M4K"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
    
            gtag('config', 'G-LZTEEH0M4K');
        </script>
    </div>
</body>
</html>

