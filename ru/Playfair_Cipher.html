<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Исследователь шифра Плейфера: классическая матрица шифрования 5x5</title>
    <meta name="description" content="В мире шифра Плейфера слова танцуют, как древние исполнители в 5x5 камере, изящно прыгая парами, тесно переплетаясь, превращая каждую историю в таинственный шифр, который нельзя легко расшифровать.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="icon" type="image/jpg" href="./images/cipher.jpg">
    <style>    
        html {
            height: 100%;
            }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 100vh;
            align-items: center;
            margin: 0;
            padding: 0 20px 20px 20px;
            background-color: #0A0F24;
            color: #FFFFFF;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: rgba(10, 15, 36, 0.0);
            transition: background-color 0.5s ease;
            z-index: 1000;
            height: 40px;
        }

        .navbar.solid {
            background-color: rgba(10, 15, 36, 1);
        }   

        #menuIcon {
            cursor: pointer; 
            transition: color 0.3s ease; 
        }

        #menuIcon:hover {
            color: #a3a2a2; 
        }

        #languageIcon {
            cursor: pointer;
            transition: color 0.3s ease;
            position: relative;
            left: -10px;
        }

        #languageIcon:hover {
            color: #a3a2a2;
        }

        .navbar .langUl {
            left: 87px;
            width: 100px;
        }

        .navbar.active ul {
            display: flex;
            flex-direction: column; 
            position: absolute;
            top: 35px; 
            left: 10px;
            width: 15%; 
            background-color: rgba(119, 136, 153, 0.8);
            padding: 10px 0; 
        }

        .navbar.active ul li {
            margin-bottom: 1px; 
        }

        .navbar.active ul li:last-child {
            margin-bottom: 0; 
        }

        .navbar ul {
            display: none;
            flex-direction: column;
            position: absolute;
            top: 50px;
            left: 10px;
            background-color: transparent;
            padding: 10px 0;
            list-style: none;
            margin: 0;
            width: 13%;
        }

        .navbar.active ul {
            display: flex;
        }

        .section.interactive-tool {
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center;
            background-color: #bbbaba;
            padding: 20px; 
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            margin-bottom: 150px;
        }

        #inputMessage, #shiftValue {
            width: 60%; 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 5px;
            border: 1px solid #eae6e6;
            font-size: 1em;
        }

        .sections-container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: center;
            margin-top: 120px;
            margin-left: 180px;
            width: 80%;
        }

        .sections-container h2, .sections-container p {
            text-align: left;
            width: 80%;
        }

        #processedPlaintext, #result {
            font-weight: bold;
            color: #0A0F24;
            word-wrap: break-word; 
        }

        #processedPlaintextParagraph, #resultParagraph {
            margin-bottom: 5px;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #bbbaba;
            padding: 50px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 70%; 
            color: #ffffff; 
            margin-left: 5%;
            margin-top: 30px;
            margin-bottom: 200px;
        }
            
        input[type="text"], textarea {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* 字体样式 */
            font-size: 15px; 
            color: #0A0F24; 
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 5px;
            border: 1px solid #eae6e6;
            resize: none;
        }

        input[type="text"] {
            width: 65%;
        }

        .container h2 {
            margin-top: -7px; 
            text-align: left;
            margin-left: -50px;
        }

        .container p {
            margin-left: -50px;
            color: #0A0F24;
        }

        #inputText {
            width: 65%; 
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            border: 1px solid #eae6e6;
            min-height: 100px;
        }

        #inputText::-moz-placeholder {
            font-weight: bold;
        }

        textarea {
            resize: vertical;
            min-height: 40px;
            max-height: 300px;
        }

        .section {
            margin-left: 60px;
        }

        p {  
            margin-bottom: 30px;  
            text-align: left; 
            font-size: 1.2em; 
            line-height: 1.6; 
            margin-bottom: 15px; 
        }

        h2 {  
            margin-bottom: 10px;
            font-size: 28px;  
        }

        .sections-container h2:hover {
            color: #4bcfcf;
            transition: color 0.3s ease;
        }

        .navbar li a {
            color: white; 
            padding: 5px;
            text-decoration: none;
            font-size: 15px;
            background-color: rgba(0, 0, 0, 0.3); 
            display: block;
            border-radius: 5px;
        }

        .navbar ul li {
            margin-bottom: 1px;
        }

        .navbar ul li a:hover {
            background-color: rgba(255, 255, 255, 0.206); 
            color: #0A0F24;
        }

        .navbar h1 {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            margin-top: 35px;
            margin-right: 0;
            font-size: 30px;
        }

        .navbar-dark {
            background-color: #0A0F24; 
        }

        p { 
            text-align: center;  
            margin-bottom: 30px;  
        }

        h2 {  
            margin-bottom: 10px;  
        }

        h3 {
            margin-top: 50px;
            font-size: 22px;
        }

        h4 {
            font-size: 20px;
        }

        .morse-code-container {
            display: flex;
            align-items: center;
        }

        .morse-code-container .copy-button {
            margin-right: 5px; 
            margin-left: 0; 
        }

        button {
            cursor: pointer;
            margin: 10px;
            padding: 8px 15px;
            margin-left: 5px;
            background-color: #0A0F24;
            border: none;
            border-radius: 5px;
            color: #FFFFFF;
            transition: background 0.3s;
        }

        button:hover {
            background-color: #a8a8a8;
            color: #0A0F24;
        }

        .style-selector {
            position: absolute;
            top: 0px;
            right: 50px;
            margin-top: 10px;
        }

        .style-selector button {
            background-color: #0a0f24;
            padding: 5px 10px;
            margin-right: 1px;
            color: #F5F5F5;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .style-selector button:hover {
            background-color: #c0c0c0;
            color: #0a0f24;
        }

        .dark-mode {  
            background-color: #0A0F24;  
            color: white;  
        }  

        .light-mode {  
            background-color: white;  
            color: #0A0F24; 
        }

        .dark-mode .container p{
            color: #FFFFFF;
        }


        .light-mode .container {
            color: #0A0F24; 
        }

        .light-mode .navbar, .light-mode {
            background-color: #FFFFFF; 
            color: #0A0F24; 
        }

        .light-mode .navbar ul {
            background-color: transparent;
            color: #0A0F24; 
        }

        .dark-mode .navbar ul li a:hover {
            color: #30eded; 
        }

        .light-mode .navbar ul li:hover {
            color: #0A0F24; 
            background-color: rgba(255, 255, 255, 1);
            border-radius: 5px;
        }

        .navbar {
            justify-content: flex-start; 
        }

        #languageIcon {
            cursor: pointer; 
            transition: color 0.3s ease; 
            margin-left: 30px;
        }

        #languageIcon:hover {
            color: #a3a2a2; 
        }

        #languageSelect {
            padding: 5px 10px;
            margin-left: 10px;
            border-radius: 5px;
            border: none;
            background-color: #5f9ea0;
            color: white;
            cursor: pointer;
        }

        #languageSelect:hover {
            background-color: #2F4F4F;
            }

        .language-dropdown {
            width: 6%;
            display: none;
            list-style: none;
            padding: 10px 0;
            margin: 0;
            position: absolute;
            top: 40px;
            left: 100px; 
            background-color: rgba(119, 136, 153, 0.8);
        }

        .language-dropdown li a {
            color: #FFFFFF;
            padding: 5px;
            margin: 1px;
            text-decoration: none;
            display: block;
            border-radius: 8px;
        }

        .language-dropdown li a:hover {
            background-color: rgba(255, 255, 255, 0.206);
            color: #0A0F24;
        }

        .table-container {
            display: none; 
            justify-content: center;
            align-items: center;
            width: 100%;   
            }

        .table-container.active {
            display: block;
        }

        .button-container {
            display: flex;
            justify-content: center;
            margin-right: 20px
        }

        .button-container button {
            margin-right: 30px; 
        }

        .footer {
            position: relative; 
            width: 100%;
            background-color: #0A0F24;
            color: #FFFFFF;
            text-align: center;
            padding: 10px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            margin-bottom: -20px;
        }

        .footer a {
            color: #F5F5F5;
            text-decoration: none;
            margin: 0 12px;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: #a3a2a2;
        }

        .footer p {
            margin: 0;
            font-size: 16px;
        }

        .learnMore {
            color: #007bff;
            cursor: pointer;
            text-decoration: underline;
        }

        .moreContent p {
            margin-top: -25px;
        }
            
        .clear-all-button {
            background-color: #47d7ff;
        }

        .clear-all-button:hover {
            background-color: #57f7ff;
        }

        figure {
            display: flex;
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            text-align: center;
            width: 100%;
            margin: 0 auto;
        }

        img {
            max-width: 75%;
            height: auto;
            margin-left: -250px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        figcaption.playfair,
        figcaption.padding_rules {
            width: 100%;
            margin-left: -300px;
            color: #007bff;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 10px;
        }

        .navbar li {
            position: relative; 
        }

        .navbar li>a {
            display: block;
        }

        .navbar .submenu {
            display: none;
            position: absolute;
            left: 101%;
            top: 0;
            background-color: transparent;
            border-radius: 5px;
            padding: 0;
            min-width: 150px;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .navbar .submenu li {
            display: block;
            border-bottom: none;
            width: 90%;
        }

        .navbar .submenu li:last-child {
            border-bottom: none;
        }

        .navbar li:hover>.submenu {
            display: block;
        }

        .navbar .submenu a {
            color: #ffffff;
            padding: 5px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s ease;
        }

        .navbar .submenu a:hover {
            background-color: rgba(255, 255, 255, 0.206);
        }

        .cipher-matrix {
            font-size: 20px;
            letter-spacing: 5px; 
            line-height: 1.5;
            margin-left: -100px;
        }

        .highlight {
            color: red; 
            font-weight: bold; 
        }

        #backToTop {
            position: absolute;
            bottom: 5px;
            right: 30px;
            z-index: 99;
            border: none;
            outline: none;
            background-color: #0a0f24;
            color: white;
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            font-size: 14px;
            display: block;
        }

        #backToTop:hover {
            background-color: #c0c0c0;
            color: #0a0f24;
        }

        .cipher-matrix {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 16px;
            font-weight: bold;
        }

        section li {
            font-size: 17px;
            line-height: 1.5;
            word-wrap: break-word;
            width: 80%;
            padding-bottom: 10px; 
        }
        
        figcaption {
            margin-top: -40px;
            margin-bottom: 40px;
            margin-left: 280px;
            font-size: 18px;
            color: #007bff;
            font-weight: bold;
        }

        .language-list{
            float: right;
        }
        .language-list a{
            margin-left: 20px;
            color: white;
        }

        .language-list a:hover{
            color: #4bcfcf;
        }

        .language-list a {
            text-decoration: none;
        }

        .highlight-key { 
            font-weight: 800;
        }

        @media screen and (max-width: 768px) {
            .navbar h1 {
                font-size: 18px;
                position: absolute;
                top: -25px; 
            }
                
            .sections-container {
                margin-left: auto;
                margin-right: auto;
                align-items: center;
                width: 80%;
            }

            .section {
                width: 120%;
                padding: 10px;
            }

            .section h2 {
                font-size: 1.2em; 
            }

            .section h3 {
                font-size: 0.9em; 
            }

            .section h4 {
                font-size: 0.8em; 
            }

            .section p {
                font-size: 0.9em; 
            }

            .section li {
                font-size: 14px;
                margin-left: -20px;
            }

            .container {
                width: 100%; 
                padding: 20px; 
                font-size: 0.8em;
            }

            .container h2{
                font-size: 1.5em;
                margin-top: 10px;
            }

            input[type="text"] {
                width: 78%; 
            }

            textarea {
                width: 60%; 
            }

            .cipher-matrix {
                margin-left: -210px;
            }

            img {
                max-width: 80%;
                height: auto;
                margin-left: -80px;
            }

            figcaption.playfair,
            figcaption.padding_rules {
                width: 100%;
                margin-left: -90px;
                color: #007bff;
                font-size: 0.8em;
                font-weight: bold;
                margin-top: 10px;
            }

            .footer p {
                margin: 0;
                font-size: 10px;
            }

            #backToTop {
                content: '▲';
                padding: 4px 5px;
                font-size: 14px;
                right: 10px;
                bottom: 0px;
            }

            #inputText {
                width: 78%; 
            }

            #processedPlaintext, #result {
                font-weight: bold;
                color: #0A0F24;
                word-wrap: break-word; 
            }

            .navbar ul {
                width: 26%;
            }

            .navbar ul li {
                padding: 0 5px 0 0;
            }

            .navbar li a {
                padding: 5px;
            }

            .navbar li a {
                font-size: 10px;
                width: 100%;
                padding: 5px 0px 5px 5px;
            }

            .navbar .submenu {
                left: 100%;
            }

            .navbar .submenu li {
                display: block;
                border-bottom: none;
                width: 55%;
                padding: 0 5px 0 0;
            }

            .navbar .submenu li a {
                padding: 5px 0px 5px 5px;
            }

            #menuIcon {
                font-size: 0; /* Hide text */
            }
            #menuIcon::before {
                content: '\2630'; /* Unicode character for ☰ */
                font-size: 16px; /* Or any other size you prefer */
            }

            #languageIcon {
                font-size: 0; 
            }

            #languageIcon::before {
                content: '\2637';
                font-size: 16px; /* Or any other size you prefer */
            }

            .navbar .langUl {
                left: 42px;
                width: 65px;
            }

            #darkStyle {
                font-size: 0;
                margin-left: 10px;
                padding: 5px 8px;
            }

            #lightStyle {
                font-size: 0;
                margin-right: -10px;
            }

            #darkStyle::before {
                font-size: 9px;
            }

            #lightStyle::before {
                font-size: 10px;
            }

            #darkStyle::before {
                content: "🌙";
            }

            #lightStyle::before {
                content: "☀";
            }

            .social-links i {
                font-size: 12px;
            }
        }
    </style>
</head>

<body class="dark-mode">
    <header>
        <nav class="navbar">
            <div id="menuIcon">&#9776; меню</div>
            <div id="menuItems"></div>
            <ul class="menuUl">
                <li>
                    <a href="https://chatcipherai.com/ru/chatcipherai.html"><strong>Мир криптосистем</strong></a>
                    <ul class="submenu">
                        <li><a href="https://chatcipherai.com/ru/Caesar_Cipher.html"><strong>Шифр Цезаря</strong></a></li>
                        <li><a href="https://chatcipherai.com/ru/Playfair_Cipher.html"><strong>Шифр Плейфера</strong></a></li>
                        <li><a href="https://chatcipherai.com/ru/Hill_Cipher.html"><strong>Шифр Хилла</strong></a></li>  
                    </ul>
                </li>
                <li><a href="https://chatcipherai.com/ru/Hash_value_test.html"><strong>Тест хеш-значения</strong></a></li>
                <li><a href="https://chatcipherai.com/ru/Morsecode_main.html"><strong>Переводчик Морзе</strong></a></li>
                <li><a href="https://chatcipherai.com/ru/Shortcut_Key_Description.html"><strong>Описание сочетания клавиш</strong></a></li>
            </ul>            

            <div id="languageIcon">&#x2637; язык</div>
            <div id="languageItems">
                <ul class="langUl">
                    <li><a href="https://chatcipherai.com/en/Playfair_Cipher.html" title="English">English</a></li>
                    <li><a href="https://chatcipherai.com/fr/Playfair_Cipher.html" title="Français">Français</a></li>
                    <li><a href="https://chatcipherai.com/es/Playfair_Cipher.html" title="Español">Español</a></li>
                    <li><a href="https://chatcipherai.com/zh-CN/Playfair_Cipher.html" title="中文（简体）">中文（简体）</a></li>
                    <li><a href="https://chatcipherai.com/zh-TW/Playfair_Cipher.html" title="中文（繁体）">中文（繁体）</a></li>
                    <li><a href="https://chatcipherai.com/ar/Playfair_Cipher.html" title="العربية">العربية</a></li>
                    <li><a href="https://chatcipherai.com/ru/Playfair_Cipher.html" title="Русский">Русский</a></li>
                    <li><a href="https://chatcipherai.com/pt/Playfair_Cipher.html" title="Português">Português</a></li>
                    <li><a href="https://chatcipherai.com/de/Playfair_Cipher.html" title="Deutsch">Deutsch</a></li>
                    <li><a href="https://chatcipherai.com/hi/Playfair_Cipher.html" title="हिन्दी">हिन्दी</a></li>
                    <li><a href="https://chatcipherai.com/nl/Playfair_Cipher.html" title="Nederlands">Nederlands</a></li>
                </ul> 
            </div>

            <h1>Обозреватель шифров Playfair</h1>
            <div class="style-selector">
                <button id="darkStyle">🌙 Тёмный стиль(<span class="highlight-key">N</span>)</button>
                <button id="lightStyle">☀ Светлый стиль(<span class="highlight-key">L</span>)</button>
            </div>
        </nav>
    </header>

    <main class="sections-container">
        <div class="container">
            <h2>Попробуйте шифр Плейфера</h2>
            <p>Используйте предоставленные ниже инструменты для шифрования или дешифрования сообщения:</p>
            <input type="text" id="key" placeholder="Введите ключ" />
            <textarea id="inputText" placeholder="Введите текст здесь"></textarea>

            <button id="encryptButton">Зашифровать(<span class="highlight-key">E</span>)</button>
            <button id="decryptButton">Расшифровать(<span class="highlight-key">D</span>)</button>
            <button id="clearAllButton" class="clear-all-button" onclick="clearAll()">Очистить все(<span class="highlight-key">A</span>)</button>
            <p>Преобразование : <span id="processedPlaintext"></span></p>
            <p>Результат : <span id="result"></span></p>
        </div>
        
        <section class="section">
            <h2>Прошлое и настоящее шифра Плейфера</h2>
            <p>
                <a href="https://en.wikipedia.org/wiki/Playfair_cipher" rel="noopener noreferrer" target="_blank" style="color: #007bff; font-size: 1.0em;">Шифр Плейфера</a>, классический метод шифрования, обладает уникальной историей и происхождением. Изобретённый в 1854 году Чарльзом Уитстоном, британским учёным, известным своими достижениями в области электричества и оптики, он был назван не в честь своего изобретателя, а в честь его друга, Лиона Плейфера. Последний, будучи тогда британским министром иностранных дел, активно продвигал шифр и содействовал его практической реализации в государственной коммуникации.
            </p>
            
            <p>
                Шифр Плейфера, широко использовавшийся в 19 и начале 20 веков, особенно в военной связи, получил заметное распространение в армии Британии во время Первой мировой войны, став одной из наиболее распространённых систем ручного шифрования того времени. В отличие от других классических методов шифрования, шифр Плейфера шифрует пары букв, известные как диграфы, а не отдельные буквы, что повышает его безопасность по сравнению с простыми шифрами подстановки.
            </p>
            
            <p>
                Шифр Плейфера использует матрицу 5x5 букв для процесса шифрования. Как правило, эта матрица заполняется с использованием ключевого слова, а оставшиеся буквы алфавита располагаются в последовательности. В процессе шифрования открытый текст разделяется на пары букв, каждая из которых затем заменяется в соответствии с определёнными правилами, учитывающими их соответствующие позиции в матрице.
            </p>
            
            <p>
                История и происхождение шифра Плейфера отражают значительные достижения в криптографии и технологии связи середины 19 века. Его создание повлияло на последующие разработки в области криптографии, особенно как один из первых примеров подстановки двойных букв. Несмотря на отсутствие современной безопасности, шифр Плейфера остаётся важным предметом изучения классических методов шифрования.
            </p>
            
            <p>
                Хотя сегодня он больше не используется для защищённой связи, шифр Плейфера сохраняет своё значение в анналах криптографии и часто используется как вводное учебное пособие, например, для помощи студентам в понимании эволюции методов шифрования. Кроме того, его популярность простирается до игр-головоломок, квест-комнат и онлайн-вызовов, где участники наслаждаются решением криптографических головоломок. В мире геокешинга он находит применение в тайниках-загадках, где решатели расшифровывают подсказки, чтобы определить физическое местоположение геокеша.
            </p>
            
            <h2>Как создать шифр Плейфера?</h2>
            <p>Выберите ключ, заполните матрицу 5x5 и следуйте определённым правилам для шифрования и дешифровки.</p>
            
            <h3>Создание ключевой матрицы:</h3>
            <ul>
                <li>Выберите ключ (обычно это слово или фраза).</li>
                <li>Удалите все повторяющиеся буквы из ключа.</li>
                <li>Заполните буквы ключа в матрицу 5x5 по порядку.</li>
                <li>После заполнения ключа дополните оставшиеся буквы (исключая те, что уже есть в ключе) в матрицу по порядку.</li>
                <li>В английской версии шифра Плейфера буквы 'I' и 'J' часто обрабатываются как один и тот же символ, чтобы вместить 26 букв в 25 клеток.</li>
            </ul>
            
            <p>Предположим, у нас есть следующие условия:</p>
            <ul>
                <li>Ключ: <strong>PLAYFAIR EXAMPLE</strong></li>
                <li>Текст для шифрования: <strong>Hello World</strong></li>
            </ul>
            
            <h3>Процесс шифрования:</h3>
            <p>
                Сначала <strong>удалите любые повторяющиеся буквы</strong> из секретного ключа и последовательно введите заглавный ключ 'PLAYFIR EXM' в ключевую матрицу. Затем завершите матрицу 5x5, заполнив оставшиеся места буквами из алфавита из 25 букв (учитывая замену 'J' на 'I'), которые не включены в 'PLAYFIR EXM'.
            </p>
            
            <h4>Ключевая матрица:</h4>
            
            <pre class="cipher-matrix">
                <span class="highlight">P</span> <span class="highlight">L</span> <span class="highlight">A</span> <span class="highlight">Y</span> <span class="highlight">F</span> 
                <span class="highlight">I</span> <span class="highlight">R</span> <span class="highlight">E</span> <span class="highlight">X</span> <span class="highlight">M</span> 
                B C D G H
                K N O Q S
                T U V W Z
            </pre>

            <p>
                Далее организуйте открытый текст. Формируйте пары из каждых двух букв. Если пара содержит две идентичные буквы рядом друг с другом, или если последняя буква остаётся непарной, вставьте 'X', чтобы исправить эту проблему. В данном примере фраза 'Hello World' преобразуется в открытый текст как 'HE LX LO WO RL DX'.
            </p>

            <h3>Правила шифрования:</h3>
            <ul>
                <li>Если два символа не находятся в одной строке или столбце, зашифрованные символы находятся на противоположных углах друг друга.</li>
                <li>Если два символа находятся в одном столбце, зашифрованные символы находятся непосредственно под каждым из них. Если символ находится в пятом ряду, он переходит на первый ряд.</li>
                <li>Если два символа находятся в одной строке, зашифрованные символы находятся непосредственно справа. Аналогично, если символ находится в пятом столбце, он переходит на первый столбец.</li>
            </ul>
            <p>
                Конечно, использование диаграммы для иллюстрации процесса шифрования рекомендуется. В качестве альтернативы, вы можете удобно и эффективно генерировать открытый текст и шифротекст, используя предоставленный выше инструмент шифра Плейфера.
            </p>
            
            <figure>
                <img src="./images/figure 1-playfair cipher encryption.jpg" alt="Детализированное представление ключевой матрицы шифра Плейфера">
                <figcaption class="playfair">Детализированное представление ключевой матрицы шифра Плейфера</figcaption>
            </figure>
            
            <h3>Процесс дешифрования:</h3>
            <p>
                Для дешифрования мы вводим зашифрованный текст и применяем правила шифра Плейфера в обратном порядке. Используя ключ `PLAYFAIR EXAMPLE` для генерации матрицы. Зашифрованный текст используется непосредственно для дешифрования без дополнительной предварительной обработки. Дешифрование проводится с использованием секретной ключевой матрицы для каждой пары зашифрованных букв. Например, для первой зашифрованной пары `DM`, мы определяем их положение в матрице и применяем правила шифрования в обратном порядке, чтобы восстановить исходную пару `HE`. Дешифруя все пары зашифрованных букв таким образом, мы реконструируем исходный текст.
            </p>
            
            <h2>Существуют ли фильмы или телешоу о шифре Плейфера?</h2>
            <p>
                Шифр Плейфера — это тип технологии шифрования, который когда-то широко использовался. Хотя он достаточно известен в истории, на данный момент нет особенно известных фильмов или телешоу, которые фокусировались бы специально на шифре Плейфера.
            </p>
            
            <p>
                Тем не менее, фильмы и телешоу о криптографии не редкость, часто они включают различные типы методов шифрования и исследуют темы, такие как шпионаж, военная разведка, детективные истории или поиски сокровищ.
            </p>
            
            <p>
                Хотя фильмов или сериалов, непосредственно посвященных шифру Плейфера, может быть не так много, зрители, интересующиеся криптографией, головоломками и историями о поисках сокровищ, могут найти много произведений, содержащих похожие темы, где технология шифрования часто играет ключевую роль в сюжете. Если вас интересует история криптографии и взлома кодов, вам могут понравиться те фильмы и шоу, в которых фигурируют сложные головоломки и закодированные сообщения.
            </p>

            <h2>Как отличить буквы "I" и "J"</h2>
            <p>
                В исходном шифре Плейфера буквы "I" и "J" обычно считаются одним и тем же символом. Этот подход обусловлен в первую очередь тем, что шифр Плейфера требует матрицы 5x5 для размещения букв, а поскольку в английском алфавите 26 букв, две буквы должны считаться эквивалентными, чтобы поместиться в эту матрицу из 25 ячеек.
            </p>
            <h3>Как обращаться с "I" и "J":</h3>
            <p>
                <strong>Слияние:</strong> При создании матрицы шифра обычной практикой является обработка "I" и "J" как одного и того же символа, обычно выбирается "I" для представления обеих букв. Это означает, что в процессе кодирования или декодирования, независимо от того, был ли исходный текст "I" или "J", он будет заменен на "I".
            </p>
            <p>
                <strong>Кодирование и декодирование:</strong> При шифровании или дешифровании сообщений с использованием шифра Плейфера, если сообщение содержит "J", оно будет заменено на "I". Аналогично, при дешифровке сообщения и встрече с "I", декодеру необходимо определить по контексту, изначально ли это было "I" или "J".
            </p>

            <h3>Роль контекста:</h3>
            <p>
                <strong>Гибкость декодирования:</strong> Во время дешифровки получатель обычно полагается на контекст для правильной интерпретации информации. Например, если расшифрованный текст - "INDIA", и контекст относится к стране, получатель может легко определить, что слово правильно написано как "INDIA", а не "JNDJA".
            </p>
            <p>
                <strong>Явные указания:</strong> Иногда, чтобы избежать путаницы, отправитель может указать в сообщении, как следует интерпретировать определенные слова или символы, особенно в важных или потенциально вводящих в заблуждение ситуациях.
            </p>

            <h3>Современные приложения:</h3>
            <p>
                В современных приложениях могут использоваться более сложные методы или стандарты для решения этого типа проблем, например, использование расширенной матрицы или различные стратегии замены символов. Однако для реализаций, следующих традиционному шифру Плейфера, слияние "I" и "J" остается эффективным и проверенным временем методом.
            </p>

            <h2>Правила дешифрования "X" в шифре Плейфера</h2>
            <p>
                Шифр Плейфера требует ввода пар букв, поэтому, когда длина текста нечетная, обычно добавляется символ заполнения, чтобы завершить последнюю пару букв. Чаще всего используемый символ заполнения — «X». Правильная обработка этих символов заполнения представляет собой вызов в процессе дешифрования шифра Плейфера.
            </p>
            <h3>Обработка после дешифрования:</h3>
            <p>
                <strong>Автоматическое удаление:</strong> В идеале, если добавленный в процессе шифрования «X» явно не является частью исходного текста (например, он появляется только между повторяющимися буквами или в конце текста), его можно автоматически удалить при дешифровании. Эта стратегия обычно хорошо справляется с заполнителем "X" в середине текста, но может ошибочно удалить "X" в конце слова.
            </p>
            <p>
                <strong>Условное удаление:</strong> Чтобы решить проблему ошибочно удаленного конечного "X", эта веб-страница использует метод условного удаления, сохраняя "X" на конце и выделяя его <strong>красным</strong> цветом, позволяя пользователям решить, стоит ли его удалять, исходя из контекста или дополнительной информации. Например, если расшифрованный текст заканчивается на «X», и пара букв перед этим «X» не может формировать действительную пару для шифрования, то можно предположить, что этот «X» является символом заполнения.
            </p>
            <figure>
                <img src="./images/The X decryption rule in the Playfair Cipher.jpg" alt="Правила дешифрования 'X' в шифре Плейфера">
                <figcaption class="padding_rules">Правила дешифрования "X" в шифре Плейфера</figcaption>
            </figure>

            <h3>Протоколы и стандартизация:</h3>
            <p>
                В современной зашифрованной коммуникации обычно используются сложные протоколы, которые точно контролируют формат и структуру данных, включая явные стратегии заполнения и механизмы удаления заполнения. Например, в некоторых стандартах шифрования добавляется поле, указывающее длину сообщения перед сообщением, чтобы гарантировать точное восстановление исходного сообщения после дешифрования. В качестве альтернативы используются передовые механизмы обработки естественного языка для автоматического различения каждого слова, тем самым определяя, следует ли сохранять «X».
            </p>
            <h3>Автоматизация и алгоритмы:</h3>
            <p>
                Современные алгоритмы шифрования, такие как заполнение PKCS#7, включают сложную логику заполнения и удаления заполнения, которая автоматически выполняется в процессах шифрования и дешифрования для обеспечения целостности и точности данных. Эти алгоритмы могут автоматически идентифицировать и удалять символы заполнения без вмешательства человека.
            </p>
        </section>
    </main>
   
    <footer class="footer">
        <div class="social-links">
            <a href="https://twitter.com/xinli_111219" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="https://www.youtube.com/@xinli-vj3js" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-youtube"></i>
            </a>  
        </div>
    
        <div class="info">
            <p>© 2024 chatcipher Tools. Все права защищены.</p>
            <p>
                <a href="https://chatcipherai.com/ru/Privacy_Policy.html" title="Privacy Policy">Политика конфиденциальности</a>
                |
                <a href="https://chatcipherai.com/ru/Terms_of_Use.html" title="Terms of Use">Условия использования</a>
                |
                <a href="https://chatcipherai.com/ru/About_Us.html" title="About Us">О нас</a>
                |
                <a href="https://chatcipherai.com/ru/Disclaimer.html" title="Disclaimer">Отказ от ответственности</a>
            </p>
            <button id="backToTop" onclick="scrollToTop()">Вернуться наверх(<span class="highlight-key">B</span>)</button>
        </div>  
    </footer>

    <script>
        let shortcutsEnabled = true;

        function manageShortcuts(enable) {
            shortcutsEnabled = enable;
        }

        function handleKeyPress(event) {
            if (!shortcutsEnabled) {
                console.log('Shortcuts are disabled');
                return;
            }

            switch (event.key.toUpperCase()) {
                case 'E':
                    encrypt();
                    console.log('Encode triggered');
                    break;
                case 'D':
                    decrypt();
                    console.log('Decode triggered');
                    break;
                case 'A':
                    clearAll();
                    console.log('Clear All triggered');
                    break;
                case 'L':
                    if (document.activeElement.type !== 'text' && document.activeElement.type !== 'textarea') {
                        setStyle('light-mode');
                        console.log('Light style activated');
                    }
                    break;
                case 'N':
                    if (document.activeElement.type !== 'text' && document.activeElement.type !== 'textarea') {
                        setStyle('dark-mode');
                        console.log('Dark style activated');
                    }
                    break;
                case 'B':
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                    console.log('Scrolled to top');
                    break;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const inputElements = document.querySelectorAll('input[type="text"], textarea');
            inputElements.forEach(input => {
                input.addEventListener('focus', () => manageShortcuts(false));
                input.addEventListener('blur', () => manageShortcuts(true));
            });

            document.addEventListener('keydown', handleKeyPress);
        });

        function generateMatrix(key) {
            const alphabet = "ABCDEFGHIKLMNOPQRSTUVWXYZ";
            let matrix = new Set(key.toUpperCase().replace(/J/g, 'I').replace(/[^A-Z]/g, ''));
            alphabet.split('').forEach(char => matrix.has(char) || matrix.add(char));
            return Array.from(matrix).join('').match(/.{1,5}/g).map(row => row.split(''));
        }

        function preprocessText(text, isEncrypting) {
            text = text.toUpperCase().replace(/J/g, 'I').replace(/[^A-Z]/g, '');
            let processedText = "";

            for (let i = 0; i < text.length; i += 2) {
                let pair = text[i];
                if (text[i] === text[i + 1]) {
                    pair += 'X';
                    i--;
                } else {
                    pair += text[i + 1] || 'X';
                }
                processedText += pair;
            }

            if (isEncrypting && processedText.length % 2 !== 0) {
                processedText += 'X';
            }

            return processedText;
        }

        function findPosition(letter, matrix) {
            for (let row = 0; row < matrix.length; row++) {
                for (let col = 0; col < matrix[row].length; col++) {
                    if (matrix[row][col] === letter) {
                        return { row, col };
                    }
                }
            }
            return { row: -1, col: -1 };
        }

        function transformPair(pair, matrix, mode) {
            let pos1 = findPosition(pair[0], matrix);
            let pos2 = findPosition(pair[1], matrix);
            let transformedPair = '';

            if (pos1.row === pos2.row) {
                // Same row
                pos1.col = (pos1.col + mode + 5) % 5;
                pos2.col = (pos2.col + mode + 5) % 5;
            } else if (pos1.col === pos2.col) {
                // Same column
                pos1.row = (pos1.row + mode + 5) % 5;
                pos2.row = (pos2.row + mode + 5) % 5;
            } else {
                // Rectangle
                [pos1.col, pos2.col] = [pos2.col, pos1.col];
            }

            transformedPair += matrix[pos1.row][pos1.col];
            transformedPair += matrix[pos2.row][pos2.col];

            return transformedPair;
        }

        function transformText(text, matrix, mode) {
            let transformedText = "";
            for (let i = 0; i < text.length; i += 2) {
                transformedText += transformPair(text.substr(i, 2), matrix, mode);
            }
            return transformedText;
        }

        function encrypt() {
            const key = document.getElementById('key').value;
            const inputText = document.getElementById('inputText').value;
            const processedText = preprocessText(inputText, true);
            document.getElementById('processedPlaintext').innerText = processedText;

            const matrix = generateMatrix(key);
            const encryptedText = transformText(processedText, matrix, 1);
            document.getElementById('result').innerText = encryptedText;
            document.getElementById("result").style.color = "blue";
        }

        function removePaddingX(decryptedText) {
            let chars = decryptedText.split('');
            for (let i = 1; i < chars.length - 1; i++) {
                // Remove 'X' if it is between two identical letters
                if (chars[i] === 'X' && chars[i - 1] === chars[i + 1]) {
                    chars.splice(i, 1);
                    i--; // Adjust index after removing 'X'
                }
            }
            // Check if the last character is 'X' and if so, it is highlighted in red
            if (chars[chars.length - 1] === 'X') {
                return chars.join('').slice(0, -1) + '<span style="color: red;">X</span>';
            }
            return chars.join('');
        }

        function decrypt() {
            const key = document.getElementById('key').value;
            const inputText = document.getElementById('inputText').value.replace(/[^A-Z]/g, '');
            const matrix = generateMatrix(key);
            let decryptedText = transformText(inputText, matrix, -1);
            decryptedText = removePaddingX(decryptedText); // Remove unnecessary 'X' characters
            document.getElementById('result').innerHTML = decryptedText; // Use innerHTML to allow HTML rendering
            document.getElementById("result").style.color = "#0A0F24"; // Set the default text color
        }

        document.getElementById('encryptButton').addEventListener('click', encrypt);
        document.getElementById('decryptButton').addEventListener('click', decrypt);

        document.getElementById('clearAllButton').addEventListener('click', clearAll);
        function clearAll() {
            document.getElementById('key').value = ''; 
            document.getElementById('inputText').value = ''; 
            document.getElementById('result').innerText = '';
            document.getElementById('processedPlaintext').innerText = ''; 
        }

        document.getElementById('menuIcon').addEventListener('click', function () {
            var navbarUl = document.querySelector('.navbar ul');
            if (navbarUl.style.display === 'flex') {
                navbarUl.style.display = 'none';
            } else {
                navbarUl.style.display = 'flex';
            }
        });

        document.getElementById('languageIcon').addEventListener('click', function () {
            var navbarUl = document.querySelector('.navbar .langUl');
            if (navbarUl.style.display === 'flex') {
                navbarUl.style.display = 'none';
            } else {
                navbarUl.style.display = 'flex';
            }
        });

        document.addEventListener('click', function (event) {
            var menuIcon = document.getElementById('menuIcon');
            var menunavbarUl = document.querySelector('.navbar .menuUl');

            var languageIcon = document.getElementById('languageIcon');
            var langnavbarUl = document.querySelector('.navbar .langUl');

            if (!menuIcon.contains(event.target) && !menunavbarUl.contains(event.target)) {
                menunavbarUl.style.display = 'none';
            }
            if (!languageIcon.contains(event.target) && !langnavbarUl.contains(event.target)) {
                langnavbarUl.style.display = 'none';
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            var savedStyle = localStorage.getItem('style') || 'dark-mode';
            setStyle(savedStyle);
        });

        document.getElementById('lightStyle').addEventListener('click', function() {
            setStyle('light-mode');
        });

        document.getElementById('darkStyle').addEventListener('click', function() {
            setStyle('dark-mode');
        });

        function setStyle(style) {
            document.body.className = style;
            localStorage.setItem('style', style);
            updateButtonStyles();
            updateNavbarStyles(style);
        }

        function updateNavbarStyles(style) {
            var navbar = document.querySelector('.navbar');
            var ul = navbar.querySelector('ul');
            navbar.style.backgroundColor = style === 'dark-mode' ? '#0A0F24' : '#FFFFFF';
            ul.style.backgroundColor = style === 'dark-mode' ? 'rgba(119, 136, 153, 0.8)' : 'rgba(255, 255, 255, 0.8)';
            ul.style.color = style === 'dark-mode' ? '#FFFFFF' : '#0A0F24';
        }

        document.querySelectorAll('.learnMore').forEach(function(link) {
            link.addEventListener('click', function() {
                var targetId = this.getAttribute('data-target');
                var moreContent = document.getElementById(targetId);
                if (moreContent.style.display === "none" || moreContent.style.display === "") {
                    moreContent.style.display = "block";
                    this.textContent = "[Close]";
                } else {
                    moreContent.style.display = "none";
                    this.textContent = "[Learn More]";
                }
            });
        });

        window.onscroll = function () { scrollFunction(); };
        function scrollFunction() {
            if (document.body.scrollTop > 10 || document.documentElement.scrollTop > 20) {
                document.getElementById("backToTop").style.display = "block";
            } else {
                document.getElementById("backToTop").style.display = "none";
            }
        }
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.addEventListener('DOMContentLoaded', function() {
            var navbar = document.querySelector('.navbar');
            window.onscroll = function() {
                if(window.scrollY > 50) {
                    navbar.classList.add('solid');
                } else {
                    navbar.classList.remove('solid');
                }
            };
        });

        function adjustButton() {
            var button = document.getElementById('backToTop');
            if (window.innerWidth < 768) {
                button.innerHTML = '▲';
            } else {
                button.innerHTML = 'Вернуться наверх(<span class="highlight-key">B</span>)';
            }
        }

        window.onload = adjustButton;
        window.onresize = adjustButton;

    </script>
    <div style="display: none;">
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-LZTEEH0M4K"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
    
            gtag('config', 'G-LZTEEH0M4K');
        </script>
    </div>
</body>
</html>