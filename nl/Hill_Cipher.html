<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hill Cipher Explorer: Vergezeld van wiskunde, zij aan zij met cryptografie.</title>
    <meta name="description" content="Hill-cipher is een klassiek cryptografisch algoritme dat behoort tot de categorie van multi-letter substitutiecijfers. Wat uniek is, is dat het lineaire algebra en matrixvermenigvuldiging gebruikt om versleutelings- en ontsleutelingsprocessen uit te voeren.">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="icon" type="image/jpg" href="./images/cipher.jpg">
    <style>    
        html {
            height: 100%;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 100vh;
            align-items: center;
            margin: 0;
            padding: 0 20px 20px 20px;
            background-color: #0A0F24;
            color: #FFFFFF;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: rgba(10, 15, 36, 0.0);
            transition: background-color 0.5s ease;
            z-index: 1000;
            height: 40px;
        }

        .navbar.solid {
            background-color: rgba(10, 15, 36, 1);
        }   

        #menuIcon {
            cursor: pointer; 
            transition: color 0.3s ease; 
        }
        #menuIcon:hover {
            color: #a3a2a2; 
        }

        #languageIcon {
            cursor: pointer;
            transition: color 0.3s ease;
            position: relative;
            left: -10px;
        }

        #languageIcon:hover {
            color: #a3a2a2;
        }

        .navbar .langUl {
            left: 87px;
            width: 100px;
        }

        .navbar.active ul {
            display: flex;
            flex-direction: column; 
            position: absolute;
            top: 35px; 
            left: 10px;
            width: 15%; 
            background-color: rgba(119, 136, 153, 0.8);
            padding: 10px 0; 
        }

        .navbar.active ul li {
            margin-bottom: 1px; 
        }

        .navbar.active ul li:last-child {
            margin-bottom: 0; 
        }

        .navbar ul {
            display: none;
            flex-direction: column;
            position: absolute;
            top: 50px;
            left: 10px;
            background-color: transparent;
            padding: 10px 0;
            list-style: none;
            margin: 0;
            width: 12%;
        }

        .navbar.active ul {
            display: flex;
        }

        .section.interactive-tool {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #bbbaba;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 80%;
            margin-top: 80px;
            margin-bottom: 150px;
        }

        #inputMessage, #shiftValue {
            width: 100%; 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 5px;
            border: 1px solid #eae6e6;
            font-size: 1em;
        }

        .sections-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 50px auto;
            padding: 20px;
            border-radius: 10px;
            width: 70%;
        }

        .section {
            width: 110%;
            margin-bottom: 30px; 
        }

        section li {
            font-size: 17px;
            line-height: 1.5;
            word-wrap: break-word;
            width: 80%;
            padding-bottom: 10px; 
        }

        .section label {
            display: block;
            margin-bottom: 10px;
        }

        .matrix-display {
            text-align: center;
            padding: 20px;
            background-color: #7fbef5;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .matrix-display p {
            margin: 10px 5px;
            font-size: 1em;
        }

        #matrixInputs {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-left: 0;
        }

        .sections-container h2, .sections-container p {
            text-align: left;
            width: 80%;
        }

        .section.interactive-tool label, 
        .section.interactive-tool p {
            font-size: 1.2em;
        }

        .section input[type="text"], 
        .section textarea {
            width: 700px;  
            padding: 10px;   
            margin-bottom: 20px; 
            border: 1px solid #eae6e6;
            border-radius: 5px;  
            font-size: 0.9em;       
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        #inputText {
            min-height: 100px;
            max-height: 300px;
            resize: vertical;
            padding: 10px;   
        }

        #key {
            height: auto; 
        }

        #result {
            font-weight: bold;
            color: #0A0F24;
            font-family: 'Arial', sans-serif;
            min-height: 100px;
            max-height: 300px;
            overflow-y: auto;
            text-align: left;
            word-wrap: break-word;
            overflow-wrap: break-word;
            resize: vertical;
            font-size: 18px;
            padding-top: 20px;
            padding-bottom: 20px;
            width: 698px;
            line-height: 26px;
        }

        p {  
            margin-bottom: 30px;  
            text-align: left; 
            font-size: 1.2em; 
            line-height: 1.6; 
            margin-bottom: 15px; 
        }

        h2 {  
            margin-bottom: 10px;
            font-size: 28px;
        }

        h3 {
            margin-top: 50px;
            font-size: 22px;
        }

        h4 {
            font-size: 20px;
        }

        .sections-container h2:hover {
            color: #4bcfcf;
            transition: color 0.3s ease;
        }

        .navbar li a {
            color: #F5F5F5; 
            padding: 5px;
            text-decoration: none;
            font-size: 15px;
            background-color: rgba(0, 0, 0, 0.3); 
            display: block;
            border-radius: 5px;
        }

        .navbar ul li {
            margin-bottom: 1px;
        }

        .navbar ul li a:hover {
            background-color: rgba(255, 255, 255, 0.206); 
            color: #0A0F24; 
        }

        .navbar h1 {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            margin-top: 35px;
            margin-right: 0;
            font-size: 30px;
        }

        .navbar-dark {
            background-color: #0A0F24; 
        }

        p { 
            text-align: center;  
            margin-bottom: 30px;
            font-size: 1.2em;  
        }

        h2 {  
            margin-bottom: 10px;  
        }

        button {
            cursor: pointer;
            margin: 10px;
            padding: 8px 15px;
            margin-left: 5px;
            background-color: #0A0F24;
            border: none;
            border-radius: 5px;
            color: #FFFFFF;
            transition: background 0.3s;
        }

        button:hover {
            background-color: #a8a8a8;
            color: #0A0F24;
        }

        .style-selector {
            position: absolute;
            top: 0px;
            right: 50px;
            margin-top: 10px;
        }

        .style-selector button {
            background-color: #0a0f24;
            padding: 5px 10px;
            margin-right: 1px;
            color: #F5F5F5;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .style-selector button:hover {
            background-color: #c0c0c0;
            color: #0a0f24;
        }

        .dark-mode {  
            background-color: #0A0F24;  
            color: white;  
        }

        .light-mode {  
            background-color: white;  
            color: #0A0F24; 
        } 

        .light-mode .navbar, .light-mode .container {
            background-color: #FFFFFF; 
            color: #0A0F24; 
        }

        .light-mode .navbar ul {
            background-color: transparent; 
            color: #0A0F24; 
        }

        .dark-mode .navbar ul li a:hover {
            color: #30eded; 
        }

        .light-mode .navbar ul li:hover {
            color: #0A0F24; 
            background-color: rgba(255, 255, 255, 1);
            border-radius: 5px;
        }

        .navbar {
            justify-content: flex-start; 
        }

        #languageIcon {
            cursor: pointer; 
            transition: color 0.3s ease; 
            margin-left: 30px;
        }

        #languageIcon:hover {
            color: #a3a2a2; 
        }

        #languageSelect {
            padding: 5px 10px;
            margin-left: 10px;
            border-radius: 5px;
            border: none;
            background-color: #5f9ea0;
            color: white;
            cursor: pointer;
        }

        #languageSelect:hover {
            background-color: #2F4F4F;
        }

        .language-dropdown {
            width: 6%;
            display: none;
            list-style: none;
            padding: 10px 0;
            margin: 0;
            position: absolute;
            top: 40px;
            left: 100px; 
            background-color: rgba(119, 136, 153, 0.8);
        }

        .language-dropdown li a {
            color: #FFFFFF;
            padding: 5px;
            margin: 1px;
            text-decoration: none;
            display: block;
            border-radius: 8px;
        }

        .language-dropdown li a:hover {
            background-color: rgba(255, 255, 255, 0.206);
            color: #0A0F24;
        }

        .table-container {
            display: none; 
            justify-content: center;
            align-items: center;
            width: 100%;    
        }

        .table-container.active {
            display: block;
        }

        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        .button-container button {
            margin-right: 0px; 
        }

        .footer {
            position: relative; 
            width: 100%;
            background-color: #0A0F24;
            color: #FFFFFF;
            text-align: center;
            padding: 10px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            margin-bottom: -20px;
        }

        .footer a {
            color: #F5F5F5;
            text-decoration: none;
            margin: 0 12px;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: #a3a2a2;
        }

        .footer p {
            margin: 0;
            font-size: 16px;
        }

        .learnMore {
            color: #007bff;
            cursor: pointer;
            text-decoration: underline;
        }

        .moreContent p {
            margin-top: 10px;
        }

        #moreContent2 { 
            color: #0A0F24;
            background-color: #e9f4f4;
            padding: 10px;
            border-radius: 8px; 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 74%;
        }

        .clear-all-button {
            background-color: #47d7ff;
        }

        .clear-all-button:hover {
            background-color: #57f7ff;
        }

        .navbar li {
            position: relative;
        }

        .navbar li>a {
            display: block;
        }

        .navbar .submenu {
            display: none;
            position: absolute;
            left: 101%;
            top: 0;
            background-color: transparent;
            border-radius: 5px;
            padding: 0;
            min-width: 150px;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .navbar .submenu li {
            display: block;
            border-bottom: none;
            width: 75%;
        }

        .navbar .submenu li:last-child {
            border-bottom: none;
        }

        .navbar li:hover>.submenu {
            display: block;
        }

        .navbar .submenu a {
            color: #ffffff;
            padding: 5px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s ease;
        }

        .navbar .submenu a:hover {
            background-color: rgba(255, 255, 255, 0.206);
        }

        .form-group {
            padding: 20px;
            margin: 20px auto;
            border: 1px solid #eae6e6;
            border-radius: 10px;
            background-color: #1C3A70;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            width: 80%; 
        }

        .form-group button {
            background-color: #0A0F24;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-right: 10px;
        }

        .form-group button:hover {
            background-color: #c0c0c0;
            color: #0A0F24;
        }

        .form-group #matrixDisplay {
            padding: 15px;
            background-color: #f7cb95;
            border-radius: 5px;
            text-align: center;
            margin-top: 15px;
            color: #0A0F24;
        }

        .dark-mode .matrix-dark {
            background-color: #2F4F4F;  
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            margin-top: 15px;
        }

        .light-mode .matrix-display {
            color: #f9be77;
        }

        .form-group #toggleMatrixDisplay {
            background-color: #0A0F24;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            width: 150px;
        }

        .form-group #toggleMatrixDisplay:hover {
            background-color: #c0c0c0;
            color: #0A0F24;
        }

        .right-shifted-paragraph {
            margin-left: 220px;
            width: 110%;
        }

        #backToTop {
            position: absolute;
            bottom: 5px;
            right: 30px;
            z-index: 99;
            border: none;
            outline: none;
            background-color: #0a0f24;
            color: white;
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            font-size: 14px;
            display: block;
        }

        #backToTop:hover {
            background-color: #c0c0c0;
            color: #0a0f24;
        }

        .language-list{
            float: right;
        }
        .language-list a{
            margin-left: 20px;
            color: white;
        }

        .language-list a:hover{
            color: #4bcfcf;
        }

        .language-list a {
            text-decoration: none;
        }

        .highlight-key { 
            font-weight: 800;
        }

        @media screen and (max-width: 768px) {
            .navbar h1 {
                font-size: 18px;
                position: absolute;
                top: -25px; 
            }

            .sections-container {
                margin-left: auto;
                margin-right: auto;
                align-items: center;
                width: 90%;
            }

            .sections-container h2{
                font-size: 1.2em;
                margin-top: -10px;
            }

            .section {
                width: 100%;
                padding: 10px;
            }

            .right-shifted-paragraph {
                margin-left: 80px;
                width: 110%;
            }

            .right-shifted-paragraph h2 {
                font-size: 1.2em;
            }

            h3 {
                font-size: 0.9em; 
            }

            h4 {
                font-size: 0.8em; 
            }

            p {
                font-size: 0.9em; 
            }

            section li {
                font-size: 14px;
                margin-left: -15px;
            }

            figcaption {
                margin-top: -40px;
                margin-bottom: 40px;
                margin-left: 20px;
                font-size: 10px;
                color: #007bff;
                font-weight: bold;
            }

            .footer p {
                margin: 0;
                font-size: 10px;
            }

            #backToTop {
                content: '▲';
                padding: 4px 5px;
                font-size: 14px;
                right: 10px;
                bottom: 0px;
            }

            .section input[type="text"], 
            .section textarea {
                width: 100%;
            }

            .navbar ul {
                width: 25%;
            }

            .navbar ul li {
                padding: 0 5px 0 0;
            }

            .navbar li a {
                padding: 5px;
            }

            .navbar li a {
                font-size: 10px;
                width: 100%;
                padding: 5px 0px 5px 5px;
            }

            .navbar .submenu {
                left: 100%;
            }

            .navbar .submenu li {
                display: block;
                border-bottom: none;
                width: 50%;
                padding: 0 5px 0 0;
            }

            .navbar .submenu li a {
                padding: 5px 0px 5px 5px;
            }
            
            #menuIcon {
                font-size: 0; /* Hide text */
            }
            #menuIcon::before {
                content: '\2630'; /* Unicode character for ☰ */
                font-size: 16px; /* Or any other size you prefer */
            }

            #languageIcon {
                font-size: 0; 
            }

            #languageIcon::before {
                content: '\2637';
                font-size: 16px; /* Or any other size you prefer */
            }

            .navbar .langUl {
                left: 42px;
                width: 65px;
            }

            #darkStyle {
                font-size: 0;
                margin-left: 10px;
                padding: 5px 8px;
            }

            #lightStyle {
                font-size: 0;
                margin-right: -10px;
            }

            #darkStyle::before {
                font-size: 9px;
            }

            #lightStyle::before {
                font-size: 10px;
            }

            #darkStyle::before {
                content: "🌙";
            }

            #lightStyle::before {
                content: "☀";
            }

            #result {
                width: 72vw;
                font-size: 15px;
            }

            .social-links i {
                font-size: 12px;
            }
        }
    </style>
</head>

<body class="dark-mode">
    <header>
        <nav class="navbar">
            <div id="menuIcon">&#9776; menu</div>
            <div id="menuItems"></div>
            <ul class="menuUl">
                <li>
                    <a href="https://chatcipherai.com/nl/chatcipherai.html">Wereld van Cryptosystemen</a>
                    <ul class="submenu">
                        <li><a href="https://chatcipherai.com/nl/Caesar_Cipher.html">Caesar-cijfer</a></li>
                        <li><a href="https://chatcipherai.com/nl/Playfair_Cipher.html">Playfair-cijfer</a></li>
                        <li><a href="https://chatcipherai.com/nl/Hill_Cipher.html">Hill-cijfer</a></li>  
                    </ul>
                </li>
                <li><a href="https://chatcipherai.com/nl/Hash_value_test.html">Hashwaarde Test</a></li>
                <li><a href="https://chatcipherai.com/nl/Morsecode_main.html">Morsecode Vertaler</a></li>
                <li><a href="https://chatcipherai.com/nl/Shortcut_Key_Description.html">Sneltoetsbeschrijving</a></li>
            </ul>  

            <div id="languageIcon">&#x2637; taal</div>
            <div id="languageItems">
                <ul class="langUl">
                    <li><a href="https://chatcipherai.com/en/Hill_Cipher.html" title="English">English</a></li>
                    <li><a href="https://chatcipherai.com/fr/Hill_Cipher.html" title="Français">Français</a></li>
                    <li><a href="https://chatcipherai.com/es/Hill_Cipher.html" title="Español">Español</a></li>
                    <li><a href="https://chatcipherai.com/zh-CN/Hill_Cipher.html" title="中文（简体）">中文（简体）</a></li>
                    <li><a href="https://chatcipherai.com/zh-TW/Hill_Cipher.html" title="中文（繁体）">中文（繁体）</a></li>
                    <li><a href="https://chatcipherai.com/ar/Hill_Cipher.html" title="العربية">العربية</a></li>
                    <li><a href="https://chatcipherai.com/ru/Hill_Cipher.html" title="Русский">Русский</a></li>
                    <li><a href="https://chatcipherai.com/pt/Hill_Cipher.html" title="Português">Português</a></li>
                    <li><a href="https://chatcipherai.com/de/Hill_Cipher.html" title="Deutsch">Deutsch</a></li>
                    <li><a href="https://chatcipherai.com/hi/Hill_Cipher.html" title="हिन्दी">हिन्दी</a></li>
                    <li><a href="https://chatcipherai.com/nl/Hill_Cipher.html" title="Nederlands">Nederlands</a></li>
                </ul> 
            </div>
            
            <h1>Hill Cipher Verkenner</h1>
            <div class="style-selector">
                <button id="darkStyle">🌙 Donkere Stijl(<span class="highlight-key">N</span>)</button>
                <button id="lightStyle">☀ Lichte Stijl(<span class="highlight-key">L</span>)</button>
            </div>             
        </nav>
    </header>

    <main class="sections-container">           
        <section class="section interactive-tool">
            <h2>Probeer de Hill Cipher</h2>

            <div id="matrixInputs">
                <label for="key">Voer Matrix Sleutel in: 2x2 Matrix</label>
                <input type="text" id="key" placeholder="bijv., 1,2,3,4">
                <label for="inputText">Voer Tekst in:</label>
                <textarea id="inputText" placeholder="Voeg hier tekst in"></textarea>
                <label>Resultaat:</label>
                <div id="result" ></div>
            </div>
            
            <div id="button-group">
                <button onclick="encrypt()">Versleutelen(<span class="highlight-key">E</span>)</button>
                <button onclick="decrypt()">Ontsleutelen(<span class="highlight-key">D</span>)</button>
                <button id="clearAllButton" class="clear-all-button" onclick="clearAll()">Alles Wissen(<span class="highlight-key">A</span>)</button>
            </div>
        </section>
            
        <section class="form-group">
            <button onclick="generateMatrix()">Genereer 2x2 Omkeerbare Matrix(<span class="highlight-key">G</span>)</button>
            <button id="copyMatrix" onclick="copyMatrixToClipboard()">Kopieer Matrix(<span class="highlight-key">C</span>)</button>
            <button id="toggleMatrixDisplay" onclick="toggleMatrixDisplay()">Sluiten(<span class="highlight-key">o</span>)</button>
            <div id="matrixDisplay"></div>
        </section>
            
        <section class="right-shifted-paragraph">
            <h2>Hoe gebruik ik Hill Cipher?</h2>
            <p>
                Het gebruik van de Hill Cipher vereist enige basiskennis van lineaire algebra, voornamelijk matrixbewerkingen. Dit proces kan worden onderverdeeld in verschillende stappen: sleutelselectie, versleuteling en ontsleuteling.
            </p>
            
            <h3>Sleutelselectie: </h3>
            <p>
                Eerst moet je een sleutel kiezen, wat een omkeerbare matrix is. In de Hill Cipher is de sleutel een n×n matrix, waarbij n elk door jou gekozen aantal is. Belangrijk is dat deze matrix omkeerbaar moet zijn (d.w.z., het moet een inverse hebben) aangezien zijn inverse nodig is tijdens het ontsleutelingsproces.
            </p>
            
            <h3>Tekstvoorbereiding: </h3>
            <p>
                Verdeel je platte tekst (het bericht dat versleuteld moet worden) in blokken van lengte n. Als het laatste blok korter is dan n tekens, kun je het opvullen met enkele vulkarakters (zoals de letter X). Elk karakter moet worden toegewezen aan een nummer; bijvoorbeeld, je kunt de toewijzing A=0, B=1, C=2, ..., Z=25 gebruiken.
            </p>
            
            <h3>Versleutelingsproces: </h3>
            <p>
                Voor elk blok platte tekst van lengte n, behandel het als een kolomvector en vermenigvuldig het met de sleutelmatrix. Het resultaat wordt vervolgens genomen modulo 26 (aangezien het alfabet 26 letters heeft). Deze modulo 26 bewerking wordt toegepast op elk element van de matrixvermenigvuldiging. De resulterende nieuwe kolomvector komt overeen met het versleutelde tekstblok.
            </p>
            
            <h3>Ontsleutelingsproces: </h3>
            <p>
                Om te ontsleutelen, moet je eerst de inverse van de sleutelmatrix berekenen, ervoor zorgend dat alle elementen in de inverse gehele getallen zijn. Dit omvat typisch het vinden van de bijmatrix en de determinant van de sleutelmatrix, en vervolgens het nemen van de inverse van de determinant modulo 26. Met deze inverse matrix wordt het originele platte tekstblok verkregen door het versleutelde tekstblok ermee te vermenigvuldigen en het resultaat modulo 26 te nemen.
            </p>            

            <h4>Wat is een modulo 26 bewerking?</h4>
            <p>
                "Modulo 26 bewerkingen" verwijzen naar een type wiskundige berekening die vaak wordt gebruikt bij het omgaan met problemen binnen een eindige set, met name in cryptografie en getaltheorie. Modulo-bewerking is een type deling dat in plaats van het quotiënt, de rest van de deling oplevert, en modulo 26 verwijst specifiek naar <strong>de rest</strong> na deling door 26.
            </p>
            
            <p>
                Voor elk geheel getal 'a' is het resultaat van een modulo 26 bewerking de rest na het delen van 'a' door 26. Dit wordt wiskundig aangeduid als 'a mod 26', gelezen als "'a' modulo 26". Het resultaat van een <a href="https://en.wikipedia.org/wiki/Modulo" rel="noopener noreferrer" target="_blank" style="color: #007bff; font-size: 1.0em;">modulo</a> 26 bewerking is altijd een geheel getal tussen 0 en 25, wat 26 mogelijke uitkomsten omvat. In de context van de Hill Cipher zorgen modulo 26 bewerkingen ervoor dat alle rekenresultaten binnen het bereik van 0 tot 25 vallen, overeenkomend met de 26 letters van het alfabet. Bijvoorbeeld, 'A' wordt beschouwd als 0, 'B' als 1, enzovoort tot 'Z' wat 25 is.
            </p>
            
            <p>
                Bij het versleutelen van tekst met de <a href="https://en.wikipedia.org/wiki/Hill_cipher" rel="noopener noreferrer" target="_blank" style="color: #007bff; font-size: 1.0em;">Hill Cipher</a>, wordt elke letter eerst omgezet in het overeenkomstige nummer (A=0, B=1, ..., Z=25). Na matrixvermenigvuldiging en andere operaties worden de uiteindelijke numerieke waarden onderworpen aan modulo 26 bewerkingen om ze terug te mappen naar het bereik van 0 tot 25, en vervolgens weer naar letters. Dit zorgt ervoor dat de resultaten na elke operatie geldige letters blijven. Als je een numerieke waarde van 29 hebt, en je voert een modulo 26 bewerking erop uit, dan zal het resultaat de rest zijn van 29 gedeeld door 26, wat 3 is. In de context van de Hill Cipher betekent dit dat de numerieke waarde 29 overeen zou komen met de letter 'D'.
            </p>
            
            <p>
                In de Hill Cipher is de sleutel een omkeerbare matrix, en de platte tekst wordt vertegenwoordigd als een reeks vectoren. Het versleutelingsproces omvat lineaire transformatie (matrixvermenigvuldiging) van de platte tekst vectoren met de sleutelmatrix, gevolgd door de toepassing van modulo 26 bewerkingen om te verzekeren dat elk element een geheel getal is tussen 0 en 25, en dus terug kan worden gemapt naar letters.
            </p>
            
            <p>
                Samengevat zijn modulo 26 bewerkingen een cruciale stap in de Hill Cipher die verzekert dat rekenresultaten binnen de grenzen van het alfabet blijven, waardoor het versleutelingsalgoritme kan opereren binnen een beperkte set van letters terwijl de symmetrie in het versleutelings- en ontsleutelingsproces behouden blijft.
            </p>            

            <h3>Voorbeeld :</h3>
            <p>
                Stel dat we een 2×2 sleutelmatrix kiezen en onze platte tekst is "HELLOWORLD". We gebruiken de sleutelmatrix [[3,3],[2,5]] en verdelen het versleutelde bericht 'HELLOWORLD' in blokken van elk twee letters. Karakters worden numeriek in kaart gebracht volgend op de volgorde waar A=0, B=1, C=2, ..., en Z=25.
            </p>
            <p>1. Voor blok [7,4] (overeenkomend met "HE") :
            <br>
                • Matrixvermenigvuldiging met gebruik van sleutelmatrix :
            </p>            

            <p>
                $$
                \left[
                \begin{array}{cc}
                3 & 3 \\
                2 & 5 \\
                \end{array}
                \right]
                \left[
                \begin{array}{c}
                7 \\
                4 \\
                \end{array}
                \right]
                =
                \left[
                \begin{array}{c}
                3 \cdot 7 + 3 \cdot 4 \\
                2 \cdot 7 + 5 \cdot 4 \\
                \end{array}
                \right]
                =
                \left[
                \begin{array}{c}
                21 + 12 \\
                14 + 20 \\
                \end{array}
                \right]
                =
                \left[
                \begin{array}{c}
                33 \\
                34 \\
                \end{array}
                \right]
                $$
            </p>

            <p>
                • Neem elk element modulo 26:
                $$
                \left[
                \begin{array}{c}
                33 \\
                34 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                7 \\
                8 \\
                \end{array}
                \right]
                $$
                • Zet nummers terug om naar letters: 7->H, 8->I. Daarom wordt "HE" versleuteld naar "HI".
            </p>
            
            <p>2. Voor blok [11,11] (overeenkomend met "LL") :
            <br>
                • Neem van elk element de modulo 26 :
            </p>
            
            <p>
                $$
                \left[
                \begin{array}{c}
                66 \\
                77 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                14 \\
                25 \\
                \end{array}
                \right]
                $$
                • Zet nummers terug om naar letters: 14->O, 25->Z. Daarom wordt "LL" versleuteld naar "OZ".
            </p>
            
            <p>3. Voor blok [14,22] (overeenkomend met "OW") :
            <br>
                • Neem van elk element de modulo 26 :
            </p>            

            <p>
                $$
                \left[
                \begin{array}{c}
                108 \\
                138 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                4 \\
                8 \\
                \end{array}
                \right]
                $$
                • Zet nummers terug om naar letters: 4->E, 8->I. Daarom wordt "OW" versleuteld naar "EI".
            </p>
            
            <p>4. Voor blok [14,17] (overeenkomt met "OR") :
            <br>
                • Neem van elk element de modulo 26 :
            </p>            

            <p>
                $$
                \left[
                \begin{array}{c}
                93 \\
                113 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                15 \\
                9 \\
                \end{array}
                \right]
                $$
                • Zet nummers terug om naar letters: 15->P, 9->J. Daarom wordt "OR" versleuteld naar "PJ".
            </p>
            
            <p>5. Voor blok [11,3] (overeenkomt met "LD"):
            <br>
                • Neem van elk element de modulo 26 :
            </p>            

            <p>
                $$
                \left[
                \begin{array}{c}
                42 \\
                37 \\
                \end{array}
                \right]
                \mod 26
                =
                \left[
                \begin{array}{c}
                16 \\
                11 \\
                \end{array}
                \right]
                $$
                • Zet nummers terug om naar letters: 16->Q, 11->L. Daarom wordt "LD" versleuteld naar "QL".
            </p>
            
            <p>
                Door deze versleutelde blokken aan elkaar te koppelen, krijgen we de uiteindelijke ciphertext: <strong>"HIOZEIPJQL" </strong>. 
                Dit proces toont hoe de Hill Cipher matrixbewerkingen uit de lineaire algebra gebruikt om tekst te versleutelen.
            </p>            

            <h2>Hill Cipher: Inzicht in de Belangrijkste Kenmerken en het Encryptiemechanisme</h2>
            <p>
                De <strong>Hill Cipher</strong> staat bekend om zijn gebruik van <em>matrixbewerkingen</em> in de versleutelings- en ontsleutelingsprocessen. Een cruciaal aspect van de functionaliteit is de <strong>omkeerbaarheid van de sleutelmatrix</strong>. Zonder een omkeerbare sleutelmatrix, die een niet-nul determinant en een modulaire inverse vereist, wordt ontsleuteling onmogelijk.
            </p>
            <h3>Cruciale Aspecten van de Versleutelings- en Ontsleutelingsprocessen</h3>
            <p>
                De efficiëntie van de versleuteling en ontsleuteling van de Hill Cipher hangt af van de <strong>omkeerbaarheid van de sleutelmatrix</strong>. Dit proces omvat het omzetten van tekstuele gegevens naar numerieke vectoren, die vervolgens worden getransformeerd met matrixvermenigvuldiging.
            </p>
            <ul>
                <li><strong>Omkeerbaarheid van de Matrix:</strong> Een omkeerbare matrix, of niet-singulier, wordt gecombineerd met een inverse matrix om de identiteitsmatrix te produceren - een cruciale factor voor ontsleuteling.</li>
                <li><strong>Determinant en Modulaire Inverse:</strong> De determinant biedt inzichten in de omkeerbaarheid van de matrix, essentieel voor effectieve ontsleutelingsoperaties binnen het modulaire rekenkundige kader van de Hill Cipher.</li>
            </ul>
            <p>
                Samengevat, het selecteren van een omkeerbare sleutelmatrix is cruciaal voor de Hill Cipher, wat ervoor zorgt dat de versleutelde informatie succesvol kan worden ontsleuteld. Dit benadrukt het belang van het begrijpen van matrixbewerkingen en modulaire rekenkunde in cryptografie.
            </p>            

            <h2>Kan de Hill Cipher een 3x3 Matrix of Hogere-Orde Matrices Gebruiken?</h2>
            <p>
                Het antwoord is bevestigend. Een belangrijk kenmerk van de Hill Cipher is dat het vierkante matrices van elke grootte als sleutelmatrix kan gebruiken, mits de matrix omkeerbaar is (d.w.z., het heeft een inverse matrix onder de gebruikte modulus).
            </p>
            
            <p>
                Het gebruik van een 3x3 of hogere-orde matrix kan de beveiliging verbeteren omdat ze de complexiteit van de sleutel verhogen. Echter, naarmate de grootte van de matrix toeneemt, worden de berekeningen die nodig zijn voor encryptie en decryptie complexer en tijdrovender. Daarnaast moet, om overeen te komen met de grootte van de sleutelmatrix, de grootte van de tekstblokken ook toenemen, wat het gebruik van meer opvul tekens noodzakelijk kan maken om de encryptie van het laatste blok te passen.
            </p>
            
            <p>
                Bijvoorbeeld, het gebruik van een 3x3 sleutelmatrix zou vereisen dat de tekst wordt verdeeld in blokken van drie tekens elk. Elk teken wordt omgezet in een numerieke waarde, en dan worden deze drie waarden georganiseerd in een vector om vermenigvuldigd te worden door de sleutelmatrix. Deze methode verhoogt de mogelijke combinaties voor de sleutel, waardoor de beveiliging van het encryptiealgoritme wordt verbeterd.
            </p>
            <p>
                De flexibiliteit van de Hill Cipher maakt het gebruik van sleutelmatrices van verschillende groottes mogelijk, inclusief 3x3 matrices en matrices van hogere orden. Het kiezen voor matrices van hogere orde kan de encryptie versterken maar vraagt ook om meer rekenkracht en geschikte tekstverwerkingsstrategieën.
            </p>
            
            <h2>Verschillen Tussen Hill Cipher en Playfair Cipher in Cryptografie</h2>
            <p>
                Zowel <strong>Hill Cipher als Playfair Cipher</strong> zijn klassieke encryptietechnieken met unieke benaderingen van lettervervanging. Ondanks hun gemeenschappelijke doel om platte tekstberichten te beveiligen, verschillen ze aanzienlijk in hun werking. Het begrijpen van deze verschillen is cruciaal voor cryptografie-enthousiastelingen en professionals.
            </p>
            <h3>Beginselen en Methoden</h3>
            <ul>
                <li><strong>Hill Cipher:</strong> Werkt door de platte tekst in vaste-lengte blokken te verdelen en ze te encrypteren met een sleutelmatrix, gebruikmakend van modulaire rekenkunde voor de generatie van ciphertext. De decryptie is afhankelijk van de inverse van de sleutelmatrix.</li>
                <li><strong>Playfair Cipher:</strong> Encrypteert letterparen met behulp van een 5x5 sleutelmatrix op basis van een sleutelwoord, met specifieke regels voor herhaalde letters en oneven letterparen, waarbij de decryptie de inverse van deze regels volgt.</li>
            </ul>
            <h3>Sleutellengte en Constructie</h3>
            <ul>
                <li><strong>Hill Cipher:</strong> Gebruikt een matrixsleutel, afhankelijk van de blokgrootte (bijv. 2x2, 3x3).</li>
                <li><strong>Playfair Cipher:</strong> Gebruikt een sleutelwoord om een 5x5 matrix te construeren voor encryptie- en decryptieprocessen.</li>
            </ul>
            <h3>Platte Tekst Groepering en Ciphertext Generatie</h3>
            <ul>
                <li><strong>Hill Cipher:</strong> Verdeelt platte tekst in gelijkmatig-grote blokken, gebruikmakend van wiskundige operaties voor encryptie.</li>
                <li><strong>Playfair Cipher:</strong> Scheidt platte tekst in paren, gebruikmakend van sleutelmatrix regels voor de creatie van ciphertext.</li>
            </ul>
            
            <h2>Hoe gaat de Hill Cipher om met de encryptie en decryptie van teksten met een oneven aantal letters?</h2>
            <p>
                Wanneer men een tekst van oneven lengte tegenkomt, net zoals bij de Playfair Cipher, heeft de Hill Cipher ook een methode nodig om om te gaan met het laatste onvolledige blok. Hier zijn verschillende methoden vermeld voor het omgaan met teksten van oneven lengtes:
            </p>
            <ul>
                <li><strong>Opvulling:</strong> De meest voorkomende methode is om één of meer vooraf gedefinieerde karakters (zoals X of 0) aan het einde van de tekst toe te voegen om aan de matrixvereiste te voldoen. Dit zorgt ervoor dat alle karakters kunnen worden versleuteld. Bijvoorbeeld, als een 2x2 matrix wordt gebruikt en de tekstlengte is oneven, kan men een karakter aan het einde van de tekst toevoegen om de lengte even te maken. Dit is ook de methode die op deze webpagina wordt gebruikt.</li>
                <li><strong>Speciale behandeling van het laatste karakter:</strong> Een andere methode is om het laatste karakter apart te verwerken. Bijvoorbeeld, je zou het laatste karakter ongewijzigd kunnen laten of het versleutelen met een simpele encryptiemethode, in plaats van de Hill encryptiemethode te gebruiken.</li>
                <li><strong>Aanpassen van de matrixgrootte:</strong> Indien mogelijk, zou men ook kunnen kiezen voor een matrix van een andere grootte om het laatste blok te versleutelen. Bijvoorbeeld, als normaal gesproken een 3x3 matrix wordt gebruikt, maar er slechts één of twee karakters over zijn, kan een 2x2 of 1x1 matrix worden gebruikt om de overgebleven karakters te behandelen. Deze methode vereist een extra matrix en zou het encryptieproces kunnen compliceren.</li>
            </ul>
            <p>
                De keuze van de methode hangt af van het specifieke toepassingsscenario en de beveiligingsvereisten. Meestal is opvulling de eenvoudigste en meest directe methode, maar elke benadering heeft zijn voor- en nadelen. Het sleutelpunt is om ervoor te zorgen dat de encryptie- en decryptieprocessen consistent blijven en dat beide partijen duidelijk zijn over hoe de tekst correct te behandelen.
            </p>            
        </section>
    </main>

    <footer class="footer">
        <div class="social-links">
            <a href="https://twitter.com/xinli_111219" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="https://www.youtube.com/@xinli-vj3js" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-youtube"></i>
            </a> 
        </div>
    
        <div class="info">
            <p>© 2024 chatcipher Tools. Alle rechten voorbehouden.</p>
            <p>
                <a href="https://chatcipherai.com/nl/Privacy_Policy.html" title="Privacy Policy">Privacybeleid</a>
                |
                <a href="https://chatcipherai.com/nl/Terms_of_Use.html" title="Terms of Use">Gebruiksvoorwaarden</a>
                |
                <a href="https://chatcipherai.com/nl/About_Us.html" title="About Us">Over ons</a>
                |
                <a href="https://chatcipherai.com/nl/Disclaimer.html" title="Disclaimer">Disclaimer</a>
            </p> 
            <button id="backToTop" onclick="scrollToTop()">Terug naar Boven(<span class="highlight-key">B</span>)</button>
        </div> 
    </footer>

    <script>
        let shortcutsEnabled = true;

        function manageShortcuts(enable) {
            shortcutsEnabled = enable;
        }

        function handleKeyPress(event) {
            if (!shortcutsEnabled) {
                console.log('Shortcuts are disabled');
                return;
            }

            switch (event.key.toUpperCase()) {
                case 'E':
                    encrypt();
                    console.log('Encode triggered');
                    break;
                case 'D':
                    decrypt();
                    console.log('Decode triggered');
                    break;
                case 'A':
                    clearAll();
                    console.log('Clear All triggered');
                    break;
                case 'L':
                    if (document.activeElement.type !== 'text' && document.activeElement.type !== 'textarea') {
                        setStyle('light-mode');
                        console.log('Light style activated');
                    }
                    break;
                case 'N':
                    if (document.activeElement.type !== 'text' && document.activeElement.type !== 'textarea') {
                        setStyle('dark-mode');
                        console.log('Dark style activated');
                    }
                    break;
                case 'B':
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                    console.log('Scrolled to top');
                    break;
                case 'G':
                    generateMatrix();
                    console.log('Matrix generation triggered');
                    break;
                case 'C':
                    copyMatrixToClipboard();
                    console.log('Copy matrix triggered');
                    break;
                case 'O':
                    toggleMatrixDisplay();
                    console.log('Toggle matrix display triggered');
                    break;
                case 'S':
                    showMatrix();
                    console.log('Show matrix triggered');
                    break;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const inputElements = document.querySelectorAll('input[type="text"], textarea');
            inputElements.forEach(input => {
                input.addEventListener('focus', () => manageShortcuts(false));
                input.addEventListener('blur', () => manageShortcuts(true));
            });

            document.addEventListener('keydown', handleKeyPress);
        });

        function textToNumbers(text) {
            return text.split('').map(char => {
                const charCode = char.charCodeAt(0);
                if (/[a-z]/.test(char)) {
                    return charCode - 'a'.charCodeAt(0);
                } else if (/[A-Z]/.test(char)) {
                    return charCode - 'A'.charCodeAt(0);
                } else {
                    return charCode;
                }
            });
        }

        function numbersToText(numbers) {
            return numbers.map(num => {
                if (num >= 0 && num < 26) {
                    return String.fromCharCode(mod(num, 26) + 'A'.charCodeAt(0));
                } else {
                    return String.fromCharCode(num);
                }
            }).join('');
        }

        function parseKey(keyString) {
            return keyString.split(',').map(Number);
        }

        function mod(n, m) {
            return ((n % m) + m) % m;
        }

        function multiplyMatrixAndVector(matrix, vector, modValue) {
            const result = [];
            for (let i = 0; i < matrix.length; i++) {
                let sum = 0;
                for (let j = 0; j < vector.length; j++) {
                    sum += matrix[i][j] * vector[j];
                }
                result.push(mod(sum, modValue));
            }
            return result;
        }

        function padText(text) {
            if (text.length % 2 !== 0) {
                text += 'X'; // Append 'X' if text length is odd
            }
            return text;
        }

        function encrypt() {
            let text = document.getElementById('inputText').value.replace(/[^a-zA-Z]/g, ''); 
            text = padText(text); // Ensure text length is even for the matrix operations
            const keyNumbers = parseKey(document.getElementById('key').value);
            if (keyNumbers.length !== 4) {
                document.getElementById('result').textContent = 'Key format error. Please enter four comma-separated numbers.';
                return;
            }
            const keyMatrix = [[keyNumbers[0], keyNumbers[1]], [keyNumbers[2], keyNumbers[3]]];
            const det = keyNumbers[0] * keyNumbers[3] - keyNumbers[1] * keyNumbers[2];
            if (det === 0 || !hasModularInverse(det, 26)) {
                document.getElementById('result').textContent = 'Invalid matrix key. No inverse exists.';
                return;
            }
            const textNumbers = textToNumbers(text);
            let encryptedNumbers = [];
            for (let i = 0; i < textNumbers.length; i += 2) {
                encryptedNumbers.push(...multiplyMatrixAndVector(keyMatrix, [textNumbers[i], textNumbers[i + 1]], 26));
            }
            const encryptedText = numbersToText(encryptedNumbers);
            let resultElement = document.getElementById('result');
            resultElement.textContent = encryptedText;
            resultElement.style.color = "blue"; // Set text color to blue
        }

        function modInverse(a, m) {
            for (let i = 1; i < m; i++) {
                if ((a * i) % m === 1) {
                    return i;
                }
            }
            return null;
        }

        function removePaddingX(decryptedText) {
            let chars = decryptedText.split('');
            for (let i = 1; i < chars.length - 1; i++) {
                // Remove 'X' if it is between two identical letters
                if (chars[i] === 'X' && chars[i - 1] === chars[i + 1]) {
                    chars.splice(i, 1);
                    i--; // Adjust index after removing 'X'
                }
            }
            // Check if the last character is 'X' and if so, it is highlighted in red
            if (chars[chars.length - 1] === 'X') {
                return chars.join('').slice(0, -1) + '<span style="color: red;">X</span>';
            }
            return chars.join('');
        }

        function decrypt() {
            let text = document.getElementById('inputText').value.replace(/[^a-zA-Z]/g, '');  
            const keyNumbers = parseKey(document.getElementById('key').value);

            const det = keyNumbers[0] * keyNumbers[3] - keyNumbers[1] * keyNumbers[2];
            const invDet = modInverse(det, 26);

            if (invDet === null) {
                document.getElementById('result').innerHTML = "Invalid Key for Decryption (No Modular Inverse)";
                document.getElementById('result').style.color = "#0A0F24"; // Set the color of the error message
                return;
            }

            const keyMatrixInverse = [
                [mod(invDet * keyNumbers[3], 26), mod(-invDet * keyNumbers[1], 26)],
                [mod(-invDet * keyNumbers[2], 26), mod(invDet * keyNumbers[0], 26)]
            ];

            const textNumbers = textToNumbers(text);

            let decryptedNumbers = [];
            for (let i = 0; i < textNumbers.length; i += 2) {
                decryptedNumbers.push(...multiplyMatrixAndVector(keyMatrixInverse, [textNumbers[i], textNumbers[i + 1]], 26));
            }

            let decryptedText = numbersToText(decryptedNumbers);

            decryptedText = removePaddingX(decryptedText); // Use the updated removePaddingX function

            let resultElement = document.getElementById('result');
            resultElement.innerHTML = decryptedText; // Set the HTML content
            resultElement.style.color = "#0A0F24"; // Set the color of the decryption result
        }

        document.getElementById('menuIcon').addEventListener('click', function () {
            var navbarUl = document.querySelector('.navbar ul');
            if (navbarUl.style.display === 'flex') {
                navbarUl.style.display = 'none';
            } else {
                navbarUl.style.display = 'flex';
            }
        });

        document.getElementById('languageIcon').addEventListener('click', function () {
            var navbarUl = document.querySelector('.navbar .langUl');
            if (navbarUl.style.display === 'flex') {
                navbarUl.style.display = 'none';
            } else {
                navbarUl.style.display = 'flex';
            }
        });

        document.addEventListener('click', function (event) {
            var menuIcon = document.getElementById('menuIcon');
            var menunavbarUl = document.querySelector('.navbar .menuUl');

            var languageIcon = document.getElementById('languageIcon');
            var langnavbarUl = document.querySelector('.navbar .langUl');

            if (!menuIcon.contains(event.target) && !menunavbarUl.contains(event.target)) {
                menunavbarUl.style.display = 'none';
            }
            if (!languageIcon.contains(event.target) && !langnavbarUl.contains(event.target)) {
                langnavbarUl.style.display = 'none';
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            var savedStyle = localStorage.getItem('style') || 'dark-mode';
            setStyle(savedStyle);
        });

        document.getElementById('lightStyle').addEventListener('click', function() {
            setStyle('light-mode');
        });

        document.getElementById('darkStyle').addEventListener('click', function() {
            setStyle('dark-mode');
        });

        function setStyle(style) {
            document.body.className = style;
            localStorage.setItem('style', style);
            updateButtonStyles();
            updateNavbarStyles(style);
            updateTableStyle(style);
            updateInteractiveToolStyle(style);
        }

        function updateInteractiveToolStyle(style) {
            var interactiveTool = document.querySelector('.section.interactive-tool');
            if (style === 'dark-mode') {
                interactiveTool.style.backgroundColor = '#ffffff';
            } else {
                interactiveTool.style.backgroundColor = '#f0f0f0';
            }
        }

        function updateNavbarStyles(style) {
            var navbar = document.querySelector('.navbar');
            var ul = navbar.querySelector('ul');
            navbar.style.backgroundColor = style === 'dark-mode' ? '#0A0F24' : '#FFFFFF';
            ul.style.backgroundColor = style === 'dark-mode' ? 'rgba(119, 136, 153, 0.8)' : 'rgba(255, 255, 255, 0.8)';
            ul.style.color = style === 'dark-mode' ? '#FFFFFF' : '#0A0F24';
        }

        document.querySelectorAll('.learnMore').forEach(function(link) {
            link.addEventListener('click', function() {
                var targetId = this.getAttribute('data-target');
                var moreContent = document.getElementById(targetId);
                if (moreContent.style.display === "none" || moreContent.style.display === "") {
                    moreContent.style.display = "block";
                    this.textContent = "[Close]";
                } else {
                    moreContent.style.display = "none";
                    this.textContent = "[Learn More]";
                }
            });
        });

        function clearAll() {
            var inputText = document.getElementById('inputText');
            var result = document.getElementById('result');
            var key = document.getElementById('key');

            inputText.value = ''; // Clears the textarea
            key.value = ''; // Clears the input for key
            result.innerHTML = ''; // Clears the content of the div#result

            // Optionally reset the style or other properties if needed
            result.style.color = ""; // Resets the text color to default
        }

        function generateMatrix() {
            let a, b, c, d, det;
            do {
                a = Math.floor(Math.random() * 20) - 10;
                b = Math.floor(Math.random() * 20) - 10;
                c = Math.floor(Math.random() * 20) - 10;
                d = Math.floor(Math.random() * 20) - 10;
                det = a * d - b * c;
            } while (det === 0 || !hasModularInverse(det, 26));

            const matrixDisplay = document.getElementById('matrixDisplay');
            matrixDisplay.innerHTML = 
                '<p>Gegenereerde Matrix:</p>' +
                '<p>[' + a + ' ' + b + ']</p>' +
                '<p>[' + c + ' ' + d + ']</p>' +
                '<p>Determinant: ' + det + ' (mod 26)</p>';

            if (document.body.classList.contains('dark-mode')) {
                matrixDisplay.classList.add('matrix-dark');
            } else {
                matrixDisplay.classList.remove('matrix-dark');
            }
        }

        function hasModularInverse(n, m) {
            n = n % m;
            for (let x = 1; x < m; x++) {
                if ((n * x) % m === 1) {
                    return true;
                }
            }
            return false;
        }

        function toggleMatrixDisplay() {
            var matrixDisplay = document.getElementById('matrixDisplay');
            var toggleButton = document.getElementById('toggleMatrixDisplay');

            // Check if the display style of matrixDisplay is not set or set to 'none'
            if (!matrixDisplay.style.display || matrixDisplay.style.display === 'none') {
                matrixDisplay.style.display = 'block'; // Show the matrix display
                toggleButton.innerHTML = 'Sluiten(<span class="highlight-key">o</span>)'; // Update button text to show "Close Matrix"
            } else {
                matrixDisplay.style.display = 'none'; // Hide the matrix display
                toggleButton.innerHTML = 'Weergeven van de Matrix(<span class="highlight-key">o</span>)'; // Update button text to show "Show Matrix"
            }
        }

        function copyMatrixToClipboard() {
            const matrixDisplay = document.getElementById('matrixDisplay');
            const copyStatus = document.getElementById('copyStatus');
            const matrixParagraphs = matrixDisplay.getElementsByTagName('p');
            if (matrixParagraphs.length >= 3) {
                const matrixRow1 = matrixParagraphs[1].innerText.match(/[-\d]+/g);
                const matrixRow2 = matrixParagraphs[2].innerText.match(/[-\d]+/g);
                if (matrixRow1 && matrixRow2) {
                    const matrixString = matrixRow1.concat(matrixRow2).join(',');
                    navigator.clipboard.writeText(matrixString).then(function() {
                        copyStatus.innerText = 'Matrix copied to clipboard: ' + matrixString;
                        copyStatus.style.display = 'block';
                    }, function() {
                        copyStatus.innerText = 'Failed to copy matrix.';
                        copyStatus.style.display = 'block'; 
                    });
                } else {
                    copyStatus.innerText = 'No matrix to copy.';
                    copyStatus.style.display = 'block'; 
                }
            } else {
                copyStatus.innerText = 'No matrix to copy.';
                copyStatus.style.display = 'block';
            }
        }

        function hideCopyStatus() {
            const copyStatus = document.getElementById('copyStatus');
            if (copyStatus) {
                copyStatus.style.display = 'none';
            }
        }

        document.addEventListener('click', function() {
            hideCopyStatus();
        });

        window.onscroll = function () { scrollFunction(); };
        function scrollFunction() {
            if (document.body.scrollTop > 10 || document.documentElement.scrollTop > 20) {
                document.getElementById("backToTop").style.display = "block";
            } else {
                document.getElementById("backToTop").style.display = "none";
            }
        }
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.addEventListener('DOMContentLoaded', function() {
            var navbar = document.querySelector('.navbar');
            window.onscroll = function() {
                if(window.scrollY > 50) {
                    navbar.classList.add('solid');
                } else {
                    navbar.classList.remove('solid');
                }
            };
        });

        function adjustButton() {
            var button = document.getElementById('backToTop');
            if (window.innerWidth < 768) {
                button.innerHTML = '▲';
            } else {
                button.innerHTML = 'Terug naar Boven(<span class="highlight-key">B</span>)';
            }
        }

        window.onload = adjustButton;
        window.onresize = adjustButton;

    </script>
</body>
</html>

