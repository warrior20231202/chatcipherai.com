<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>恺撒密码探索器：古代加密技术</title>
    <meta name="description" content="开始使用恺撒密码探索器的旅程，这是一个使古老加密艺术栩栩如生的工具，展开了一种与尤利乌斯·恺撒永恒遗产一样古老的方法的秘密。">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="icon" type="image/jpg" href="./images/cipher.jpg">
    <style>    
        html {
            height: 100%;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 100vh;
            align-items: center;
            margin: 0;
            padding: 0 20px 20px 20px;
            background-color: #0A0F24;
            color: #FFFFFF;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: rgba(10, 15, 36, 0.0);
            transition: background-color 0.5s ease;
            z-index: 1000;
            height: 40px;
        }

        .navbar.solid {
            background-color: rgba(10, 15, 36, 1);
        }  

        #menuIcon {
            cursor: pointer; 
            transition: color 0.3s ease; 
        }
        #menuIcon:hover {
            color: #a3a2a2; 
        }

        #languageIcon {
            cursor: pointer;
            transition: color 0.3s ease;
            margin-left: 20px;
        }

        #languageIcon:hover {
            color: #a3a2a2;
        }

        .navbar .langUl {
            left: 87px;
            width: 100px;
        }

        .navbar.active ul {
            display: flex;
            flex-direction: column; 
            position: absolute;
            top: 35px; 
            left: 10px;
            width: 15%; 
            background-color: rgba(119, 136, 153, 0.8);
            padding: 10px 0; 
        }

        .navbar.active ul li {
            margin-bottom: 1px; 
        }

        .navbar.active ul li:last-child {
            margin-bottom: 0; 
        }

        .navbar ul {
            display: none;
            flex-direction: column;
            position: absolute;
            top: 50px;
            left: 10px;
            background-color: transparent;
            padding: 10px 0;
            list-style: none;
            margin: 0;
            width: 12%;
        }

        .navbar.active ul {
            display: flex;
        }

        .section.interactive-tool {
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center;
            background-color: #bbbaba;
            padding: 20px; 
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 75%;
            margin-top: 30px;
            margin-bottom: 150px;
        }

        #inputMessage, #shiftValue {
            width: 60%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 8px;
            border: 1px solid #eae6e6;
            font-size: 1em;
            font-family: Arial, sans-serif;
        }

        #inputMessage {
            min-height: 100px;
            max-height: 300px;
            resize: vertical; 
            overflow: auto;   
            text-align: left;   
            white-space: pre-wrap;
        }

        .sections-container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: center;
            margin-top: 120px;
            margin-left: 300px;
        }

        .sections-container h2, .sections-container p {
            text-align: left;
            width: 80%;
        }

        #result {
            font-weight: bold;
            font-size: 1.2em;
            color: #0A0F24;
        }

        p {  
            margin-bottom: 30px;  
            text-align: left; 
            font-size: 1.2em; 
            line-height: 1.6; 
            text-align: center; 
        }

        h2 {
            margin-bottom: 10px;
            font-size: 28px;
            margin-top: 50px;
        }

        .sections-container h2:hover {
            color: #4bcfcf;
            transition: color 0.3s ease;
        }

        .navbar li a {
            color: white; 
            padding: 5px;
            text-decoration: none;
            font-size: 15px;
            background-color: rgba(0, 0, 0, 0.3); 
            display: block;
            border-radius: 5px;
        }

        .navbar ul li {
            margin-bottom: 1px;
        }

        .navbar ul li a:hover {
            background-color: rgba(255, 255, 255, 0.206); 
            color: #0A0F24; 
        }

        .navbar h1 {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            margin-top: 35px;
            margin-right: 0;
            font-size: 30px;
        }

        .navbar-dark {
            background-color: #0A0F24; 
        }

        .morse-code-container {
            display: flex;
            align-items: center;
        }

        .morse-code-container {
            margin-right: 5px; 
            margin-left: 0; 
        }

        button {
            cursor: pointer;
            margin: 10px;
            padding: 8px 15px;
            margin-left: 5px;
            background-color: #0A0F24;
            border: none;
            border-radius: 5px;
            color: #FFFFFF;
            transition: background 0.3s;
        }

        button:hover {
            background-color: #a8a8a8;
            color: #0A0F24;
        }

        .copy-button {
            cursor: pointer;
            padding: 8px 15px;
            margin: 5px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 0.8em;
        }

        .copy-button:hover {
            background-color: #45a049;
        }

        .style-selector {
            position: absolute;
            top: 0px;
            right: 50px;
            margin-top: 10px;
        }

        .style-selector button {
            background-color: #0a0f24;
            padding: 5px 10px;
            margin-right: 1px;
            color: #F5F5F5;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .style-selector button:hover {
            background-color: #c0c0c0;
            color: #0a0f24;
        }

        .dark-mode {  
            background-color: #0A0F24;  
            color: white;  
        }  
        .light-mode {  
            background-color: #fff;  
            color: #0A0F24; 
        }  

        .light-mode .navbar, .light-mode .container {
            background-color: #FFFFFF; 
            color: #0A0F24; 
        }
        .light-mode .navbar ul {
            background-color: transparent; 
            color: #0A0F24; 
        }

        .dark-mode .navbar ul li a:hover {
            color: #30eded; 
        }

        .light-mode .navbar ul li:hover {
            color: #0A0F24; 
            background-color: rgba(255, 255, 255, 1);
            border-radius: 5px;
        }
        
        .navbar {
            justify-content: flex-start; 
        }

        .language-dropdown {
            width: 6%;
            display: none;
            list-style: none;
            padding: 10px 0;
            margin: 0;
            position: absolute;
            top: 40px;
            left: 100px; 
            background-color: rgba(119, 136, 153, 0.8);
        }

        .language-dropdown li a {
            color: #FFFFFF;
            padding: 5px;
            margin: 1px;
            text-decoration: none;
            display: block;
            border-radius: 5px;
        }

        .language-dropdown li a:hover {
            background-color: rgba(255, 255, 255, 0.206);
            color: #0A0F24;
        }

        .table-container {
            display: none; 
            justify-content: center;
            align-items: center;
            width: 100%;
        }

        .table-container.active {
            display: block;
        }

        .button-container {
            display: flex;
            justify-content: center;
            margin-right: 20px
        }

        .button-container button {
            margin-right: 30px; 
        }

        .footer {
            position: relative; 
            width: 100%;
            background-color: #0A0F24;
            color: #FFFFFF;
            text-align: center;
            padding: 10px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            margin-bottom: -20px;
        }

        .footer a {
            color: #F5F5F5;
            text-decoration: none;
            margin: 0 12px;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: #a3a2a2;
        }

        .footer p {
            margin: 0;
            font-size: 16px;
        }

        .learnMore {
            color: #007bff;
            cursor: pointer;
            text-decoration: underline;
        }
        
        .moreContent p {
            margin-top: 10px;
        }

        #moreContent1 {
            color: #0A0F24;
            background-color: #e9f4f4;
            padding: 10px;
            border-radius: 8px; 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 74%;
        }

        #moreContent2 {
            color: #0A0F24;
            background-color: #e9f4f4;
            padding: 10px;
            border-radius: 8px; 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 74%;
        }

        .clear-all-button {
            background-color: #47d7ff;
        }

        .clear-all-button:hover {
            background-color: #57f7ff;
        }

        figure {
            display: flex;
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            text-align: center;
            width: 100%;
            margin: 0 auto;
        }

        img {
            max-width: 75%;
            height: auto;
            margin-left: -250px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        figcaption.caesar,
        figcaption.frequency {
            width: 100%;
            margin-left: -300px;
            color: #007bff;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 10px;
        }

        .navbar li {
            position: relative;
        }

        .navbar li>a {
            display: block;
        }

        .navbar .submenu {
            display: none;
            position: absolute;
            left: 101%;
            top: 0;
            background-color: transparent;
            border-radius: 5px;
            padding: 0;
            min-width: 150px;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .navbar .submenu li {
            display: block;
            border-bottom: none;
            width: 75%;
        }

        .navbar .submenu li:last-child {
            border-bottom: none;
        }

        .navbar li:hover>.submenu {
            display: block;
        }

        .navbar .submenu a {
            color: #ffffff;
            padding: 5px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s ease;
        }

        .navbar .submenu a:hover {
            background-color: rgba(255, 255, 255, 0.206);
        }

        #backToTop {
            position: absolute;
            bottom: 5px;
            right: 30px;
            z-index: 99;
            border: none;
            outline: none;
            background-color: #0a0f24;
            color: white;
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            font-size: 14px;
            display: block;
        }

        #backToTop:hover {
            background-color: #c0c0c0;
            color: #0a0f24;
        }

        section li {
            font-size: 17px;
            line-height: 1.5;
            word-wrap: break-word;
            width: 80%;
            padding-bottom: 10px; 
        }

        section pre{
            background-color: #e9f4f4;
            width: 74%;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 1.6em;
            padding: 1em 1.5em;
        }

        section code{
            color: #0A0F24;
            border-radius: 5px;
            font-family: 'Arial', sans-serif;
        }

        .highlight-key { 
            font-weight: 800;
        }

    @media screen and (max-width: 768px) {
        .section.interactive-tool {
            margin-left: -15px;
        }

        .section {
            margin-left: 25px;
        }

        .navbar h1 {
            font-size: 18px;
            position: absolute;
            top: -25px; 
        }

        .sections-container {
            margin-left: auto;
            margin-right: auto;
            align-items: center;
            width: 100%;
        }

        .section {
            width: 100%;
            padding: 10px;
        }

        .section h2 {
            font-size: 1.2em;
            margin-left: 20px;  
        }

        .section h3 {
            font-size: 0.9em;
            margin-left: 20px; 
        }

        .section p {
            font-size: 0.9em;
            margin-left: 20px; 
        }

        section li {
            font-size: 14px;
        }

        figure {
            display: flex;
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            text-align: center;
            width: 100%;
            margin: 0 auto;
        }

        img {
            max-width: 75%;
            height: auto;
            margin-left: -60px;
        }

        figcaption.caesar,
        figcaption.frequency {
            width: 100%;
            margin-left: -70px;
            color: #007bff;
            font-size: 0.8em;
            font-weight: bold;
            margin-top: 10px;
        }

        .footer p {
            margin: 0;
            font-size: 10px;
        }

        pre {
            display: none;
        }

        .copy-button {
            display: none;
        }

        #backToTop {
            content: '▲';
            padding: 4px 5px;
            font-size: 14px;
            right: 10px;
            bottom: 0px;
        }

        .navbar ul {
            width: 25%;
        }

        .navbar ul li {
            padding: 0 5px 0 0;
        }

        .navbar li a {
            padding: 5px;
        }

        .navbar li a {
            font-size: 10px;
            width: 100%;
            padding: 5px 0px 5px 5px;
        }

        .navbar .submenu {
            left: 100%;
        }

        .navbar .submenu li {
            display: block;
            border-bottom: none;
            width: 50%;
            padding: 0 5px 0 0;
        }

        .navbar .submenu li a {
            padding: 5px 0px 5px 5px;
        }

        #menuIcon {
            font-size: 0; /* Hide text */
        }

        #menuIcon::before {
            content: '\2630'; /* Unicode character for ☰ */
            font-size: 16px; /* Or any other size you prefer */
        }

        #languageIcon {
            font-size: 0; 
            }

        #languageIcon::before {
            content: '\2637';
            font-size: 16px; /* Or any other size you prefer */
        }

        .navbar .langUl {
            left: 42px;
            width: 65px;
        }

        #darkStyle {
            font-size: 0;
            margin-left: 10px;
            padding: 5px 8px;
        }

        #lightStyle {
            font-size: 0;
            margin-right: -10px;
        }

        #darkStyle::before {
            font-size: 9px;
        }

        #lightStyle::before {
            font-size: 10px;
        }

        #darkStyle::before {
            content: "🌙";
        }

        #lightStyle::before {
            content: "☀";
        }

        .social-links i {
            font-size: 12px;
        }
    }
    </style>
</head>

<body class="dark-mode">
    <header>
        <nav class="navbar">
            <div id="menuIcon">&#9776; 菜单</div>
            <div id="menuItems"></div>
            <ul class="menuUl">
                <li>
                    <a href="https://chatcipherai.com/zh-CN/chatcipherai.html">密码世界</a>
                    <ul class="submenu">
                        <li><a href="https://chatcipherai.com/zh-CN/Caesar_Cipher.html">恺撒密码</a></li>
                        <li><a href="https://chatcipherai.com/zh-CN/Playfair_Cipher.html">普莱菲尔密码</a></li>
                        <li><a href="https://chatcipherai.com/zh-CN/Hill_Cipher.html">希尔密码</a></li>  
                    </ul>
                </li>
                <li><a href="https://chatcipherai.com/zh-CN/Hash_value_test.html">哈希值测试</a></li>
                <li><a href="https://chatcipherai.com/zh-CN/Morsecode_main.html">摩尔斯电码编译器</a></li>
                <li><a href="https://chatcipherai.com/zh-CN/Shortcut_Key_Description.html">快捷键说明</a></li>
            </ul>

            <div id="languageIcon">&#x2637; 语言</div>
            <div id="languageItems">
                <ul class="langUl">
                    <li><a href="https://chatcipherai.com/en/Caesar_Cipher.html" title="English">English</a></li>
                    <li><a href="https://chatcipherai.com/fr/Caesar_Cipher.html" title="Français">Français</a></li>
                    <li><a href="https://chatcipherai.com/es/Caesar_Cipher.html" title="Español">Español</a></li>
                    <li><a href="https://chatcipherai.com/zh-CN/Caesar_Cipher.html" title="中文（简体）">中文（简体）</a></li>
                    <li><a href="https://chatcipherai.com/zh-TW/Caesar_Cipher.html" title="中文（繁体）">中文（繁体）</a></li>
                    <li><a href="https://chatcipherai.com/ar/Caesar_Cipher.html" title="العربية">العربية</a></li>
                    <li><a href="https://chatcipherai.com/ru/Caesar_Cipher.html" title="Русский">Русский</a></li>
                    <li><a href="https://chatcipherai.com/pt/Caesar_Cipher.html" title="Português">Português</a></li>
                    <li><a href="https://chatcipherai.com/de/Caesar_Cipher.html" title="Deutsch">Deutsch</a></li>
                    <li><a href="https://chatcipherai.com/hi/Caesar_Cipher.html" title="हिन्दी">हिन्दी</a></li>
                    <li><a href="https://chatcipherai.com/nl/Caesar_Cipher.html" title="Nederlands">Nederlands</a></li>
                </ul> 
            </div>
            
            <h1>恺撒密码探索器</h1>
            <div class="style-selector">
                <button id="darkStyle">🌙 暗色风格(<span class="highlight-key">N</span>)</button>
                <button id="lightStyle">☀ 亮色风格(<span class="highlight-key">L</span>)</button>
            </div>
        </nav>
            
        <main class="sections-container">
            <section class="section interactive-tool">
                <h2>尝试恺撒密码</h2>
                <p>使用下面的工具来编码或解码一条信息：</p>
                <input type="number" id="shiftValue" placeholder="位移量（例如，3）">
                <textarea id="inputMessage" placeholder="在此输入信息"></textarea>
                    
                <button onclick="encode()">加密(<span class="highlight-key">E</span>)</button>
                <button onclick="decode()">解密(<span class="highlight-key">D</span>)</button>
                    
                <button id="clearAllButton" class="clear-all-button" onclick="clearAll()">清除全部(<span class="highlight-key">A</span>)</button>
                <p>结果：<span id="result"></span></p>
            </section>
            
            <section class="section">
                <h2>欢迎来到恺撒密码的世界</h2>
                <p>这个领域将简单性与密码学艺术的神秘性交织在一起。起源于<a href="https://en.wikipedia.org/wiki/Julius_Caesar" rel="noopener noreferrer" target="_blank" style="color: #007bff; font-size: 1.0em;">尤利乌斯·恺撒</a>的实践，这种密码是秘密通信永恒魅力的证明。它基于一个简单却巧妙的原则——将字母表中的字母固定数量的偏移。这种位移将普通消息转化为神秘的文本，用神秘的面纱掩盖了文字。当我们深入这个世界时，我们揭开了它的简单之美和解码曾经看似难以穿透的消息的乐趣。恺撒密码虽然基础，但开启了通往更广阔、迷人的密码学世界的大门，在这个世界中，每个字母和位移在保密和发现的舞蹈中扮演着关键角色。</p>
            
                <h2>什么是恺撒密码？</h2>
                <p>恺撒密码是一种古老的加密技术，因罗马将军和政治家尤利乌斯·恺撒而闻名。他使用这种方法来保护重要的军事通信。作为一种替代密码，它特别采用字母表偏移。恺撒密码的基本原则涉及将字母表中的每个字母偏移一个预定的数量。例如，偏移量为3时，字母表移动，使得'A'变成'D'，'B'变成'E'，这种模式继续。到达字母表末尾时，序列回到开始。</p>
                    
                <p>虽然恺撒密码经常作为更复杂加密方法中的基本元素，但其简单性使其容易被破解，因此为实际通信需求提供有限的安全性。</p>
                <figure>
                    <img src="./images/figure 1-Caesar cipher schematic diagram.jpg" alt="恺撒密码示意图">
                    <figcaption class="caesar">恺撒密码示意图</figcaption>
                </figure>
            
                <h2>特定的恺撒密码有哪些？</h2>
                <p>恺撒密码是一种通过字母表上的位移来进行加密的方法，最简单的就是每个字母向后（或向前）移动固定数目。不过，除了这种基本的形式，这里列举一些比较有趣的变体：</p>
                <ul>
                    <li><strong>ROT13：</strong> 一种特殊的恺撒密码，偏移量为13。因为英文字母有26个，所以加密和解密使用同一套规则。</li>
                    <li><strong>Atbash Cipher：</strong> 这是一种特殊情况，可以视为希伯来语的恺撒密码。它将字母表反转，所以第一个字母换成最后一个字母，第二个字母换成倒数第二个，以此类推。</li>
                    <li><strong>Vigenère Cipher：</strong> 虽然严格意义上不属于恺撒密码，但它是基于恺撒密码的原理发展而来。它使用一串关键词作为加密的偏移量，相比单一的字母偏移，提供了更高的安全性。</li>
                    <li><strong>Affine Cipher： </strong> 基于恺撒密码的思想，但在加密过程中引入了乘法。每个字母在字母表中的位置先乘以一个数（与字母表长度互质），然后加上一个偏移量，最后对字母表长度取模得到加密后的字母。</li>
                    <li><strong>ROT5、ROT18、ROT47：</strong> 这些是ROT13的变体，不过它们用于加密数字和其他字符。ROT5仅用于数字，ROT18结合了ROT5和ROT13，而ROT47则能加密ASCII表中的大部分可打印字符。</li>
                    <li><strong>双重恺撒密码：</strong> 这是对恺撒密码的简单扩展，通过两次应用恺撒密码，可能使用不同的偏移量，以增加加密的复杂度。</li>
                </ul>
                <p>这些变体和相关技术各有特点，旨在提高加密方法的安全性或适应特定的加密需求。</p>          
            
                <h2>如何在Python中实现恺撒密码？</h2>
                    <p>在Python中，您可以通过遍历原始文本的每个字母，然后根据字母表和给定的偏移量计算每个字母的加密版本来实现。这可以方便地使用ASCII码表来完成，例如，通过取字母的ASCII值与'a'的ASCII值之间的差值，加上一个偏移量，然后将结果转换回字母。</p>
                    <h3>恺撒密码的Python代码</h3>
                    <p>以下是一个Python函数，演示了如何使用恺撒密码技术来加密和解密文本。代码包含注释，以便更好地理解和适应。</p>

                <button class="copy-button" onclick="copyCode('codeBlock1')">复制</button>
                <pre><code id="codeBlock1">
                def caesar_cipher_enhanced(text, shift, encrypt=True):
                    """
                    Encrypts or decrypts text using Caesar Cipher.
                    
                    Parameters:
                    text (str): The text to encrypt or decrypt.
                    shift (int): The number of positions to shift the letters by.
                    encrypt (bool): True for encryption, False for decryption.
                    
                    Returns:
                    str: The transformed text.
                    """
                    transformed_text = ""
                    for char in text:
                        if char.isalpha():
                            start = ord('A') if char.isupper() else ord('a')
                            shift_adjusted = shift if encrypt else -shift
                            transformed_char = chr((ord(char) - start + shift_adjusted) % 26 + start)
                            transformed_text += transformed_char
                        else:
                            transformed_text += char
                    return transformed_text

                # Example usage
                user_input = input("Enter the text: ")
                shift = int(input("Enter the shift value: "))
                encrypt_decrypt = input("Encrypt or Decrypt (E/D): ").strip().upper()

                if encrypt_decrypt == 'E':
                    result = caesar_cipher_enhanced(user_input, shift, encrypt=True)
                    print("Encrypted:", result)
                elif encrypt_decrypt == 'D':
                    result = caesar_cipher_enhanced(user_input, shift, encrypt=False)
                    print("Decrypted:", result)
                else:
                    print("Invalid option. Please enter 'E' for Encrypt or 'D' for Decrypt.")
                </code></pre>

                <h2>如何破解恺撒密码？</h2>
                <p>破解恺撒密码相对简单，因为可能的位移数量有限（在英文字母的情况下是26种）。破解这种密码的一种常见方法是使用暴力法，即尝试每一种可能的位移，直到找到一个有意义的解密结果。这种方法是可行的，因为在英文字母中只有26种可能的位移，使得组合的数量足够少，可以手动检查每一个。</p>
                <p>另一种更精细的方法是使用频率分析。由于英语中的字母出现频率不同（例如，'e' 出现的频率比 'z' 高），你可以将编码消息中的字母频率与英语中典型的字母频率进行比较。通过这样做，你可以识别出最可能用于加密消息的位移。</p>
                <p>由于恺撒密码中每个字符的映射是固定的，如果“b”映射到“e”，那么每次“b”出现在明文中时，密文中就会出现“e”。现在已知英语中每个字母的概率分布。不同文本中不同字母的出现平均概率通常是相同的，且文本越长，频率计算就越接近平均值。这是26个字母的频率图。当然，随着样本数量的变化，每个字母的频率会有些许不同。</p>
                <p>例如，输入文本的第一段文字“This realm intertwines simplicity and intrigue...”，并通过上面的转换器我们得到了密文。但对于不知道密钥是什么的其他人，我们可以通过代码得到一个密钥，即位移。</p>
                <p>英文原文如下：</p>
                <p>"This realm intertwines simplicity and intrigue in the art of cryptography. Originating from the practices of Julius Caesar, this cipher serves as a testament to the timeless allure of secret communications. It operates on a straightforward yet ingenious principle – shifting the letters of the alphabet by a fixed number. This shift transforms ordinary messages into cryptic texts, cloaking words in a veil of mystery. As we delve into this world, we unravel the elegance of its simplicity and the joy of decoding messages that once seemed impenetrable. The Caesar Cipher, though elementary, opens the gateway to the broader, fascinating world of cryptography, where every letter and shift play a crucial role in the dance of secrecy and discovery."</p>
                <figure>
                    <img src="./images/figure 2-Alphabet frequency diagram.jpg" alt="英文字母频率分布">
                    <figcaption class="frequency">英文字母频率分布</figcaption>
                </figure>
                
                <p>以下Python代码示例演示了如何执行频率分析来破解恺撒密码。这种技术基于对英文字母频率的统计分析。</p>
                
                <button class="copy-button" onclick="copyCode('codeBlock2')">复制</button>
                <pre><code id="codeBlock2">
                import string
                def count_frequencies_from_file(path):
                    count_dict = dict.fromkeys(string.ascii_lowercase, 0)
                    total_chars = 0
                
                    with open(path, 'r', encoding='utf-8') as file:
                        for line in file:
                            for char in line.lower():
                                if char in count_dict:
                                    count_dict[char] += 1
                                    total_chars += 1
                
                    for char in count_dict:
                        count_dict[char] /= total_chars
                    return count_dict
                
                def frequency_analysis(known_frequencies, count_dict):
                    eps = float('inf')
                    key = 0
                    cipher_frequencies = list(count_dict.values())
                
                    for shift in range(26):
                        s = 0
                        for i in range(26):
                            s += known_frequencies[i] * cipher_frequencies[(i + shift) % 26]
                        temp = abs(s - 0.065379)
                        if temp < eps:
                            eps = temp
                            key = shift
                
                    return key
                # Known letter frequencies in English
                known_freqs = [0.086,0.014,0.030,0.038,0.130,0.029,0.020,0.053,0.063,0.001,0.004,0.034,0.025,0.071,0.080,
                                0.020,0.001,0.068,0.061,0.105,0.025,0.009,0.015,0.002,0.020,0.001]
                
                file_path = "Your_Path"
                cipher_count_dict = count_frequencies_from_file(file_path)
                key = frequency_analysis(known_freqs, cipher_count_dict)
                print("The key is: " + str(key))
                </code></pre>
                <p>尝试使用您自己的文件路径并运行此代码，看看您是否能解密用恺撒密码加密的消息。</p>

            </section>
        </main>
        
        <footer class="footer">
            <div class="social-links">
                <a href="https://twitter.com/xinli_111219" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-twitter"></i>
                </a>
                <a href="https://www.youtube.com/@xinli-vj3js" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-youtube"></i>
                </a> 
            </div>
        
            <div class="info">
                <p>© 2024 chatcipher Tools. 版权所有</p>
                <p>
                    <a href="https://chatcipherai.com/zh-CN/Privacy_Policy.html" title="Privacy Policy">隐私政策</a>
                    |
                    <a href="https://chatcipherai.com/zh-CN/Terms_of_Use.html" title="Terms of Use">使用条款</a>
                    |
                    <a href="https://chatcipherai.com/zh-CN/About_Us.html" title="About Us">关于我们</a>
                    |
                    <a href="https://chatcipherai.com/zh-CN/Disclaimer.html" title="Disclaimer">免责声明</a>
                </p> 
                <button id="backToTop" onclick="scrollToTop()">回到顶端</button>
            </div>
        </footer>

    <script>
        function caesarCipher(str, shift) {
        if (shift < 0) {
            return caesarCipher(str, shift + 26);
        }
        let output = '';
            for (let i = 0; i < str.length; i++) {
                let char = str[i];
                if (char.match(/[a-z]/i)) {
                    let code = str.charCodeAt(i);

                    if (code >= 65 && code <= 90) {
                        char = String.fromCharCode(((code - 65 + shift) % 26) + 65);
                    } else if (code >= 97 && code <= 122) {
                        char = String.fromCharCode(((code - 97 + shift) % 26) + 97);
                    }
                }
                output += char;
            }
            return output;
        }
        let encodedMessage = caesarCipher('Hello World!', 3);
        console.log('Encoded:', encodedMessage);

        // Decoding
        let decodedMessage = caesarCipher(encodedMessage, -3);
        console.log('Decoded:', decodedMessage);

        function encode() {
            let message = document.getElementById('inputMessage').value;
            let shift = parseInt(document.getElementById('shiftValue').value);
            let resultElement = document.getElementById('result');
            resultElement.textContent = caesarCipher(message, shift);
            resultElement.style.color = 'blue';
        }

        function decode() {
            let message = document.getElementById('inputMessage').value;
            let shift = parseInt(document.getElementById('shiftValue').value);
            document.getElementById('result').textContent = caesarCipher(message, -shift);
            document.getElementById('result').style.color = "#0A0F24";
        }

        document.getElementById('menuIcon').addEventListener('click', function () {
            var navbarUl = document.querySelector('.navbar ul');
            if (navbarUl.style.display === 'flex') {
                navbarUl.style.display = 'none';
            } else {
                navbarUl.style.display = 'flex';
            }
        });

        document.getElementById('languageIcon').addEventListener('click', function () {
            var navbarUl = document.querySelector('.navbar .langUl');
            if (navbarUl.style.display === 'flex') {
                navbarUl.style.display = 'none';
            } else {
                navbarUl.style.display = 'flex';
            }
        });

        document.addEventListener('click', function (event) {
            var menuIcon = document.getElementById('menuIcon');
            var menunavbarUl = document.querySelector('.navbar .menuUl');

            var languageIcon = document.getElementById('languageIcon');
            var langnavbarUl = document.querySelector('.navbar .langUl');

            if (!menuIcon.contains(event.target) && !menunavbarUl.contains(event.target)) {
                menunavbarUl.style.display = 'none';
            }
            if (!languageIcon.contains(event.target) && !langnavbarUl.contains(event.target)) {
                langnavbarUl.style.display = 'none';
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            var savedStyle = localStorage.getItem('style') || 'dark-mode';
            setStyle(savedStyle);
        });

        document.getElementById('lightStyle').addEventListener('click', function() {
            setStyle('light-mode');
        });

        document.getElementById('darkStyle').addEventListener('click', function() {
            setStyle('dark-mode');
        });

        function setStyle(style) {
            document.body.className = style;
            localStorage.setItem('style', style);
            updateButtonStyles();
            updateNavbarStyles(style);
            updateTableStyle(style);
            updateInteractiveToolStyle(style);
        }

        function updateInteractiveToolStyle(style) {
            var interactiveTool = document.querySelector('.section.interactive-tool');
            if (style === 'dark-mode') {
                interactiveTool.style.backgroundColor = '#ffffff'; // 设置为深色背景
            } else {
                interactiveTool.style.backgroundColor = '#f0f0f0'; // 设置为浅色背景
            }
        }

        function updateNavbarStyles(style) {
            var navbar = document.querySelector('.navbar');
            var ul = navbar.querySelector('ul');
            navbar.style.backgroundColor = style === 'dark-mode' ? '#0A0F24' : '#FFFFFF';
            ul.style.backgroundColor = style === 'dark-mode' ? 'rgba(119, 136, 153, 0.8)' : 'rgba(255, 255, 255, 0.8)';
            ul.style.color = style === 'dark-mode' ? '#FFFFFF' : '#0A0F24';
        }

        document.querySelectorAll('.learnMore').forEach(function(link) {
            link.addEventListener('click', function() {
                var targetId = this.getAttribute('data-target');
                var moreContent = document.getElementById(targetId);
                if (moreContent.style.display === "none" || moreContent.style.display === "") {
                    moreContent.style.display = "block";
                    this.textContent = "[Close]";
                } else {
                    moreContent.style.display = "none";
                    this.textContent = "[Learn More]";
                }
            });
        });

        function clearAll() {
            var inputMessage = document.getElementById('inputMessage');
            var shiftValue = document.getElementById('shiftValue');
            var result = document.getElementById('result');

            inputMessage.value = '';
            shiftValue.value = '';
            result.textContent = '';
        }

        document.addEventListener('DOMContentLoaded', function() {
            var navbar = document.querySelector('.navbar');
            window.onscroll = function() {
                if(window.scrollY > 50) {
                    navbar.classList.add('solid');
                } else {
                    navbar.classList.remove('solid');
                }
            };
        });

        window.onscroll = function () { scrollFunction(); };
        function scrollFunction() {
            if (document.body.scrollTop > 10 || document.documentElement.scrollTop > 20) {
                document.getElementById("backToTop").style.display = "block";
            } else {
                document.getElementById("backToTop").style.display = "none";
            }
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function adjustButton() {
            var button = document.getElementById('backToTop');
            if (window.innerWidth < 768) {
                button.innerHTML = '▲';
            } else {
                button.innerHTML = '回到顶端(<span class="highlight-key">B</span>)';
            }
        }

        window.onload = adjustButton;
        window.onresize = adjustButton;

        function copyCode(elementId) {
            var text = document.getElementById(elementId).innerText;
            var elem = document.createElement("textarea");
            document.body.appendChild(elem);
            elem.value = text;
            elem.select();
            document.execCommand("copy");
            document.body.removeChild(elem);

            // Optionnel: afficher une notification ou changer le texte du bouton
            // alert("Code copié !");
        }

        let shortcutsEnabled = true;

        function manageShortcuts(enable) {
            shortcutsEnabled = enable;
        }

        function handleKeyPress(event) {
            if (!shortcutsEnabled) {
                console.log('Shortcuts are disabled');
                return;
            }

            switch (event.key.toUpperCase()) {
                case 'E':
                    encode();
                    console.log('Encode triggered');
                    break;
                case 'D':
                    decode();
                    console.log('Decode triggered');
                    break;
                case 'A':
                    clearAll();
                    console.log('Clear All triggered');
                    break;
                case 'L':
                    setStyle('light-mode');
                    console.log('Light style activated');
                    break;
                case 'N':
                    setStyle('dark-mode');
                    console.log('Dark style activated');
                    break;
                case 'B':
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                    break;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const inputElements = document.querySelectorAll('#inputMessage, #shiftValue');
            inputElements.forEach(input => {
                input.addEventListener('focus', () => manageShortcuts(false));
                input.addEventListener('blur', () => manageShortcuts(true));
            });

            document.addEventListener('keydown', handleKeyPress);
        });
    </script>
</body>
</html>